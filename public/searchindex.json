[{
  "section": "Blog",
  "slug": "/logbook/site/blog/2024/06/pass-github-variable-to-packer-powershell-provisioner/",
  "title": "Pass a GitHub Actions secret variable to a Packer PowerShell provider",
  "description": "",
  "date": "June 17, 2024",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "Packer, GitHub",
  "tags": "Packer, GitHub",
  "content":"\rWith GitHub Actions you can automate the image deployment with Hashicorp Packer. It can be useful to pass a GitHub Actions (secret) variable to a PowerShell provisioner script in Hashicorp Packer. For example if you want to use an Azure storage Blob Shared Access Signature (SAS) URI as secret in a PowerShell script that downloads software from the Blob storage to the Packer image. The SAS token is read from the GitHub Actions secret variable and is not in clear text defined in the PowerShell script.\nThis looks as follows:\nPre-requested A working Packer configuration for image deployment Azure Storage blob account In this example we authenticate with a Azure Service Principal. More information can be found here SAS URI access key that grants access to the Blob storage.account. The SAS URI looks like this: https://ibeerens12354.blob.core.windows.net/\r?sv=2022-11-02\u0026amp;ss=b\u0026amp;srt=sco\u0026amp;sp=rwdrflaciytfx\u0026amp;23se=2024-05-25T19:30:13Z\u0026amp;st=2024-05-25T11:30:13Z\u0026amp;spr=https\u0026amp;sig=434 Steps Create a GitHub repository Create a repository secret with the name for example BLOBSAS and paste the SAS URI in the secret field. Configure the GitHub Action. As Packer GitHub Action I use the Setup HashiCorp Packer action Packer will read environment variables in the form of PKR_VAR_name to find the value for a variable. Add the 'PKR_VAR_blobsas=${{ secrets.BLOBSAS }}' to the packer build run section jobs: packer: runs-on: self-hosted name: Run Packer steps: - name: Checkout uses: actions/checkout@v4 - name: Setup `packer` uses: hashicorp/setup-packer@main id: setup with: version: ${{ env.PRODUCT_VERSION }} - name: Run `packer init` id: init run: \u0026#34;packer init ./packer/windows11.json.pkr.hcl\u0026#34; - name: Run `packer build` id: build run: \u0026#34;packer build -force -var-file=\u0026#39;./packer/variables.pkr.hcl\u0026#39; -var \u0026#39;client_id=${{ secrets.CLIENTID }}\u0026#39; -var \u0026#39;client_secret= ${{ secrets.CLIENTSECRET }}\u0026#39; -var \u0026#39;subscription_id=${{ secrets.SUBSCRIPTIONID }}\u0026#39; -var \u0026#39;tenant_id=${{ secrets.TENANTID }}\u0026#39; -var \u0026#39;PKR_VAR_blobsas=${{ secrets.BLOBSAS }}\u0026#39; \u0026#39;./packer/windows11.json.pkr.hcl\u0026#39;\u0026#34; In the Packer configuration add the following variable: variable \u0026#34;PKR_VAR_blobsas\u0026#34; { type = string } In the Packer configuration add the PowerShell provisioner, add an environment variable and point to the script to download the software. provisioner \u0026#34;powershell\u0026#34; { environment_vars = [\u0026#34;saskey=${var.PKR_VAR_blobsas}\u0026#34;] script = \u0026#34;./packer/scripts/DownloadSoftware.ps1\u0026#34; } In the DownloadSoftware.ps1 PowerShell script I use the Azcopy binary to download the software from the Azure storage blob to the Packer image. .\\azcopy.exe cp $Env:saskey \u0026#34;c:\\apps\\\u0026#34; --recursive Conclusion With these steps it is possible to pass variables from a GitHub Action inside a Packer PowerShell provisioner. This can be useful for passing secrets for example.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/blog/2024/06/the-latest-technology-news-may-2024/",
  "title": "The latest technology news - May 2024",
  "description": "",
  "date": "June 1, 2024",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "news",
  "tags": "news, azure, vmware, avd, w365, euc",
  "content":"Welcome to our monthly roundup of the hottest tech updates in the worlds of Microsoft Azure (Windows 365, Azure Virtual Desktop, Cloud PC, and infrastructure), VMware by Broadcom, Omnissa, GitHub, HashiCorp, Azure DevOps, and other partners. This series will have must-read articles, each offering a deep dive into these cutting-edge platforms\u0026rsquo; latest technological advancements, news, and trends.\nIn today’s fast-paced tech landscape, staying informed is key! That’s why we’re here to make it easy for you. Each month, we’ll handpick the most insightful and informative articles that covers:\nDAAS / VDI / End User Computing (EUC), Endpoint Management and Apps Cloud Virtualization Infrastructure As Code (IaC) /DevOps So let’s dive into this month\u0026rsquo;s top tech insights.\nDAAS / VDI / EUC / ENDPOINT / APPS MANAGEMENT Azure Virtual Desktop (AVD) AVD Community April newsLetters. Learn more Hibernation support now available for Azure Virtual Desktop. Learn more Cost Optimization for General Purpose VMs using Hibernation now Generally Available. Learn more Be aware of a possible breaking change if you are using remote apps and desktop groups with a single host pool. Learn more Enable Azure Monitor to take over from Log Analytics without interrupting your AzureVirtualDesktop cloud services. Learn more Configure the Clipboard Transfer direction in Azure Virtual Desktop (Preview) with Ansible. Learn more Starting with Bicep templates for Azure Virtual Desktop. Learn more Deploy Azure Virtual Desktop with Project BICEP. Learn more Windows 365 (W365) / CloudPC The latest weekly W365 newsletter. Learn more What\u0026rsquo;s new in Windows 365 Enterprise. Learn more What\u0026rsquo;s new in Windows 365 Business. Learn more What is Windows 365 Frontline? Learn more Learn more about AI-powered PCs and Windows 365 | Windows in the Cloud. Learn more Managing hybrid Windows 365 Cloud PCs. Learn more New book: Securing Cloud PCs and Azure Virtual Desktop: Your expert guide to implementing and optimizing security for Windows 365 and AVD infrastructure. Learn more Automating Cloud PC management tasks. Learn more VMware EUC / Horizon / Omnissa Weekly VMware Enduser Computing Updates by Julius Lienemann. Learn more Omnissa EUC Community page is live. Learn more VMware Horizon combined offerings with vSphere and vSAN will continue post divestiture. Learn more Important Information Regarding Horizon Licensing and vSphere Infrastructure Licensing for Horizon (6000014). Learn more Network placement of NVIDIA vGPU Licensing Client Configuration Token. Learn more Migrate a VMware App Volumes SQL Database. Learn more Using Automation to Create Optimized Windows Images for Horizon VMs. Learn more Intune Weekly Intune newsletter by Andrew Taylor. Learn more What’s new in Microsoft Intune May 2024. Learn more Windows deployment with the next generation of Windows Autopilot. Learn more Secure email with Intune Cloud PKI in less than 15 minutes. Learn more Remove Quick Assist (and other built-in apps) across your enterprise automatically using PowerShell and Microsoft Intune. Learn more Unlocking the Secrets of Intune Troubleshooting: A Deep Dive into Mastery. Learn more IntuneCLI, The newest way to control Intune in an automated way. Learn more OneDrive, are you there? It\u0026rsquo;s me, MFA. Learn more Intune Apps for Patch My PC Cloud preview feature demo. Learn more Microsoft Intune Autopilot Hybrid Entra ID (Azure AD) Join – The Complete Guide. Learn more Migrating from Configuration Manager (SCCM) to Intune and cloud-native devices. Learn more MSIX App Attach / WinGet How to submit a winget package to the package repository. Learn more FSLogix FSLogix 2210 hotfix 4 (2.9.8884.27471) released. Learn more FSLogix profile disk disconnected after 10 hours. Learn more Azure Storage IOPS Calculations with Azure Virtual Desktop and FSLogix. Learn more Teams The classic Teams for VDI will reach end of support on October 1, 2024, and end of availability on July 1, 2025. Learn more New Teams as an application in Vmware Horizon. Learn more Procedure for setting up the new Microsoft Teams on VDI W2022, W2019, W10 and W11 Multiuser platform. Learn more Other Patch My PC Public preview of Intune Apps. Learn more Microsoft Azure Microsoft 365 / AD Entra.News - Your weekly dose of Microsoft Entra. Learn more Microsoft will require MFA for all Azure users. Learn more Microsoft Entra ID Tenant Starters Guide: Understanding Identity Management and Licensing. Learn more Maester GitHub integration. Learn more Microsoft Azure John Savill\u0026rsquo;s Weekly Update. Learn more Azure Stack HCI - 2405 update. Learn more Update on Inter-Availability Zone Data Transfer Pricing. Learn more Azure Bastion Session Recording is a GAME CHANGER. Learn more Get started with Azure Cloud Shell ephemeral sessions. Learn more Public preview: Azure Bastion Premium. Learn more Demystifying Microsoft Entra ID, Tenants and Azure Subscriptions. Learn more Azure Quick Review (azqr). Learn more Advanced routing capabilities using Application Gateway Rewrite Rules. Learn more How to Create Your Own Blog Using Hugo and Azure Static Web Apps. Learn more How to Create a Secure SFTP Service Using Azure Storage Account and Make It Publicly Accessible. Learn more Azure Bastion Developer SKU, now GA, and it\u0026rsquo;s FREE!!. SKUs overview SKUs overview and Quickstart: Deploy Azure Bastion - Developer SKU Dealing with allocation issues in Azure? Learn more Why Are There So Many Default Routes In Azure? Learn more Azure Monitor Agent Migration for Azure Arc-Enabled Server. Learn more Contributing to open source Microsoft Docs. Learn more Azure Migrate - Import servers running in a VMware environment with RVTools. Learn more Migrate now or face disaster! Learn more Windows Windows Server 2025 is available in public preview for download. Learn more VMware by Broadcom Microsoft and Broadcom to support license portability for VMware Cloud Foundation on Azure VMware Solution. Learn more VMware Tools 12.4 Release Notes. Learn more VMware Desktop Hypervisor Pro Now free Available for Personal Use. Learn more VMware by Broadcom Flings website. Need a free BroadCom community account. Learn more Exciting Updates to the VMware Certification Program. No more prerequisites, flat $250 exam fees, and new badges—all starting today.! Learn more Creating an offline VMware Cloud Foundation (VCF) Depot for multiple VCF environments. Learn more Infrastructure as Code (IaC) / DevOps General Lessons learned: Infrastructure as Code with Jack Tracey. Learn more Terraform vs. Crossplane vs. Ansible - Rivals or Allies? Learn more GitHub A brief introduction to Git for beginners | GitHub. Learn more Boost GitHub Actions Efficiency with Path Filters: Only run when specific files or paths are updated. Learn more Code to Cloud, GitHub Deep Dive: Codespaces, Copilot, \u0026amp; Advanced Security. Learn more GitHub Actions Certification – Full Course to PASS the Exam. Learn more GitHub Actions Importer. This tool helps plan, test, and automate your migration to GitHub Actions from platforms such as Azure DevOps. Learn more Hashicorp Terraform Terraform on Azure May 2024 Update. Learn more Terraform Development Pipeline. Learn more Terraform Authoring and Operations Professional Certification - PREVIEW. Learn more Terraforming Resiliency on Azure (PART 2): Availability Sets and Fault Domains. Learn more Terraforming Resiliency on Azure (PART 3): Virtual Machine Scale Set (FLEX). Learn more PowerShell / Azure Cloud Shell / Bicep Azure Bicep Cheat Sheet. Learn more Using Automation To Elevate Your Code Creation by Dan Hills. Learn more Important update: Deprecation of Azure AD PowerShell and MSOnline PowerShell modules. Learn more Bicep Custom Script Extension: Maximizing Deployment Efficiency. Learn more Other Running CBL-Mariner 2.0 Azure Linux on Hyper-V for Docker Container Host and Azure CLI. Learn more Quickstart: Create Bicep files with Visual Studio Code. Learn more Bash: Shortcuts and Scripting Tutorial for Linux | Into the Terminal 108. Learn more Proxmox Zero to HomeLab Hero: An Automation Odyssey with PROXMOX! Learn more Veeam Extends Data Freedom for Customers with Support for Proxmox VE. Learn more Upcomming Events AVD Tech Fest 24-25 September 2024, Amsterdam. Learn more AppManagEvent 11 Oktober 2024, Utrecht NL. Learn more "},{
  "section": "Blog",
  "slug": "/logbook/site/blog/2024/05/the-latest-technology-news-april-2024/",
  "title": "The latest technology news - April 2024",
  "description": "",
  "date": "May 1, 2024",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "news",
  "tags": "news, azure, vmware, avd, w365, euc",
  "content":"Welcome to our monthly roundup of the hottest tech updates in the worlds of Azure (Windows 365, Azure Virtual Desktop, Cloud PC. infrastructure), VMware (SDDC and EUC), GitHub, HashiCorp, Azure DevOps and other partners. In this series, we’ll have a collection of must-read articles, each offering a deep dive into the latest technological advancements, news, and trends within these cutting-edge platforms.\nWe understand that in today’s fast-paced tech landscape, staying informed is key! That’s why we’re here to make it easy for you. Each month, we’ll handpick the most insightful and informative articles that covers:\nDAAS / VDI / End User Computing (EUC) and Endpoint management Cloud Virtualization Infrastructure As Code (IaC) /DevOps So let’s dive into this month\u0026rsquo;s top tech insights.\nDAAS / VDI / EUC / ENDPOINT / APPS MANAGEMENT Azure Virtual Desktop (AVD) AVD Community April newsLetters. Learn more Unveiling the True Cost: Single-User vs. Multi-User Sessions in Microsoft Azure Virtual Desktop. Learn more Curated resiliency recommendations for Azure Virtual Desktop. Learn more Azure Virtual Desktop for Azure Stack HCI. Learn more Azure Virtual Desktop for Azure Stack HCI now has autoscale. Learn more Use Custom Image Templates in Azure Virtual Desktop and never patch session hosts again? Learn more Create a scaling plan for a personal host pool with Terraform. Learn more How to configure the URI Scheme for AVD. Learn more Roll your own AVD on HCI deployment – Part 1: The Gear. Learn more Roll your own AVD on HCI deployment – Part 2: The Plan \u0026amp; Identity. Learn more Roll your own AVD on HCI deployment – Part 3: The Deployment. Learn more Roll your own AVD on HCI deployment – Part 4: Turn it up! Learn more Maximizing Cost Savings: Azure Virtual Desktop Hibernation Mode Explained. Learn more Citrix vs Azure Virtual Desktop on-premises what’s the cost difference? Learn more Windows 365 (W365) / CloudPC The latest weekly W365 newsletter. Learn more What\u0026rsquo;s new in Windows 365 Enterprise. Learn more What\u0026rsquo;s new in Windows 365 Business. Learn more What is Windows 365 Frontline? Learn more HP Anyware extends Windows 365 Cloud PCs to new audiences. Learn more Learning path: MD-015 Implement Windows 365 Cloud PCs. Learn more Introduction Graph APIS for Windows 365. Learn more Windows in the Cloud episodes. Learn more Windows 365 A Deep Dive \u0026amp; Sneak Preview. Learn more VMware EUC / Horizon / Omnissa Introducing Omnissa, the former VMware End-User Computing business. Learn more System Migration Changes Impacting Workspace ONE and Horizon Customers (97841). Learn more VMware End-User Computing TechCon 2024 June 26, 2024. Learn more VMware Enduser Computing Updates. Learn more EUC weekly news blog. Learn more Omnissa EUC can continue to offer the \u0026ldquo;combined offering\u0026rdquo; versions of Horizon SaaS and Horizon Term licenses with vSphere foundation for VDI (vSphere, vCenter and vSAN). Learn more Support and Configuration of New Teams as a Horizon Published App (97785). Learn more Issue with DEM FTA and Default Browser settings post applying Feb24/March24 Monthly windows patches(KB5035845) (97169). Learn more Intune Andrew Taylor weekly Intune newsletter. Learn more What’s new in Microsoft Intune: April 2024. Learn more What\u0026rsquo;s new in Microsoft Intune (2403+2404). Learn more IntuneManagement with PowerShell and WPF UI. Learn more OpenIntuneBaseline. This baseline was to develop a single-import \u0026ldquo;policy set\u0026rdquo; which covered all necessary configuration to provide a secure Windows device with minimal engineering effort. Learn more PSADT Deployment Editor. Learn more IntuneAssistant IntuneCLI updates. Learn more MSIX App Attach / WinGet Release notes for the MSIX Packaging Tool. Learn more Teams Features currently not available and known issues in VDI with the new Teams. Learn more Other The DAASLIKEAPRO – State of the Union 2024 – 2025 survey is now open. Learn more Unlock the Future of End-User Computing with the EUC Hexagrid by Ruben Spruijt. Learn more Microsoft Azure Microsoft 365 / AD You can add (up to 5) additional *.onmicrosoft.com fallback domains in Microsoft 365. Learn more All Roads to Entra ID SSO. Learn more Introducing \u0026ldquo;What\u0026rsquo;s New\u0026rdquo; in Microsoft Entra. Learn more Group writeback with Microsoft Entra Cloud Sync (Preview). Learn more Conditional Access Framework. Learn more Automate your onboarding with Power Automate Part 2. Learn more Microsoft Azure New and improved network topology experience in Network Watcher and Azure Monitor Network Insights. Learn more Network traffic observability with virtual network flow logs. Learn more Implementing a Sandbox Environment in Microsoft Azure. Learn more Azure Academy - Log Analytics agent will be deprecated by Augstus 2024. Learn more Deploying a Hub \u0026amp; Spoke with Azure Network Manager. Learn more How to Build Resilient Systems on Azure. Learn more Fault Domains vs. Availability Zones with Azure VMs.Learn more Windows Windows Server 2025: The upgrade and update experience. Learn more Automate on-premises Windows Server from the cloud using Azure Arc. Learn more Microsoft options for VMware migration. Learn more Cloud operations for Windows Server through Azure Arc. Learn more What\u0026rsquo;s new in Windows Server 2025. Learn more Plan for Hyper-V scalability in Windows Server. Learn more Reducing Windows 10, version 22H2 monthly LCU package size. Learn more Want to keep Windows 10 secure? This is how much Microsoft will charge you. Learn more VMware by Broadcom Zero Day (i.e., Critical) Security Patches for vSphere (7.x and 8.x) Perpetual License Customers with Expired Support Contracts (97805). Learn more VMware to Broadcom Support Transition Guide. Learn more VMware Support Transition to Broadcom. Learn more 32-bit Windows VMs fail to boot after Windows Security Update (CVE-2023-24932) (97541). Learn more Ansible Playbook for Creating Multiple VMs with Sequential Naming in vCenter.Learn more The Beta release of the new VMware Host Client is available. Learn more VMware Cloud Foundation 5.x Posters! Learn more Infrastructure as Code (IaC) / DevOps GitHub Unleashing GitHub Copilot for Infrastructure as Code. Learn more What\u0026rsquo;s new in GitHub blog. Learn more The GitHub Community Roundup. Learn more How to glitz up your GitHub profile and advance your career. Learn more GitHub Foundations Certification – Exam Prep Guide. Learn more What’s new for GitHub Actions hosted runners. Learn more Hashicorp IBM is acquiring HashiCorp. Learn more HashiDays Munich, 6 June 2024. Learn more HashiTalks 2024 on-demand recordings. Learn more Hashicorp Terraform Terraform 1.8 released. Learn more Terraform 1.8: Provider Defined Functions with Bruno Schaatsbergen. Learn more Using Terraform tfvars for environment-agnostic deployments. Learn more Terraform – Removing Orphaned Session Hosts from an Azure Virtual Desktop Hostpool Learn more Terraform Authoring and Operations Professional Certification - PREVIEW. Learn more Terraforming Azure: Boldly Going Beyond \u0026lsquo;azurerm\u0026rsquo; with Mark Tinderholt. Learn more Hashicorp Packer HashiCorp Packer – azure-arm and Domain-Join Issue with WinRM. Learn more Packer – Azure CLI authentication. Learn more PowerShell / Azure Cloud Shell / Bicep Master Azure Bicep Modules: A Comprehensive Guide. Learn more Announcing a new login experience with Azure PowerShell and Azure CLI. Learn more Configure federated identity between GitHub and Azure with PowerShell. Learn more Report from which PowerShell module the cmdlets are from. Learn more Document All Azure Private DNS Zones. Learn more Your first contribution to Azure Verified Modules. Learn more Unlocking Secrets: A Guide to Windows Credential Manager in PowerShell. Learn more Other Build your Microsoft MSBuild calendar today. Learn more VS Code - Become more productive. Learn more Proxmox What\u0026rsquo;s new in Proxmox VE 8.2. Learn more Proxmox vs ESXi in 2024 Pros and Cons. Learn more "},{
  "section": "Blog",
  "slug": "/logbook/site/blog/2024/04/create-a-windows-developer-environment/",
  "title": "Create a local Windows development environment",
  "description": "",
  "date": "April 3, 2024",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "development, hashicorp, iac",
  "tags": "development, hashicorp, winget, iac",
  "content":"As a development environment, I frequently use a Windows Virtual Machine (VM). This VM can be hosted on different platforms such as VMware (ESXi/Workstation or Fusion), Hyper-V, or Azure for example. I created a couple of PowerShell scripts to install the tools and extensions I need for creating and updating my Terraform, Packer, Bicep, and PowerShell scripts.\nTo install a local development environment I have defined 3 steps: 1. Install the Windows Subsystem for Linux (WSL). WSL enables to to run Linux distribution(s) on Windows. Default Ubuntu is enabled with the WSL. 2. Install the software packages. 3. Install the Visual Studio Code Extensions.\nEach step is explained below:\n1. Install the Windows Subsystem for Linux (WSL) For WSL you need to enable Hardware Virtualization - [V] Expose hardware assisted virtualization to the guest OS option in the CPU properties on the VM configuration in VMware ESXi for example.\nInstall WSL (Run as Administrator) Enter the following command: wsl --install Reboot the VM After the reboot the post WSL configuration will be performed. Enter the username and password for the Ubuntu VM. If you forgot to enable Hardware Virtualization the following error will be displayed:\nLaunching Ubuntu\u0026hellip; Installing, this may take a few minutes\u0026hellip; WslRegisterDistribution failed with error: 0x80370102 Please enable the Virtual Machine Platform Windows feature and ensure virtualization is enabled in the BIOS. For information please visit https://aka.ms/enablevirtualization Check the WSL version\nEnter the following command: wsl -l -v NAME STATE VERSION\r* Ubuntu Running 2 2. Install the software packages Run the _2-install-packages.ps1 PowerShell script as Administrator. The following software (latest versions) are installed:\nWinGet Azure CLI Docker Desktop Visual Studio Code PowerShell 7 Microsoft Windows Terminal Git Microsoft Bicep Hashicorp Terraform Hashicorp Packer Hashicorp Vault GitHub CLI GitHub Desktop Azure Export for Terraform Az PowerShell Modules VMware PowerCLI Microsoft Graph SDK When the script has finished, reboot the VM.\nRun the _2-install-packages.ps1 script.\n\u0026lt;# .TITLE Install packages .AUTHOR Ivo Beerens www.ivobeerens.nl .DESCRIPTION PowerShell script that enables .NOTES Run as Administrator Find WinGet packages: https://winget.run/ .VERSIONS 1.0 19-04-2024 Creation #\u0026gt; # Variables $downloadfolder = \u0026#34;c:\\temp\\apps\\\u0026#34; $ProgressPreference = \u0026#39;SilentlyContinue\u0026#39; # Enable TLS 1.2 [Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12 # Create Folder Write-Host \u0026#34;Create Temp folder: $downloadfolder\u0026#34; $checkdir = Test-Path -Path $downloadfolder if ($checkdir -eq $false){ Write-Host \u0026#34;Creating \u0026#39;$downloadfolder\u0026#39; folder\u0026#34; New-Item -Path $downloadfolder -ItemType Directory | Out-Null } # Install the latest Windows Package Manager (WinGet) version $winget = Get-AppPackage -name \u0026#39;Microsoft.DesktopAppInstaller\u0026#39; if(!$winget) { Write-Host \u0026#34;Install WinGet\u0026#34; Invoke-WebRequest -Uri https://www.nuget.org/api/v2/package/Microsoft.UI.Xaml/2.8.6 -OutFile $downloadfolder\u0026#34;microsoft.ui.xaml.2.8.6.nupkg\u0026#34; Rename-Item -Path $downloadfolder\u0026#34;microsoft.ui.xaml.2.8.6.nupkg\u0026#34; -NewName $downloadfolder\u0026#34;microsoft.ui.xaml.2.8.6.zip\u0026#34; -Force Expand-Archive -path $downloadfolder\u0026#34;microsoft.ui.xaml.2.8.6.zip\u0026#34; -DestinationPath $downloadfolder Add-AppxPackage -Path $downloadfolder\u0026#34;tools\\AppX\\x64\\Release\\Microsoft.UI.Xaml.2.8.appx\u0026#34; Add-AppxPackage -Path $downloadfolder\u0026#34;tools\\AppX\\x86\\Release\\Microsoft.UI.Xaml.2.8.appx\u0026#34; # List the Xaml versions # Get-Appxpackage Microsoft.UI.Xaml.2.8 -allusers | Select-Object Name, Architecture Invoke-WebRequest -Uri https://aka.ms/getwinget -OutFile $downloadfolder\u0026#34;Microsoft.DesktopAppInstaller_8wekyb3d8bbwe.msixbundle\u0026#34; Invoke-WebRequest -Uri https://aka.ms/Microsoft.VCLibs.x64.14.00.Desktop.appx -OutFile $downloadfolder\u0026#34;Microsoft.VCLibs.x64.14.00.Desktop.appx\u0026#34; Add-AppxPackage $downloadfolder\u0026#34;Microsoft.VCLibs.x64.14.00.Desktop.appx\u0026#34; Add-AppxPackage $downloadfolder\u0026#34;Microsoft.DesktopAppInstaller_8wekyb3d8bbwe.msixbundle\u0026#34; # Get-AppxPackage Microsoft.VCLibs.140.00 -allusers Write-Host \u0026#34;Winget Installed\u0026#34; winget -v } else { Write-Host \u0026#34;Winget already installed\u0026#34; } # Install Azure CLI Invoke-WebRequest -Uri https://aka.ms/installazurecliwindows -OutFile $downloadfolder\\AzureCLI.msi Set-Location $downloadfolder Start-Process msiexec.exe -Wait -ArgumentList \u0026#39;/I AzureCLI.msi /quiet\u0026#39; # Install Winget Packages # Find packages: https://winget.run/ $processlist = @( \u0026#34;Docker.DockerDesktop\u0026#34;, \u0026#34;Microsoft.VisualStudioCode\u0026#34;, \u0026#34;Microsoft.PowerShell\u0026#34;, \u0026#34;Microsoft.WindowsTerminal\u0026#34;, \u0026#34;Git.Git\u0026#34;, \u0026#34;Microsoft.Bicep\u0026#34;, \u0026#34;Hashicorp.Packer\u0026#34;, \u0026#34;Hashicorp.Terraform\u0026#34;, \u0026#34;GitHub.cli\u0026#34;, \u0026#34;GitHub.GitHubDesktop\u0026#34;, \u0026#34;JGraph.Draw\u0026#34;, \u0026#34;Notepad++.Notepad++\u0026#34; \u0026#34;Microsoft.Azure.AztfExport\u0026#34; ) foreach ($item in $processlist) { Winget install -e --id $item --accept-source-agreements --accept-package-agreements } # Upgrade all the other packages Winget upgrade --all --accept-source-agreements --accept-package-agreements # AZ Powershell modules # PowerShell 5 Install-PackageProvider -Name \u0026#34;NuGet\u0026#34; -RequiredVersion \u0026#34;2.8.5.208\u0026#34; -Confirm:$false -Force Install-Module -Name PowerShellGet -Force Install-Module -Name Az -Repository PSGallery -Force # Install VMware PowerCLI Install-Module VMware.PowerCLI -AllowClobber -Force # Install the Microsoft Graph PowerShell SDK Install-Module Microsoft.Graph -Scope AllUsers -Force # Get an overview of all installed PowerShell modules # Get-InstallModule # Remove downloadfolder Remove-Item $downloadfolder -Recurse -Force 3. Install the Extensions needed for Visual Studio The _3_Install-vsc-ext.ps1 PowerShell script installs the Visual Studio Code Extensions and sets the GitHub username and email address.\nThe following Visual Studio Code Extensions are installed: Azure Account Azure CLI Tools Azure Terraform GitHub Actions Gitignore Hashicorp HCL Hashicorp Terraform Markdownlint PowerShell WSL Docker Dev Containers Run the _3_Install-vsc-ext.ps1 script.\n\u0026lt;# .TITLE Install Visual Studio Code Extensions Set the Git username and email address .AUTHOR Ivo Beerens www.ivobeerens.nl .DESCRIPTION Install Visual Studio Code Extensions .NOTES Install VS Code extensions List existing extensions: code --list-extensions Extensions are stored in: %USERPROFILE%\\.vscode\\extensions .VERSIONS 1.0 19-04-2024 Creation #\u0026gt; # Variables $git_usernane = \u0026#34;Ivo Beerens\u0026#34; $git_password = \u0026#34;info@ivobeerens.nl\u0026#34; $processlist = @( \u0026#34;github.vscode-github-actions\u0026#34;, \u0026#34;hashicorp.hcl\u0026#34;, \u0026#34;hashicorp.terraform\u0026#34;, \u0026#34;ms-azuretools.vscode-azureterraform\u0026#34;, \u0026#34;ms-vscode.azure-account\u0026#34;, \u0026#34;ms-vscode.azurecli\u0026#34;, \u0026#34;ms-vscode.azurecli\u0026#34;, \u0026#34;ms-vscode.powershell\u0026#34;, \u0026#34;codezombiech.gitignore\u0026#34;, \u0026#34;davidanson.vscode-markdownlint\u0026#34;, \u0026#34;eamodio.gitlens\u0026#34;, \u0026#34;ms-vscode-remote.remote-containers\u0026#34;, \u0026#34;ms-vscode-remote.remote-wsl\u0026#34; ) foreach ($item in $processlist) { code --install-extension $item } # Configure Git credentials git config --global user.name $git_usernane git config --global user.email $git_password Testing the Azure login With the az command you can login to Azure and set the active subscription. Here are the commands.\nLogin to Azure az config set core.allow_broker=true\raz account clear\raz login List the active Subscription az account list -o table\nSet Subscription az account set --subscription \u0026lt;subscription_id\u0026gt;\nConclusion These scripts can be customized to deploy the software you need in your local development environment. You can automate the OS deployment by using Packer for example and run these scripts automatically to fully automate your local developer environment.\nThese scripts can be found on my GitHub repository.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/blog/2024/04/the-latest-technology-news-march-2024/",
  "title": "The latest technology news - March 2024",
  "description": "",
  "date": "April 3, 2024",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "news",
  "tags": "news, azure, vmware, avd, w365, euc",
  "content":"Welcome to our monthly roundup of the hottest tech updates in the worlds of Azure (Windows 365, Azure Virtual Desktop, Cloud PC. infrastructure), VMware (SDDC and EUC), GitHub, HashiCorp, Azure DevOps and other partners. In this series, we’ll have a collection of must-read articles, each offering a deep dive into the latest technological advancements, news, and trends within these cutting-edge platforms.\nWe understand that in today’s fast-paced tech landscape, staying informed is key! That’s why we’re here to make it easy for you. Each month, we’ll handpick the most insightful and informative articles that covers:\nCloud Virtualization Infrastructure As Code (IaC) /DevOps DAAS - End User Computing (EUC) and Endpoint management So let’s dive into this month\u0026rsquo;s top tech insights:\nDAAS / VDI / EUC / ENDPOINT / APPS MANAGEMENT Azure Virtual Desktop (AVD) AVD Community NewsLetters. Learn more Azure Virtual Desktop (AVD) Session Host Replacer. Learn more Monitoring \u0026amp; Insights for Windows 365 and Azure Virtual Desktop. Learn more Azure automated image build. Learn more Azure Virtual Desktop - Remove Expired Personal Session Hosts. Learn more Azure Monitor Baseline Alerts. Learn more AVD on Azure Stack HCI. Learn more Connect to Azure Virtual Desktop via Microsoft Entra Private Access. Learn more Passwordless SSO for Azure Virtual Desktop \u0026amp; Windows 365 Deep Dive. Learn more Azure Virtual Desktop on HCI - The Dell Sizing Guide. Learn more Azure Virtual Desktop service architecture and resilience. Learn more Introducing Azure Virtual Desktop workload in Azure Stack HCI Sizer! Learn more Configure the clipboard transfer direction and types of data that can be copied in Azure Virtual Desktop. Learn more AVD DrainMode dependent on Compliance. Learn more Windows 365 (W365) / CloudPC The latest weekly W365 newsletter. Learn more What\u0026rsquo;s new in Windows 365 Enterprise. Learn more What\u0026rsquo;s new in Windows 365 Business. Learn more Using Thin Clients to connect to W365 or AVD. Learn more VMware Horizon VMware End-User Computing TechCon 2024 ticket available. Learn more What\u0026rsquo;s Next for VMware\u0026rsquo;s Former End User Computing Division? Learn more VMware Enduser Computing Updates. Learn more EUC weekly news blog. Learn more In-depth User Inactivity Analysis for VMware Horizon Environment. Learn more VMware App Volumes 4, version 2312 Release Notes. Learn more Microsoft Store Apps stop working in VDI after applying Microsoft Monthly Patch (KB5034763) (97111). Learn more Intune Andrew Taylor weekly Intune newsletter. Learn more What’s new in Microsoft Intune March 2024. Learn more Implement Evergreen using Winget-AutoUpdate-aaS for Intune managed Windows 11 Endpoints. Learn more Why Does Group Policy Analytics Matter In Microsoft Intune? Learn more Win32AppMigrationTool 2.0.20. Win32AppMigrationTool is designed to export the Application and Deployment Data from ConfigMgr to firstly create an .intunewin file and secondly publish the Win32App to Intune. Learn more How to silently create an Autopilot Hardware Hash in WinPE and upload the Hash unattended using Symantec ITMS. Learn more The World of Packaging. Learn more MSIX App Attach / WinGet TMEditX 4.2 Release Finalized. Learn more MSIX app attach and app attach in Azure Virtual Desktop. Learn more FSLogix Don’t Let Antivirus Impact FSLogix Performance. Learn more Teams Use Group Policy to control the installation of Microsoft Teams. Learn more Outlook presence integration with New Teams in Windows Server 2019. Learn more New Microsoft Teams on Horizon VDI - Known Issues and resolutions (95838). Learn more Other PSAppDeployToolkit 101 webinar. Learn more PSAppDeployToolkit 3.10.0 released. Learn more Microsoft Azure Microsoft 365 / AD Important update: Azure AD Graph API retirement. Learn more Users Can No Longer Create a Free Microsoft E5 Developer Tenant. Learn more Removing Active Directory? Here’s What to Consider First. Learn more End of availability for classic Teams client. Learn more Microsoft Azure Custom DHCP support in Azure. Learn more Storage Assessment Beginners Guide. Learn more Installing Azure Stack HCI 23H2 in VMs (Part1). Learn more Installing Azure Stack HCI 23H2 in VMs (Part2). Learn more Azure Network Subnetting made easy. Learn more Find an available address space in your Azure landing zone. Learn more Azure Storage Account Shared Access Signature (SAS) Token Expiring Alert Solution. Learn more Azure Verified Modules Overview. Learn more Azure Service Health Workbook. Learn more Mastering Azure Cost Optimization - A Comprehensive Guide. Learn more Is performance guaranteed on an Azure VM at all times? Learn more Windows Windows Server Summit 2024. Three days with on demand sessions, demos and Q\u0026amp;A. Learn more The Future of Windows Server Hyper-V is Bright!. Learn more Bring Active Directory to the next level with Windows Server 2025. Learn more Windows message center recent announcements. Learn more Windows Defender Common mistakes during Microsoft Defender for Endpoint (MDE) deployments. Learn more VMware by Broadcom Announcing General Availability of VMware Cloud Foundation 5.1.1. Learn more What’s New for VMware Validated Solutions – Edition #23 (March 2024). Learn more VMware ESXi 8.0 Update 1d Release Notes. Learn more VMware ESXi 7.0 Update 3p Release Notes. Learn more VMware Tools 12.4.0. released. Learn more Infrastructure as Code (IaC) / DevOps Draw.io Azure infrastructure diagrams through code like an artist. Learn more Azure DevOps DevOps Done Right: Secure Terraform on Azure. Learn more New Breakpoint S3 Ep18: Unlock the Power of Windows Development with Scott Hanselman. Learn more TheYAMLPipelineOne, housing YAML templates for Azure DevOps (ADO) Pipelines. Learn more Getting Started With: Azure Verified Modules. Learn more Creating your first pipeline with Azure DevOps. Learn more Azure Terraformer: Automate the Automation! Learn more GitHub GitHub Copilot Enterprise – March 2024 update. Learn more Introduction to GitHub and its Certifications Learn more Creating your first GitHub Repo. Learn more Intro to GitHub Copilot in Visual Studio. Learn more GitHub Actions Quick Start. Learn more New book: GitHub Actions in Action. Learn more NOW AVAILABLE worldwide: GitHub Certifications. Learn more Creating a custom Dev Container for your GitHub Codespace to start with Terraform on Azure. Learn more Installing HashiCorp tools in Alpine Linux containers. Learn more How to build your first Devcontainer. Learn more Hashicorp Vault HashiCorp Live: Getting into Vault. Learn more Hashicorp Terraform Terraform Weekly. Learn more How to generate Terraform configurations with Microsoft Azure. Learn more Mastering Terraform State Security on Azure: A Live Q\u0026amp;A Breakdown. Learn more Should .terraform.lock.hcl be included in the .gitignore file? Learn more PowerShell / Azure Cloud Shell WinRM vs. OpenSSH: A Showdown for PowerShell Remoting - Paul Broadwith - PSConfEU 2023. Learn more Azure PowerShell Tips and Tricks. Learn more NVIDIA NVIDIA License System v3.3.0. Learn more Proxmox New Import Wizard Available for Migrating VMware ESXi Based Virtual Machines. Learn more "},{
  "section": "Blog",
  "slug": "/logbook/site/blog/2024/03/prepare-for-the-github-foundations-exam/",
  "title": "Prepare for the GitHub Foundations exam",
  "description": "",
  "date": "March 20, 2024",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "github, git",
  "tags": "github, git, exam",
  "content":"In january 2024 GitHub launched his certification program. There are 4 certifications available:\nGitHub Foundations. Designed to introduce learners new to the GitHub platform fundamental concepts and products of GitHub. GitHub Actions. Designed to learn how to build CI/CD pipelines, manage GitHub Actions for enterprises. GitHub Advanced Security (GHAS). Designed to teach you how to secure your code with advanced security features at every stage of your development lifecycle. GHAS is specific to GitHub Enterprise! GitHub Administration. Designed to teach you everything you need to maintain a healthy, robust, and secure GitHub environment that supports the needs of your organization. The first exam I prepared for is the GitHub Foundations exam.\nI passed the exam on march 23, 2024.\nHere is a collection o# f resources I used to prepare for the GitHub Foundations exam.\nName Description Link GitHub Certifications overview Overview of the Github Exams and registration page link Exam registration GitHub exam registration link Study guide GitHub Foundations study guide link GitHub Foundations Learning Path GitHub learning modules link GitHub Skills Learn to use GitHub with interactive courses link GitHub Certification Fundamentals events 4 sessions available on Microsoft Reactor link GitHub Certified tests Free GitHub practice tests link Exam Pro GitHub Foundations training Exam Pro GitHub Foundations training Created by Andrew Brown link GitHub Foundations Certification Course Pass the exam in 10 hours! GitHub Foundations Certification Course Pass the exam in 10 hours! Created by Andrew Brown link Udemy GitHub Foundations Certification Practice Exam 2024 4 GitHub Foundations Practice Exams Created by Bryan Krausen link If you have other resources for preparing let me know!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/blog/2024/02/the-latest-technology-news-february-2024/",
  "title": "The latest technology news - February 2024",
  "description": "",
  "date": "March 1, 2024",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "news",
  "tags": "news, azure, vmware, avd, w365, euc",
  "content":"Welcome to our monthly roundup of the hottest tech updates in the worlds of Azure (Windows 365, Azure Virtual Desktop, Cloud PC. infrastructure), VMware (SDDC and EUC), GitHub, HashiCorp, Azure DevOps and other partners. In this series, we’ll have a collection of must-read articles, each offering a deep dive into the latest technological advancements, news, and trends within these cutting-edge platforms.\nWe understand that in today’s fast-paced tech landscape, staying informed is key. That’s why we’re here to make it easy for you. Each month, we’ll handpick the most insightful and informative articles that cover everything from Cloud, virtualization, Infrastructure As Code (IaC), and DevOps to DAAS - End User Computing - Endpoint management breakthroughs.\nSo let’s dive into this month\u0026rsquo;s top tech insights:\nDAAS / VDI / EUC / ENDPOINT / APPS MANAGEMENT The World of EUC (WEUC). A new community that brings together all EUC industry folks. Learn more Azure Virtual Desktop (AVD) AVD Community NewsLetters. Learn more Azure Stack HCI - Azure Virtual Desktop made easy with Hydra feat. Marcel Meurer.Learn more AVD Thin Client Auto Login. Learn more Why Azure Image Builder - Getting Started. Learn more Find specific Azure Virutal Desktop assigned user. Learn more Resolving Authentication Loop with single sign-on for Azure Virtual Desktop using Microsoft Entra ID Authentication. Learn more AVD Image Patching via DevOps/Packer. Learn more How to Run Azure Virtual Desktop On-premises with Azure Stack HCI. Learn more How to Review and Search AVD Insights Data. Learn more Sign-in to your Azure Virtual Desktop using a passkey on a YubiKey from your iPhone. Learn more How to Configure a Conditional Access Policy for AVD. Learn more Upgrade to new Teams for Virtualized Desktop Infrastructure (VDI). Learn more Windows 365 (W365) / CloudPC The latest weekly W365 newsletter. Learn more Windows 365 Boot: Shared Mode. Learn more Windows 365: tools, tips \u0026amp; tricks. Learn more New Windows 365 Boot and Switch features now available. Learn more VMware Horizon End-User Computing Division of Broadcom embraces its future as a standalone business. Learn more Unpacking Horizon 8 2312: New features deliver advances in performance, security, operations, and experience. Learn more VMwware Enduser Computing Updates. Learn more EUC Blog newsletters. Learn more Horizon 8 Frequently Asked Questions (FAQs). Learn more How to enable the FPS indicator in VMware Horizon. Learn more Recursive Unlock Feature with Screensaver (96381). Learn more Horizon 2312, new feature to simplify the Gold Image Linux Configuration – BIOLNX. Learn more Securing your VDI Deployment. Learn more Deploying Horizon 8 and True SSO in Multi-Forest Environments. Learn more Intune Andrew Taylor weekly Intune newsletter. Learn more Daniel Engberg weekly newsletter. Learn more Free Microsoft Intune fundamentals training. Learn more How to centrally deploy PowerShell Modules using Microsoft Intune and PSADT to Windows devices? Learn more Overview of Microsoft Cloud PKI for Microsoft Intune. Learn more Microsoft Cloud PKI: SCEPman Killer? Learn more Microsoft Intune Suite - beyond endpoint management in 2024. Learn more Mastering app Installation visibility with Microsoft Intune: Dive into ServiceUI and User notifications. Learn more Getting started with Enterprise App Management. Learn more The Intune suite guide 2024. Learn more Testing Microsoft Intune software packages in the Windows System context: A crucial step for smooth and validated deployments. Learn more Guidelines for Installing Microsoft PC Manager from New Microsoft Store in Intune. Learn more MSIX App Attach / WinGet What\u0026rsquo;s new in MSIX: February 2024. Learn more WinGet is freaking awesome! Learn more Comparing Package Managers. Learn more Windows Package Manager 1.7.10582 releaed. Learn more Community AppAttach Jim Moyle script. Learn more New MSIX App Attach functionality in AVD with Jim Moyle. Learn more TMEditX 4.1 Release. Learn more The Future of MSIX and Applications in 5 Years W/ Tim Mangan. Learn more FSLogix FSLogix error code 0x0000052E. Learn more Announcing general availability of FSLogix 2210 hotfix 3! Learn more New Teams on Windows Server 2019 currently isn\u0026rsquo;t compatible with FSLogix and fails to launch. Learn more Repair all FSLogix Profiles using PowerShell (or any VHDX files). Learn more Azure Microsoft 365 / AD Microsoft 365 Admin Monthly Digest – Feb 2024. Learn more Weekly MS Entra latest news newsletter. Learn more M365Documentation, Automatic Documentation of M365 to simplify the life of admins and consultants. Learn more Block ADDS Domain Join of Computers for Domain Users. Learn more Analyzing User Privileges in Azure based on activity. Learn more Creating your first Microsoft 365 (MFA) Conditional Access Policy. Learn more Microsoft Azure Azure Stack HCI version 23H2 is generally available. Learn more Azure Stack HCI Insider - February 2024. Learn more Hyper-V VM Migration to Azure Stack HCI, version 23H2. Learn more John Savill\u0026rsquo;s weekly Azure Infrastructure Updates. Learn more Azure Deprecations Board. Learn more Azure Virtual Network now supports updates without subnet property. Learn more Azure Spring Clean 2024 agenda. Learn more Migrate VMs to Azure Stack HCI. Learn more Understanding Group Policies: User Rights Assignment Policies. Learn more Azure Naming Tool released. Learn more Step by Step Practical Guide to Architecting Cloud Native Applications. Learn more Choose an Azure container service. Learn more Azure architecture icons. Learn more Azure Design Visio stencil collection. Learn more IPv6 hub-spoke network topology. Learn more Test your Patches! A Staged Patching Solution with Azure Update Manager. Learn more Try Azure SQL Managed Instance for free (preview). Learn more Provisioning AKS nodes automatically. Learn more Azure Orphaned Resources v2.0. Learn more Azure Virtual Network Manager topology view now generally available. Learn more Windows The February 2024 non-security preview release is now available for Windows 10, version 22H2. Learn more Introducing Sudo for Windows! Learn more Microsoft February 2024 Patch Tuesday fixes 2 zero-days, 73 flaws. Learn more Release notes: February 2024 - Windows 11, version 23H2. Learn more Inclusive and productive Windows 11 experiences for everyone. Learn more Windows Defender [Updated Feb 2024] Ultimate Comparison of Defender for Endpoint Features by OS. Learn more Quick Tip: Troubleshooting Defender for Endpoint connectivity issues. Learn more VMware by Broadcom End Of General Availability of the Free vSphere Hypervisor (ESXi 7.x and 8.x) (2107518). Learn more VMware Event Broker Appliance (VEBA) v0.8.0. Learn more Counting Cores for VMware Cloud Foundation and vSphere Foundation and TiBs for vSAN (95927). Learn more VMware Cloud Foundation - Technical Deep Dive Series - Introduction. Learn more Quick Tip - Block or remove download URL for VMware Enhanced Authentication Plug-in (EAP). Learn more Will Broadcom’s plans for VMware affect you? Learn more Updated Inventory \u0026amp; Calculator Scripts for counting Cores/TiBs for VMware Cloud Foundation (VCF) and VMware vSphere Foundation (VVF). Learn more SexiGraf 0.99j “St. Olga” is out! Learn more CPU Support Deprecation and Discontinuation In vSphere Releases (82794). Learn more VMware vCenter Converter Standalone 6.6 Release Notes. Learn more Infrastructure as Code (IaC) / DevOps General Microsoft Dev Box introduction. Learn more Learn DevOps in 90 days with April Edwards and Michael Cade. Learn more Azure DevOps blog closing -\u0026gt; moving to DevBlogs. Learn more Symphony is a framework and set of patterns and best practices for developing, testing, and deploying infrastructure on Azure using Infrastructure as Code. Learn more Terraform vs Bicep: the differences you should really know. Learn more Installing HashiCorp tools in Alpine Linux containers. Learn more Azure DevOps Introduction to Azure DevOps Workload identity federation (OIDC) with Terraform. Learn more Azure DevOps Container Jobs: When Microsoft and Self-Hosted Agents meet, It\u0026rsquo;s the Best of Both Worlds! Learn more Azure DevOps Workload Identity Federation with Azure Overview. NO MORE SECRETS! Learn more Day 1 vs Day 2 Ops Demystified on the Whiteboard. Learn more Azure DevOps Provider Automation. Learn more GitHub The GitHub Community Roundup - 2024.02.16. Learn more GitHub Actions (and Certification) Quick Start. Learn more ,Learn more New year, new planning habits: using GitHub Projects to track your goals. Learn more Terraform What #Azure permissions do you need to run #terraform plan? Learn more AzAPI masterclass: replace_triggered_by. Learn more Ensuring Your Terraform is Correctly Formatted Using Terraform fmt and GitHub Actions. Learn more Terraform on Azure February 2024 Update. Learn more Complete Terraform Tutorial. Learn more Landing Zone networking using Terraform. Learn more Introducing Azure Verified Modules for Terraform. Learn more PowerShell / Azure Cloud Shell PowerShell – Code Sign and validate files in a folder with optimized logic. Learn more Running Azure Cloud Shell locally using Docker. Learn more The PowerShell Podcast E104 Roadmapping your PowerShell Journey with Sean Wheeler. Learn more NVIDIA What\u0026rsquo;s New in NVIDIA vGPU Software R550 Release 17.0. Learn more What\u0026rsquo;s New in NVIDIA vGPU Software R550 Release 16.4. Learn more Security Bulletin: NVIDIA GPU Display Driver - February 2024. Learn more Proxmox Pluralsight course \u0026ldquo;Proxmox VE Fundamentals\u0026rdquo;. Learn more "},{
  "section": "Blog",
  "slug": "/logbook/site/blog/2024/02/new-teams-parameter-is-incorrect/",
  "title": "The New Microsoft Teams Client throw an error in AVD - The parameter is incorrect",
  "description": "",
  "date": "February 28, 2024",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "azure virtual desktop, avd",
  "tags": "troubleshooting, azure virtual desktop, avd, vdi",
  "content":"After deploying new Azure Virtual Desktop (AVD) session hosts with the new Teams Client installed, users getting the following error after the login:\nC:\\Program Files\\WindowsApp\\MSTeams_24004.1307.2669.7070_x64_8wekyb..\\msteams_autostarter.exe\nThe parameter is incorrect\nIn the picture the error The parameter is incorrect is displayed as de parameter is onjuist because the AVD host has a Dutch language pack installed.\nTo solve this issue I performed the following steps:\nInstall FSLogix 2210 hotfix 3 (2.9.8784.63912). link on the AVD image.\nCheck if the following file and folder exclusions are added. FSLogix Configure Antivirus file and folder exclusions Add the following files to the virus exclusion list:\n%programfiles%\\WindowsApps\\MSTeams_*\\ms-teams.exe\n%programfiles%\\WindowsApps\\MSTeams_*\\ms-teamsupdate.exe\nUninstall the existing Teams Client on the AVD image.\nInstall the new Teams client as described in the following article Upgrade to new Teams for Virtualized Desktop Infrastructure (VDI) on the AVD image\nI created a new image and deployed new AVD Session hosts from the image. After performing these steps the error disappeared.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2024/02/02/the-latest-technology-news-january-2024/",
  "title": "The latest technology news - January 2024",
  "description": "",
  "date": "February 2, 2024",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "news",
  "tags": "vmware, news, azure",
  "content":"\nWelcome to our monthly roundup of the hottest tech updates in the worlds of Azure, VMware, GitHub, HashiCorp, and other partners. In this series, we’ll have a collection of must-read articles, each offering a deep dive into the latest technological advancements, news, and trends within these cutting-edge platforms.\nWe understand that in today’s fast-paced tech landscape, staying informed is key. That’s why we’re here to make it easy for you. Each month, we’ll handpick the most insightful and informative articles that cover everything from Cloud, virtualization, Infrastructure As Code (IaC), and DevOps to DAAS - End User Computing - Endpoint management breakthroughs.\nSo let’s dive into this month\u0026rsquo;s top tech insights:\nDAAS / EUC / ENDPOINT Azure Virtual Desktop (AVD) AVD Community NewsLetters. Learn more Automatic Image Creation using Azure VM Image Builder is now generally available! Learn more AVD Deployment using Bicep 2024. Learn more How to Review and Search AVD Insights Data. Learn more Microsoft updates: Entra ID FIDO2 security key support and Azure Virtual Desktop passwordless sign-in. Learn more Moving VDI Deployments to Azure Stack HCI. Learn more App Volumes Apps on Demand with Azure Virtual Desktop – Feature Walk-Through. Learn more Azure Virtual Desktop vs Windows 365. Learn more AVD Security best practices. Learn more Azure Well-Architected Azure Virtual Desktop workload. Learn more Windows 365 x Azure Virtual Desktop x Advanced Device Redirection. Learn more Announcing Public Preview of Confidential VMs with Intel TDX in Azure Virtual Desktop. Learn more Monitoring AVD with Azure Monitor. Learn more Windows 365 (W365) / CloudPC The latest weekly W365 newsletter. Learn more What\u0026rsquo;s new in Windows 365 Enterprise? Learn more New Windows 365 Boot and Switch features in public preview. Learn more Compare Windows App features across platforms and devices for AVD, Windows 365 and Microsoft Dev Box. Learn more Windows 365 Conditional Access. Learn more New book: Securing Cloud PCs and Azure Virtual Desktop: Your expert guide to implementing and optimizing security for Windows 365 and AVD infrastructure. Learn more Windows 365 hands-on episode 3: Track Changes in your environment. Learn more Windows 365: considerations for Privileged Access Workstation (PAW). Learn more VMware by Broadcom - Horizon EUC Blog newsletters. Learn more VMware Horizon 8 2312 (ESB) released. Learn more VMware ThinApp 2312 released. Learn more VMware App Volumes 4, version 2312 released. Learn more VMware Dynamic Environment Manager 2312 released. Learn more Horizon View Agent html5server.exe will crash intermittently with New Teams 2.1 with Horizon View Agent versions below 8.11/2309 (95810). Learn more Teams Optimization: Teams 2.1 optimized video call in a maximized window shows a thin black bar at the bottom with Horizon Agent 2309 or lower (95811). Learn more How To Optimize a Horizon Golden Image with the New Microsoft Teams Client. Learn more Security Enhancements in Unified Access Gateway (UAG) version 2312 and beyond (96373). Learn more Containerized Diagnostics For Unified Access Gateway With UAG Local Troubleshooter. Learn more VMware Horizon Cloud Service - next-gen Release Notes. Learn more Deploy Horizon Cloud on Azure in 5mins. Learn more GPU issues with the VMware Horizon Indirect Display Driver. Learn more Intune Andrew Taylor weekly Intune newsletter. Learn more Daniel Engberg weekly newsletter. Learn more What’s new in Microsoft Intune January 2024? Learn more New book - Mastering Microsoft Intune: Deploy Windows 11, Windows 365 via Microsoft Intune, Copilot and Advance Management via Intune Suite by Christiaan Brinkhoff and Per Larsen. Learn more Winget Deployment With PSAppDeployToolkit. Learn more IntuneMaps v2. Learn more Optimizing Your Intune Endpoint Lab – Choosing the Ideal Hardware. Learn more Create Desktop Shortcuts for Windows Apps. Learn more Intune Migration Guide. Learn more MSIX App Attach App Attach Report Card for 2024. Learn more Ivanti Ivanti Workspace Control. End Of Life 31-12-2026. Learn more Azure Microsoft 365 / AD Weekly MS Entra latest news newsletter. Learn more Entra - Internet Access for Windows (A first look). Learn more How to configure Entra Private Access to avoid VPN clients. Learn more Microsoft Entra’s Top 50 Features of 2023. Learn more Microsoft Cloud Group Analyzer. Learn more Microsoft Azure John Savill\u0026rsquo;s weekly Azure Infrastructure Updates. Learn more Is it beneficial for you to upgrade your Azure VM SKU to the next version? Learn more AzCopy support for Entra ID authentication. Learn more Generally Available: VMware Cloud Director Availability for Azure VMware solution with Run commands. Learn more Migrating from the Azure MMA to AMA Agent. Learn more Getting Started With AVD Insights and the Azure Monitor Agent. Learn more Your Hub VNet Should Have No Compute. Learn more Azure IPAM management solution. Learn more Naming Azure resources using display names - Jev Suchoi. Learn more Azure Virtual Machines baseline architecture. Learn more Microsoft 365 Backup is finally in public preview! Learn more How to handle the 2025 change to Azure VM internet access, including Aviatrix, in Azure Marketplace. Learn more Azure VM Comparison. Learn more Free Microsoft self-directed learning courses\nDesigning and Implementing Microsoft DevOps solutions. Learn more Practice Assessments for Microsoft Certifications. Learn more Windows Windows Server Insider Preview 26040 is out - and so is the new name Windows Server 2025. Learn more WMI command line (WMIC) utility deprecation: Next steps. Learn more VMware by Broadcom VMware End Of Availability of Perpetual Licensing and SaaS Services. Learn more Automated Lab Deployment Script updated to support VMware Cloud Foundation (VCF). Learn more VMware vCenter Server Vulnerability Exploited in Wild. Learn more Automating counting cores \u0026amp; TiBs for new VMware vSphere Foundation (VVF) and VMware Cloud Foundation (VCF) SKUs. Learn more Deploy nested ESXi VMs using a Kickstart (KS) script and Ansible Automation. Learn more Infrastructure as Code (IaC) / DevOps Mastering data types in Terraform and Bicep. Learn more Azure Landing Zones Accelerators for Bicep and Terraform. Announcing General Availability! Learn more GitHub GitHub Certifications. Learn more NEW GitHub Certifications | What are they. Learn more GitHub Foundations Practice Test Walkthrough. Learn more GitHub Foundations Certification Course – Pass the exam in 10 hours! Learn more Code To Cloud Live Stream (GitHub Certifications 2024). Learn more Exam Pro GitHub Foundations video course. Learn more How I passed the GitHub Foundations Certification Exam. Learn more Unofficial Study Guides for GitHub Certifications. Learn more Udemy - GitHub Foundations Certification - Practice Exam 2024. Learn more What\u0026rsquo;s new in the GitHub Community? - 2024.01.26. Learn more GitHub-hosted runners: Double the power for open source. Learn more Terraform Terraform 1.7 adds test mocking and config-driven remove. Learn more A Guide to Publishing Terraform Providers to Terraform Cloud Private Registry. Learn more Azure Storage for Terraform State best practices. Learn more Stop using shared secrets! CI/CD authentication the proper way, Use OpenID Connect (OIDC). Learn more Ops \u0026rsquo;n\u0026rsquo; Hops: Terraform, Licensing, and Platform Engineering with Matt Gowie. Learn more PowerShell PowerShell Conference EU 2023 sessions are available on YouTube. Learn more Vembu Join BDRSuite\u0026rsquo;s exclusive webinar, \u0026ldquo;Unveiling BDRSuite v7.0.0.U1: Elevate Your Data Protection Strategy\u0026rdquo; on January 10, 2024. Explore new features, witness live demo, and engage in an interactive Q\u0026amp;A to enhance your data protection and disaster recovery goals. Save your spot here! Learn more BDRSuite announces it participation in MSP EXPO 2024 in Fort Lauderdale, Florida, from February 13-15, 2024. BDRSuite offers Free EXPO Pass granting exclusive access to MSP Expo breakout sessions, meals, keynotes, workshops, networking receptions, and unlimited Expo Hall exploration. Don\u0026rsquo;t miss out—secure your free pass here. Learn more In the latest G2 Winter 2024 Report, BDRSuite emerges as a Leader \u0026amp; High Performer in multiple categories, including Server Backup, Database Backup, Small Business Backup Solutions, and Mid-Market. BDRSuite is globally recognized and particularly acclaimed in America, Asia Pacific, and EMEA regions. Read BDRSuite reviews on G2 here. Learn more "},{
  "section": "Blog",
  "slug": "/logbook/site/2024/01/15/packer-use-the-ssh-communicator-for-windows-images/",
  "title": "Packer - Use the SSH communicator for Windows images",
  "description": "",
  "date": "January 15, 2024",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "news",
  "tags": "VMware, News, Azure",
  "content":"Packer communicators are used to upload files and execute scripts when creating images. The two most common communicators are:\nssh – An SSH connection will be established to the machine. This communicator is used by Linux winrm – A WinRM connection will be established. This communicator is used by Windows. OpenSSH is available as an Optional Feature in Windows 10 (version 1809 and higher), Windows 11, Windows Server 2019, and Windows Server 2022. OpenSSH uses the SSH protocol (port TCP 22) which encrypts all traffic between client and server.\nTo configure the SSH communicator for creating Windows images, follow the steps below.\nPrerequisites\nThe following prerequisites are needed:\nA device running at least Windows Server 2019 or Windows 10 (build 1809). PowerShell 5.1 or later. An account that is a member of the built-in Administrators group. Step 1: Enable SSH in the Windows image\nCreate a PowerShell to install the OpenSSH client and server in the Windows image. OpenSSH enables the SSH protocol. This script is executed during the provisioning of the Windows image in the autounattend.xml file.\nscript name: enable-ssh.ps1\n# Install the OpenSSH Client Add-WindowsCapability -Online -Name OpenSSH.Client~~~~0.0.1.0 # Install the OpenSSH Server Add-WindowsCapability -Online -Name OpenSSH.Server~~~~0.0.1.0 # Start the sshd service Start-Service sshd # Start the SSH service automatic at startup Set-Service -Name sshd -StartupType \u0026#39;Automatic\u0026#39; # Confirm the Firewall rule is configured. It should be created automatically by setup. Run the following to verify if (!(Get-NetFirewallRule -Name \u0026#34;OpenSSH-Server-In-TCP\u0026#34; -ErrorAction SilentlyContinue | Select-Object Name, Enabled)) { Write-Output \u0026#34;Firewall Rule \u0026#39;OpenSSH-Server-In-TCP\u0026#39; does not exist, creating it...\u0026#34; New-NetFirewallRule -Name \u0026#39;OpenSSH-Server-In-TCP\u0026#39; -DisplayName \u0026#39;OpenSSH Server (sshd)\u0026#39; -Enabled True -Direction Inbound -Protocol TCP -Action Allow -LocalPort 22 } else { Write-Output \u0026#34;Firewall rule \u0026#39;OpenSSH-Server-In-TCP\u0026#39; has been created and exists.\u0026#34; } This script is saved in the scripts folder in the Packer folder and mounted as a floppy drive.\nStep 2: Add the script in the autounattend.xml\nAdd the script created in step 1 in the FirstLogonCommands section (lines 19-23) of the autounattend.xml.\n\u0026lt;FirstLogonCommands\u0026gt; \u0026lt;SynchronousCommand wcm:action=\u0026#34;add\u0026#34;\u0026gt; \u0026lt;CommandLine\u0026gt;%SystemRoot%\\system32\\WindowsPowerShell\\v1.0\\PowerShell.exe -Command \u0026#34;Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Force\u0026#34;\u0026lt;/CommandLine\u0026gt; \u0026lt;Description\u0026gt;Set Execution Policy 64-Bit\u0026lt;/Description\u0026gt; \u0026lt;Order\u0026gt;1\u0026lt;/Order\u0026gt; \u0026lt;RequiresUserInput\u0026gt;true\u0026lt;/RequiresUserInput\u0026gt; \u0026lt;/SynchronousCommand\u0026gt; \u0026lt;SynchronousCommand wcm:action=\u0026#34;add\u0026#34;\u0026gt; \u0026lt;CommandLine\u0026gt;%SystemRoot%\\system32\\WindowsPowerShell\\v1.0\\PowerShell.exe -Command \u0026#34;Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Force\u0026#34;\u0026lt;/CommandLine\u0026gt; \u0026lt;Description\u0026gt;Set Execution Policy 32-Bit\u0026lt;/Description\u0026gt; \u0026lt;Order\u0026gt;2\u0026lt;/Order\u0026gt; \u0026lt;RequiresUserInput\u0026gt;true\u0026lt;/RequiresUserInput\u0026gt; \u0026lt;/SynchronousCommand\u0026gt; \u0026lt;SynchronousCommand wcm:action=\u0026#34;add\u0026#34;\u0026gt; \u0026lt;CommandLine\u0026gt;a:\\vmtools.cmd\u0026lt;/CommandLine\u0026gt; \u0026lt;Order\u0026gt;3\u0026lt;/Order\u0026gt; \u0026lt;Description\u0026gt;Install VMware Tools\u0026lt;/Description\u0026gt; \u0026lt;/SynchronousCommand\u0026gt; \u0026lt;SynchronousCommand wcm:action=\u0026#34;add\u0026#34;\u0026gt; \u0026lt;CommandLine\u0026gt;%SystemRoot%\\system32\\WindowsPowerShell\\v1.0\\PowerShell.exe -File a:\\enable-ssh.ps1\u0026lt;/CommandLine\u0026gt; \u0026lt;Order\u0026gt;4\u0026lt;/Order\u0026gt; \u0026lt;Description\u0026gt;Enable SSH\u0026lt;/Description\u0026gt; \u0026lt;/SynchronousCommand\u0026gt; \u0026lt;/FirstLogonCommands\u0026gt; Step 3: Add the SSH communicator to the Packer config\nIn the Packer HCL config file add the SSH communicator. Here is an example:\nsource \u0026#34;vSphere-iso\u0026#34; \u0026#34;win10test\u0026#34; { floppy_files = [\u0026#34;${path.root}/scripts/\u0026#34;] // SSH communicator = \u0026#34;ssh\u0026#34; ssh_username = local.SSHUser #add your own SSH username ssh_password = local.SSHPass #add your own SSH password ssh_timeout = \u0026#34;2h\u0026#34; ssh_clear_authorized_keys = \u0026#34;true\u0026#34; } During the deployment of the image, you see when the communicator connects using SSH to the image.\nIf you use Packer for creating Windows and Linux images, only 1 firewall port (TCP 22) needs to be opened when using the SSH communicator.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2023/12/25/the-latest-technology-news-week-51-2023/",
  "title": "The latest technology news Week 51-2023",
  "description": "",
  "date": "December 25, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "news",
  "tags": "azure, news, vmware",
  "content":"Welcome to our weekly roundup of the hottest tech updates in the worlds of Azure, VMware, and other partners. In this series, we’ll be curating a collection of must-read articles, each offering a deep dive into the latest technological advancements, news, and trends within these cutting-edge platforms.\nWe understand that in today’s fast-paced tech landscape, staying informed is key. That’s why we’re here to make it easy for you. Each week, we’ll handpick the most insightful and informative articles that cover everything from Cloud, virtualization, Infrastructure As Code (IaC), DevOps to End User Computing breakthroughs.\nWithout further ado, let’s dive into this week’s top tech insights:\nMicrosoft 365 / AD\nActive Directory Security Checklist. Link Microsoft Azure\nAzure Infrastructure Update - 22nd of December 2023. Link Azure Firewall\u0026rsquo;s Auto Learn SNAT Routes: A Guide to Dynamic Routing and SNAT Configuration. Link Generally available: Crash Consistent VM Restore points. Link Azure Virtual Desktop (AVD) / Windows 365 / VMware Horizon / EUC\nThe Concept of Windows 365 Boot. Link Weekly Newsletter – 16th of December to 22nd of December 2023. Link Week 51-2023 VMware Enduser Computing Updates. Link The new Teams client for Azure Virtual Desktop. Link AppManagEvent 2023 session - Tim Talks MSIX by Tim Mangan. Link Azure Virtual Desktop workload documentation. Link The Concept of Windows 365 Frontline. Link The Future of End User Computing. Link Windows 365: considerations for Privileged Access Workstation (PAW). Link Defender\nAgentless scanning for virtual machines in the cloud – technical deep dive. Link Intune\nIntune Newsletter – 22nd December 2023. Link Uninstall any application in a jiffy using PowerShell and Microsoft Intune. Link Infrastructure as Code (IaC) / DevOps\nHashiCorp 2023 year in review: Community. Link Validate Windows Activation Status using PowerShell and display the results in a GridView. Link Gentle Introduction to Git and GitHub. Link Stop using the template provider in Terraform. Link Validate UAT Images with Azure Pipelines and Pester. Link Use functions and modules in Windows PowerShell scripts. Link Azure Automation with Ansible. Link Vembu\nBDRSuite shatters the Illusion of \u0026lsquo;Unlimited\u0026rsquo; cloud storage, offering transparent and cost-Effective solutions, setting a standard in the cloud backup industry. Link VMware by Broadcom\nvSphere data loss bug returns – CBT issues in vSphere ESXI 8.0 update 2. Link As Built Report for VMware Horizon Updates. Link Windows\nMicrosoft Edge For Business Security Whitepaper. Link "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/12/18/the-latest-technology-news-week-50-2023/",
  "title": "The latest technology news Week 50-2023",
  "description": "",
  "date": "December 18, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "news",
  "tags": "azure, news, vmware",
  "content":"Welcome to our weekly roundup of the hottest tech updates in the worlds of Azure, VMware, and other partners. In this series, we’ll be curating a collection of must-read articles, each offering a deep dive into the latest technological advancements, news, and trends within these cutting-edge platforms.\nWe understand that in today’s fast-paced tech landscape, staying informed is key. That’s why we’re here to make it easy for you. Each week, we’ll handpick the most insightful and informative articles that cover everything from Cloud, virtualization, Infrastructure As Code (IaC), DevOps to End User Computing breakthroughs.\nWithout further ado, let’s dive into this week’s top tech insights:\nMicrosoft 365\nEffective file management with the next generation of OneDrive app for Microsoft Teams. Learn more Simplify Resource Access with Entra Access Packages. Learn more Microsoft Entra Private Access protections for on-premises \u0026amp; private cloud network resources. Learn more Microsoft Azure\nThe Festive Tech Calendar 2023. Learn more Azure Infrastructure Update - 15th of December 2023. Learn more Windows Server upgrade and migration, on-prem, to and in Azure! Learn more Azure Landing Zones - External Community Call - December 2023. Learn more Public Preview: New AMD-based VMs with Increased Performance, Azure Boost, and NVMe Support. Learn more Azure Virtual Desktop (AVD) / Windows 365 / VMware Horizon / EUC\nWeekly Newsletter – 9th of December to 15th of December 2023. Learn more AVD Community Newsletter – 14th December 2023. Learn more Automating cleanup Entra Joined AVD hosts. Learn more The VDI Design Guide Part 2 is completely free. Learn more Weekly Digest for End User Computing. Learn more Advanced Device Redirection (in AVD, W365, and RDS). Learn more Week 50-2023 VMware Enduser Computing Updates. Learn more EUC Newsletter - Week 50. Learn more. Application Deployment Options for AVD and W365 \u0026amp; MAM for Windows. Learn more Intune\nWhat\u0026rsquo;s new in Microsoft Intune. Learn more Intune Windows app size (to upload) is now limited to 30Gb/App instead off 8Gb. Learn more Infrastructure as Code (IaC) / DevOps\nPlatform Engineering: The Big Technical Picture. Learn more Updates to Azure DevOps Demo Generator and Labs. Learn more Playwright Testing and GitHub Actions Tutorial: Run Your Playwright Tests on Every Code Commit. Learn more Simplify getting started with Bicep through easy to digest examples. Learn more Azure Bicep monthly updates — December 2023. Learn more Write Better PowerShell – You’re Out of Excuses. Learn more The Do\u0026rsquo;s and Don\u0026rsquo;ts of Cloud Migrations: Azure, IaC, DevOps, Terraform, Pipelines w/ Sai Gunaranjan. Learn more Bicep Community Call - December \u0026lsquo;23. Learn more Vembu\nBDRSuite forms Strategic Partnership with Datta Tech consulting to redefine data protection Across the America, offering cost-effective backup solutions that is unmatched in the market. Learn more VMware by Broadcom\nVMware by Broadcom Dramatically Simplifies Offer Lineup and Licensing Model. Learn more ESXi-Arm Fling 1.15 Refresh. Learn more Solve the Blank Page Problem! VCDX Documentation Examples. Learn more VMware discovered a Change Block Tracking (CBT) bug affecting all backup vendors when using vSphere 8.0 U2. Learn more Terraform VMware Cloud Director Provider v3.11.0. Learn more New home for VMware by Broadcom Flings. Learn more Creating \u0026amp; Remediating Image Based Clusters with VMware PowerCLI. Learn more [VCSA] SHA1 Certificates not supported with vCenter 8.0. Learn more The VMware Explore Video Library: Discover A Wealth of Knowledge. Learn more Windows\nMicrosoft unveils new, more secure Windows Protected Print Mode. Learn more Windows 10 KB5033372 update released with Copilot for everyone, 20 changes. Learn more Microsoft December 2023 Patch Tuesday fixes 34 flaws, 1 zero-day. Learn more Windows Admin Center version 2311 is now generally available! Learn more Other\nGenerative AI for Beginners - A Course. Learn more "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/12/11/the-latest-technology-news-week-49-2023/",
  "title": "The latest technology news Week 49-2023",
  "description": "",
  "date": "December 11, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "news",
  "tags": "azure, new, vmware",
  "content":"Welcome to our weekly roundup of the hottest tech updates in the worlds of Azure, VMware, and other partners. In this series, we’ll be curating a collection of must-read articles, each offering a deep dive into the latest technological advancements, news, and trends within these cutting-edge platforms.\nWe understand that in today’s fast-paced tech landscape, staying informed is key. That’s why we’re here to make it easy for you. Each week, we’ll handpick the most insightful and informative articles that cover everything from Cloud, virtualization, Infrastructure As Code (IaC), DevOps to End User Computing breakthroughs.\nWithout further ado, let’s dive into this week’s top tech insights:\nMicrosoft 365\nEntra.News #22: Your weekly dose of Microsoft Entra, Learn more Leveraging Microsoft Entra ID (Azure AD) to counter token theft. Learn more Microsoft Entra ID Continuous access evaluation and how it works! Learn more Microsoft Azure\nThe Azure Infrastructure Update 8th of December 2023. Learn more Common pitfalls of large-scale datacenter migration projects to Azure. Learn more Everything You Need to Know About Azure Managed Disks. Learn more Communicating a cost savings initiative the right way and what NOT to do. Learn more Azure Virtual Desktop (AVD) / Windows 365 / VMware Horizon / EUC\nWeek 49-2023 VMware Enduser Computing Updates. Learn more Weekly Newsletter – 2nd of December to 8th of December 2023. Learn more AVD Community Newsletter – 7th December 2023. Learn more Configure single sign-on for Azure Virtual Desktop using Microsoft Entra ID authentication. Learn more What is MSIX and MSIX app attach? - Steve Horne \u0026amp; Jim Moyle. Learn more New app attach features for Azure Virtual Desktop in public preview. Learn more Announcing general availability of the new Microsoft Teams app for virtual desktop infrastructure. Learn more Upgrade to new Teams for Virtualized Desktop Infrastructure (VDI). Learn more VMware Unified Access Gateway Techzone. Learn more VMware Explore Barcelona EUC Updates. Learn more Self-Guided Workshop: Horizon - Getting Started w/ App \u0026amp; Desktop Virtualization (HOL-2451-01-DWS). Learn more Get the latest updates for VMware Horizon packaging and licensing. Learn more Announcing FSLogix 2210 hotfix 3 Preview (2.9.8716.30241). Learn more Classic Teams for VDI will reach end of support on June 30th, 2024. Learn more Troubleshooting issues with AppX, MSIX or Microsoft store applications with FSLogix. Learn more Microsoft 365 Defender / Sentinel\nTechTalk Dudes S03E04 - Microsoft Defender Vulnerability Management. Learn more Blocking Remote Support Applications using Windows Defender Application Control and Microsoft Intune. Learn more Intune\nMicrosoft Entra hybrid join devices isn\u0026rsquo;t recommended through Autopilot. Learn more Introducing Microsoft Intune Enterprise App Management. Learn more Microsoft Intune Reporting Using Azure Automation With System Assigned Managed Identity. Learn more Get a better Intune policy report part 3. (FINAL). Learn more Infrastructure as Code (IaC) / DevOps\nAudit changes in GPOs using Azure DevOps – Config as Code Part 2. Learn more Terraform v1.6.0 released. Learn more Azure Bicep Advent Calendar Schedule. Learn more Mastering Ansible on Windows: Your Go-To Expert Guide. Learn more Vembu\nDRSuite unveils exciting 2024 roadmap, prioritizing Ransomware protection and MSP empowerment. Learn more VMware by Broadcom\nThe annual Dutch VMUG UserCon is back in Den Bosch on March 26, 2024! Learn more An exciting new era for End-User Computing. Learn more Other\nControlUp - Introducing ControlUp\u0026rsquo;s Free DEX Tools. Learn more The future of As Built Report. Learn more Veeam Backup \u0026amp; Replication v12.1 What\u0026rsquo;s New. Learn more "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/12/08/patch-a-VMware-esxi-hosts-with-esxcli-command-and-choose-the-right-image-profile/",
  "title": "Patch a VMware ESXI host with the ESXCLI command and choose the right image profile",
  "description": "",
  "date": "December 8, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware ESXi, VMware vSphere, Troubleshooting",
  "tags": "VMware ESXi",
  "content":"When installing a patch on a VMware ESXi host using the ESXCLI command you need to specify the image profile that is available in the ESXi patch.\nHere are the steps for patching a VMware ESXi host with the correct image profile:\nGo to the Customer Connect Patch Downloads page. Download the patch needed, In this example, I use ESXi patch VMware-ESXi-7.0U3o-22348816-depot.zip Upload the patch to a datastore Make a SSH connection to the ESXi host Place the host in maintenance mode esxcli system maintenanceMode set –enable-true Now you need to know which image profiles are available in the VMware ESXi patch. To do this use the following command (replace the with your datastore): esxcli software sources profile list -d /vmfs/volumes/\u0026lt;datastore\u0026gt;/iso/VMware-ESXi-7.0U3o-22348816-depot.zip The following profiles are listed. As you can see the image profile contains 4 image profiles: Here is a table with so, 0, standard, and no-tools means: Option Details standard With VMware Tools included no-tools Without VMware Tools so Security updates only image o Security and Bugfix update image To install the ESXi with security and bugfix updates without VMware Tools use the following command (replace the with your datastore): esxcli software profile update -d /vmfs/volumes/\u0026lt;datastore\u0026gt;/VMware-ESXi-7.0U3o-22348816-depot.zip -p ESXi-7.0U3o-22348816-no-tools Reboot the host esxcli system shutdown reboot -r \u0026#34;Patch ESXi 7.0U3\u0026#34; When the host is back, exit maintenance mode, make a SSH connection to the ESXi host esxcli system maintenanceMode set --enable false With this procedure, you can specify the right image profile when manually patching an ESXi host.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2023/12/06/the-latest-technology-news-week-48-2023/",
  "title": "The latest technology news Week 48-2023",
  "description": "",
  "date": "December 6, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "news",
  "tags": "azure, news, vmware",
  "content":"Welcome to our weekly roundup of the hottest tech updates in the worlds of Azure, VMware, and other partners. In this series, we’ll be curating a collection of must-read articles, each offering a deep dive into the latest technological advancements, news, and trends within these cutting-edge platforms.\nWe understand that in today’s fast-paced tech landscape, staying informed is key. That’s why we’re here to make it easy for you. Each week, we’ll handpick the most insightful and informative articles that cover everything from Cloud, virtualization, Infrastructure As Code (IaC), DevOps to End User Computing breakthroughs.\nWithout further ado, let’s dive into this week’s top tech insights:\nMicrosoft 365\nEntra App registration - Step-by step part 4. Learn more What\u0026rsquo;s new in Active Directory. Learn more Prevent AiTM with Microsoft Entra Global Secure Access and Conditional Access. Learn more Microsoft Azure\nAzure Infrastructure Update - 1st of December 2023. Learn more Microsoft Cybersecurity Reference Architectures (MRCA) documentation for December 2023! Learn more Standard and High-Performance VPN Gateway SKUs will be retired on 30 September 2025. Learn more Azure Business Continuity Guide. Learn more Start Your Cloud Adoption Journey with the New Azure Expert Assessment Offering! Learn more Azure Virtual Desktop (AVD) / Windows 365 / VMware Horizon / EUC\nOn-Demand Webinar: W365 and AVD | Which Solution is Right for Your Business. Learn more VMware EUC Newsletter - Week 48. Learn more Weekly Newsletter – 25th of November to 1st of December 2023. Learn more What’s new in MSIX: November 2023. Learn more MSIX and app attach made easy. Learn more AVD Community Newsletter – 30th November 2023. Learn more Removed All The Apps in AVD\u0026hellip;Here\u0026rsquo;s What Happened. Learn more SSO for Azure Virtual Desktop with AD users. Learn more Azure Virtual Desktop Well-Architected Framework. Learn more Windows 365 hands-on episode 2: Using Passkeys with Windows 365. Learn more Securing Windows in the cloud for Cloud PCs \u0026amp; Cloud VDI. Learn more Personal Desktop Autoscale on Azure Virtual Desktop generally available. Learn more Horizon Cloud Next-Gen Service TrueSSO with Microsoft Enterprise Certificate Authority. Learn more VMware Horizon 2212.2 (8.8.2) ESB available. Learn more Microsoft 365 Defender / Sentinel\nSimplifying Onboarding to Microsoft Defender for Cloud with Terraform. Learn more Intune\nGetting Started with the IntuneCLI, an Automated Intune Management Solution. Learn more Coming to the Microsoft Intune Suite - Microsoft Cloud PKI! Learn more Modern management or Windows 11? It’s more about \u0026ldquo;and\u0026rdquo; than \u0026ldquo;or\u0026rdquo;. Learn more Infrastructure as Code (IaC) / DevOps\nAzure Terraform Export Tool - What\u0026rsquo;s New? Learn more Monitor git secrets on Azure DevOps with Gitleaks. Learn more 365AutomatedLab 1.1.0, This module will allow you to create a 365 Development Environment from an Excel workbook. Learn more Run Dev Containers without Docker on Windows 11. Learn more GitHub Copilot – November 30th Update. Learn more Azure DevOps concepts. Learn more Azure Deployment Stacks. Learn more Azure DevOps Server 2022.1 RTW now available. Learn more Vembu\nBDRSuite by Vembu, named G2 leader in Server backup and high performer in online Backup, solidifying its position as the #1 cost-effective backup \u0026amp; recovery software globally. Learn more VMware by Broadcom\nvCenter Database (VCDB) 101. Learn more vSphere Code Capture is your ChatGPT for vSphere Automation. Learn more What happens to VMware EUC and Carbon Black under Broadcom? Learn more VMware vCenter SSO Integration with Azure AD. Learn more VMware vSphere As Built Report v1.3.4 Learn more RVTools version 4.5.1. Learn more vCommunity Discord. Learn more Windows\nWindows 10 22H2 Copilot in preview. Learn more The first Windows Server 2012/R2 ESU Patches are out! Are you protected? Learn more Clear Teams 2.1 Cache (Windows 11). Learn more WinGet community repository frequently asked questions (FAQs). Learn more Other\nMicrosoft Designer Image Creator. Learn more 10ZiG Repurposing Software Download free license. Learn more Creating Cool architecture diagrams in 2023. Learn more FSLogix on Nutanix Files. Learn more "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/11/27/the-latest-technology-news-week-47-2023/",
  "title": "The latest technology news Week 47-2023",
  "description": "",
  "date": "November 27, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "news",
  "tags": "news",
  "content":"Welcome to our weekly roundup of the hottest tech updates in the worlds of Azure, VMware, and other partners. In this series, we’ll be curating a collection of must-read articles, each offering a deep dive into the latest technological advancements, news, and trends within these cutting-edge platforms.\nWe understand that in today’s fast-paced tech landscape, staying informed is key. That’s why we’re here to make it easy for you. Each week, we’ll handpick the most insightful and informative articles that cover everything from Cloud, virtualization, Infrastructure As Code (IaC), DevOps to End User Computing breakthroughs.\nWithout further ado, let’s dive into this week’s top tech insights:\nMicrosoft 365\nInsights and change tracking on Microsoft Entra ID Service Principals (Enterprise Applications and Applications). Learn more Microsoft Azure\nMigrate Azure Redis Cache Before It’s Too Late! Learn more Introducing AD FS Application Migration: Your Path to Simplicity and Security. Learn more Azure Infrastructure Update - 24th November 2023. Learn more Simplify certificate management of on-prem IIS server with Azure Arc \u0026amp; Azure Key Vault VM extension. Learn more Azure Virtual Desktop (AVD) / Windows 365 / VMware Horizon / EUC\nWeekly Newsletter – 18th of November to 24th of November 2023. Learn more Microsoft 365 has a main support support lifecycle (5 years) for Windows Server 2022. Learn more Week 47-2023 VMware Enduser Computing Updates. Learn more Try Windows 365 Business free for one month. Learn more W365 and AVD | Which Solution is Right for Your Business. Learn more Microsoft 365 Defender / Sentinel\nIntroducing the new Microsoft Sentinel simplified pricing. Learn more Intune\nEndpoint Management Weekly – November 20-26, 2023. Learn more Intune Newsletter – 24th November 2023. Learn more Manage Microsoft Intune environments with IntuneCLI. Learn more Audit changes in Intune configs using Azure DevOps – Config as Code Part 1. Learn more Infrastructure as Code (IaC) / DevOps\nAzure Image Builder Image Build with Bicep and Azure DevOps. Learn more Git Cheat Sheet. Learn more Microsoft Graph CLI v1.0.0 is now generally available. Learn more Azure Bicep Cheat Sheet. Learn more Deploy an Azure Dashboard using Terraform. Learn more Mastering Terraform Dynamic Blocks with If-Else Conditionals. Learn more Vembu\nBDRSuite v7.0.0 is available now! Learn more VMware by Broadcom\nVMware is now part of Broadcom. Learn more vSphere 8 is getting Update 2 – Announcement at VMware Explore 2023. Learn more RVTools 4.5.0 is available. Learn more How to Replace Default VMware ESXi SSL Certificate? Learn more Git integration for Power Actions. Learn more Cloud Consumption Interface for vSphere+ Now Available for All Users. Learn more How to customize IP Spaces’ IP allocation with Terraform. Learn more "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/11/20/the-latest-technology-news-week-46-2023/",
  "title": "The latest technology news Week 46-2023",
  "description": "",
  "date": "November 20, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "news",
  "tags": "azure, news, VMware",
  "content":"Welcome to our weekly roundup of the hottest tech updates in the worlds of Azure, VMware, and other partners. In this series, we’ll be curating a collection of must-read articles, each offering a deep dive into the latest technological advancements, news, and trends within these cutting-edge platforms.\nWe understand that in today’s fast-paced tech landscape, staying informed is key. That’s why we’re here to make it easy for you. Each week, we’ll handpick the most insightful and informative articles that cover everything from Cloud, virtualization, Infrastructure As Code (IaC), DevOps to End User Computing breakthroughs.\nWithout further ado, let’s dive into this week’s top tech insights:\nMicrosoft 365\nStop hackers from stealing your Microsoft 365 user\u0026rsquo;s passwords. Learn more Microsoft Office 2024 confirmed: won\u0026rsquo;t require a subscription. Learn more Support for Office 2016 and 2019 clients connecting to Microsoft 365 services has ended. Learn more Entra.News #19: Your weekly dose of Microsoft Entra. Learn more Blocking user consent to Entra ID enterprise apps. Learn more Microsoft Entra Private Access: secure access to internal resources and cloud services without VPN. Learn more Introducing AD FS Application Migration: Your Path to Simplicity and Security. Learn more Microsoft Azure\nMicrosoft Ignite 2003 Book of News. Learn more Automated download needs of Ignite 2023 content for offline viewing. Learn more Azure Well-Architected Review Assessment Updates. Learn more What’s new in the Azure Well-Architected Framework. Learn more Announcing the general availability of Azure Boost. Learn more John Savill\u0026rsquo;s Azure Infrastructure Update - 17th November 2023 - IGNITE EDITION. Learn more Accelerate edge deployments with cloud-managed infrastructure and Azure Stack HCI version 23H2. Learn more Microsoft Learn Cloud Skills Challenges. Learn more Azure Command-line Tools Ignite 2023 Announcement. Learn more Security Adoption Framework Resources. Learn more Revolutionize Business Continuity and Disaster Recovery with Azure Business Continuity Center. Learn more Azure Naming Tool Version 3.2.0 Released. Learn more Azure Review Checklists. Learn more Default outbound access in Azure. Learn more Public preview: Private subnet. Learn more Bring Azure to your System Center environment: Announcing GA of SCVMM enabled by Azure Arc. Learn more Deepening Well-Architected guidance for workloads hosted on Azure. Learn more Azure MMA Agent Bulk Removal. Learn more Azure Virtual Desktop (AVD) / Windows 365 / VMware Horizon / EUC\nWhat\u0026rsquo;s new in Windows 365 Enterprise? Learn more What\u0026rsquo;s new in Azure Virtual Desktop? Learn more Higher configuration offerings available in Windows 365. Learn more Windows Mechanics. What is the Windows App? + GPU support coming to Windows 365. Learn more What is Windows App? Learn more Microsoft Azure and hibernated Virtual Machines and Azure Virtual Desktop Hibernation. Learn more Azure Academy Azure VM Hibernate. Learn more Host pool provisioning now supported in Azure Virtual Desktop for Azure Stack HCI preview. Learn more Microsoft Azure Virtual Desktop Academy. Learn more VMware EUC Newsletter - Week 46. Learn more End-User Computing Performance Impact Analysis. Learn more AVD Community Newsletter – 16th November 2023. Learn more Microsoft 365 Defender\nXDR in an era of end-user-to-cloud cyberattacks and securing the use of AI. Learn more Intune\nIntroducing Microsoft Intune Enterprise App Management. Learn more Intune macOS Configuration profiles. Learn more Microsoft Cloud PKI launches as a new addition to the Microsoft Intune Suite. Learn more Microsoft Intune Application Deployment Best Practices. Learn more Microsoft Technical Takeoff. Learn more The IntuneCLI for automated Intune management. Learn more Declarative Device Management Software Update deployment with macOS and Intune (it worked!!). Learn more Blocking desktop apps with M365 E5. Learn more Intune Newsletter – 17th November 2023. Learn more Infrastructure as Code (IaC) / DevOps\nCI / CD Deployment of Conditional Access Policies for a Zero Trust Architecture Framework using Terraform and GitHub Actions. Learn more Security best practices for authors of GitHub Actions. Learn more Unleashing the \u0026lsquo;Code Ninja\u0026rsquo; on Terraform: AzureAD Conditional Access Policy Takedown! Learn more Terraform On A Dime: Building Azure Infrastructure on a Shoestring Budget with Mark Tinderholt. Learn more Checking prices for azure VMs with PowerShell. Learn more Enhance Azure SQL post-deployments privately with Bicep. Learn more Get Started with Git. Learn more (Part-1) Leverage Bicep: Standard model to Automate Azure IaaS deployment. Learn more PowerShell:- Keeping my session alive with keyboard strokes. Learn more Build a Windows Server 2022 template with Packer on Proxmox. Learn more CAF Terraform - Course Launch. Learn more Join the Azure Terraformer Discord Community! Learn more Vembu\nBDRSuite v7.0.0 is available now! Learn more VMware\nvExpert 2024: Application Support \u0026amp; Program Resources. Learn more Bringing our Apps Everywhere vision to life with VMware App Volumes. Learn more Update NVIDIA vGPU Driver on an ESXi Host. Learn more VMware Hybrid Cloud options Performance Impact with VMware Workstation on Windows 11 with Intel Hybrid CPUs. Learn more VMware EXPLORE 2023 Barcelona News. Learn more Windows\nWindows 11 KB5032190 update enables Moment 4 features for everyone. Learn more Windows Server Insiders community. Learn more Other\nMicrosoft fixes critical Azure CLI flaw that leaked credentials in logs. Learn more Azure \u0026amp; AI Lowlands \u0026lsquo;24 ticket available. Learn more New Group Policy settings in Windows 11 23H2. Learn more What’s New in Windows Server v.Next. Learn more "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/11/13/the-latest-technology-news-week-45-2023/",
  "title": "The latest technology news Week 45-2023",
  "description": "",
  "date": "November 13, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "news",
  "tags": "azure, news, VMware",
  "content":"Welcome to our weekly roundup of the hottest tech updates in the worlds of Azure, VMware, and other partners. In this series, we’ll be curating a collection of must-read articles, each offering a deep dive into the latest technological advancements, news, and trends within these cutting-edge platforms.\nWe understand that in today’s fast-paced tech landscape, staying informed is key. That’s why we’re here to make it easy for you. Each week, we’ll handpick the most insightful and informative articles that cover everything from Cloud, virtualization, Infrastructure As Code (IaC), DevOps to End User Computing breakthroughs.\nWithout further ado, let’s dive into this week’s top tech insights:\nMicrosoft 365\nThe browser version of MS Teams is now also updated to v2. Learn more Microsoft Azure\nAzure Infrastructure weekly 10th November 2023. Learn more Tried the Azure Bastion Developer SKU And It’s Amazing! Learn more Azure Management Groups. Learn more Bring Azure to your VMware environment: Announcing GA of VMware vSphere enabled by Azure Arc. Learn more Minimize the downtime when migrating SQL workloads to Azure SQL Managed Instance. Learn more Azure Virtual Desktop (AVD) / Windows 365 / VMware Horizon / EUC\nMSIgnite Windows 365 and AVD session list. Learn more W365 Community Weekly Newsletter – 4th of November to 10th of November 2023. Learn more VMware EUC Newsletter - Week 45. Learn more AVD Community Newsletter – 9th November 2023. Learn more Education scenarios with Azure Lab Services and Azure Virtual Desktop. Learn more Configure Defender for Cloud for an Azure Virtual Desktop subscription with Terraform. Learn more FSLogix feature deprecation. Learn more VMware Horizon Windows 23H2 support. Learn more Microsoft 365 Defender\nNovember Defender news. Learn more Intune\nEndpoint Management Weekly – November 6-12, 2023. Learn more Close Encounters of the Microsoft Azure Attestation. Learn more Simplify your Windows 11 upgrade experience with Intune. Learn more Now is the time—manage your Mac endpoints with Microsoft Intune. Learn more Infrastructure as Code (IaC) / DevOps\nHands-on: Citrix Terraform provider. Learn more Install HashiCorp Terraform on a PhotonOS Appliance. Learn more Creating a custom Winget Repo. Learn more Vembu\nBDRSuite v7.0.0 is available now! Learn more VMware\nOn-Demand session URLs for VMware Explore Barcelona 2023. Learn more New Videos RE: Migration from First-Gen Horizon Cloud on Azure to Horizon Cloud – next-gen. Learn more vBrownBag VMworld Explore sessions. Learn more Announcing VMware Live Recovery. Learn more What’s new in Anywhere Workspace at VMware Explore Barcelona 2023? Learn more Couldn’t Attend VMware Explore? Learn more Deploy VMware Cloud Foundation Cloud Builder using the vSphere Terraform Provider. Learn more Introducing PowerCLI 13.2. Learn more Announcing more Azure VMware Solution enhancements. Learn more Windows\nWindows Server 2012/R2: Extended Security Updates. Learn more Microsoft drops SMB1 firewall rules in new Windows 11 build. Learn more Reflecting on 20 years of Windows Patch Tuesday. Learn more Other\nNew Outlook copies user emails from other accounts to Microsoft cloud. Learn more "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/11/08/display-the-azure-virtual-desktop-session-host-and-the-image-version-that-is-used/",
  "title": "Quick Tip: How to get the image version of an AVD Session Host?",
  "description": "",
  "date": "November 8, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "avd",
  "tags": "avd, azure",
  "content":"When you want to identify which AVD session host is deployed from what image version there is a PowerShell module called AzAvd created by Sander Rozemuller that can help. The AzAVD module contains the Get-AvdImageVersionStatus command that helps to identify which AVD Session Host is deployed from what image version using the Azure Compute Gallery (ACG).\nPre-requisites PowerShell 7 is installed and used Script Below is an example PowerShell script to get the image version of one or more session host(s) in the host pool:\n# Install and import the module Install-Module Az.Avd Import-Module Az.Avd # Variables # Change the variables as needed $TenantId = \u0026#34;tentant\\_id\u0026#34; $SubscriptionId = \u0026#34;subscription\\_id\u0026#34; $hostpool = \u0026#34;hostpool\\_name\u0026#34; $resourcepool = \u0026#34;resource\\_group\\_name\u0026#34; # Connect Connect-Avd -DeviceCode -TenantID $TenantId -SubscriptionId $SubscriptionId # Another way to connect is using a Service Principal # $TenantId = \u0026#34;000000-00000\u0026#34; # Connect-Avd -ClientID xxxx -ClientSecret \u0026#34;xxxxx\u0026#34; -TenantID $Tenantid -SubscriptionId $SubscriptionId # List the Image version used Get-AvdImageVersionStatus -HostPoolName $hostpool -ResourceGroupName $resourcepool | Select sessionHostName,currentImageVersion, isLatestVersion After running the script you get an output of all the AVD Session Hosts in the pool, the version of the image that is used, and if it is the latest image available in the Azure Compute Gallery.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2023/11/06/the-latest-technology-news-week-44-2023/",
  "title": "The latest technology news Week 44-2023",
  "description": "",
  "date": "November 6, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "news",
  "tags": "azure, news, VMware",
  "content":"Welcome to our weekly roundup of the hottest tech updates in the worlds of Azure, VMware, and other partners. In this series, we’ll be curating a collection of must-read articles, each offering a deep dive into the latest technological advancements, news, and trends within these cutting-edge platforms.\nWe understand that in today’s fast-paced tech landscape, staying informed is key. That’s why we’re here to make it easy for you. Each week, we’ll handpick the most insightful and informative articles that cover everything from Cloud, virtualization, Infrastructure As Code (IaC), DevOps to End User Computing breakthroughs.\nWithout further ado, let’s dive into this week’s top tech insights:\nMicrosoft 365\nEntra.News #17: Your weekly dose of Microsoft Entra. Learn more Step-by-Step Guide to Identify Inactive Users by using Microsoft Entra ID Governance Access Reviews. Learn more I Stole a Microsoft 365 Account. Here\u0026rsquo;s How. Learn more Updated Requirements for SMTP Relay through Exchange Online. Learn more Microsoft Azure\nTLS 1.2 to become the minimum TLS version for Azure Storage. Learn more Microsoft Applied Skills overview. Learn more and Learn more New ramp guide available to skill up on Azure networking. Learn more Deploy Azure Bastion - Developer SKU (Preview). Learn more Cloud Skills Challenge - 30 Days to Learn It. Learn more Azure Naming Tool v3.1.1 released. Learn more Monitor your Azure Landing Zone with Baseline Alerts. Learn more Azure Virtual Desktop (AVD) / Windows 365 / VMware Horizon / EUC\nAzure Virtual Desktop service architecture and resilience. Learn more Week 44-2023 VMware Enduser Computing Updates. Learn more Announcing the new Azure Virtual Desktop Web Client User Interface. Learn more Learn module about the Azure Virtual Desktop Architecture. Learn more Using VM applications and Azure Policy to deploy applications. Learn more Windows 365 at the Microsoft Technical Takeoff. Learn more AVD Community Newsletter – 2nd November 2023. Learn more Windows 365 and VMware App Volumes Delivers Instant Apps to Cloud PCs. Learn more Higher configuration offerings available in Windows 365. Learn more Windows 365 hands-on episode 1: Configuring Provisioning Policy. Learn more How to get the Client IP Address in Azure Virtual Desktop. Learn more Teams offline installers available. Learn more Use cases for Azure Virtual Desktop Insights. Learn more Intune\nEndpoint Management Weekly – Week of October 30, 2023. Learn more Intune Newsletter – 3rd November 2023. Learn more Map network drives on cloud-managed Windows devices. Learn more Update Intune filters with Windows 11 23H2 build automated. Learn more Infrastructure as Code (IaC) / DevOps\nGitHub Universe Cloud Skills Challenge. Learn more Exploring an Automated Testing Strategy for Infrastructure as Code. Learn more Enhancing the User Experience for Custom Deployments on Azure Portal. Learn more Schedule and Run PowerShell Scripts for Azure VMs using Azure Automation. Learn more Azure private networking for GitHub-hosted runners – Public Beta. Learn more Terraform + Ansible on the Azure Terraform Community Call for 11/2023. Learn more M365DSC: Conditional Access Monitoring Automation. Learn more PowerShell Prowess: The 3 commands you need to know. Learn more Awesome Terraform collection. Learn more Vembu\nBDRSuite v7.0.0 is available now! Learn more VMware\nPerformance Best Practices for VMware vSphere 8.0 Update 2. Learn more VMware Explore 2023 Barcelona – Parties and Gatherings. Learn more Upgrading VM Tools Package on Lifecycle Manager Clusters in vSphere 8. Learn more Windows\nWhat’s new for IT pros in Windows 11, version 23H2. Learn more Latest Administrative Template files (ADMX/ADML) and Office Customization Tool for Microsoft 365 Apps for enterprise, Office 2019, and Office 2016. Learn more Other\nNVIDIA vGPU Release 16.2. Learn more Ivanti Workspace Control 2023.4 release notes. Learn more Bvckup2 1.82.15.0 released. Learn more "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/10/31/the-latest-technology-news-week-43-2023/",
  "title": "The latest technology news Week 43-2023",
  "description": "",
  "date": "October 31, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "news",
  "tags": "azure, news, VMware",
  "content":"Welcome to our weekly roundup of the hottest tech updates in the worlds of Azure, VMware, and other partners. In this series, we’ll be curating a collection of must-read articles, each offering a deep dive into the latest technological advancements, news, and trends within these cutting-edge platforms.\nWe understand that in today’s fast-paced tech landscape, staying informed is key. That’s why we’re here to make it easy for you. Each week, we’ll handpick the most insightful and informative articles that cover everything from Cloud, virtualization, Infrastructure As Code (IaC), DevOps to End User Computing breakthroughs.\nWithout further ado, let’s dive into this week’s top tech insights:\nMicrosoft 365\nAutomate User Provisioning from ANY HR Platform to Microsoft 365 | Part 2. Learn more Microsoft365DSC is the most comprehensive and complete solution to have your Microsoft 365 tenant configuration simple and stable. Learn more Microsoft Azure / Windows\nCall for speakers Festive Tech Calendar 2023. Learn more Announcing Microsoft Applied Skills, the new credentials to verify in-demand technical skills. Learn more Windows Local Administrator Password Solution with Microsoft Entra ID now Generally Available! Learn more Windows LAPS: More than just a policy. Learn more Time to revisit your Reserved Instances. Learn more The Azure Kubernetes Service Checklist. Learn more Entra.News #16: Your weekly dose of Microsoft Entra. Learn more Azure Virtual Desktop (AVD) / Windows 365 / VMware Horizon / EUC\nInstall the New Teams Client on Azure Virtual Desktop (preview) - AVD. Learn more EMEA Windows 365 User Group - November event 2023. Learn more Azure Academy: OneDrive Remote App: Game-Changer for AVD Users. Learn more VMware EUC Newsletter - Week 43. Learn more AVD Community Newsletter – 26th October 2023. Learn more Want to know what\u0026rsquo;s new in the world of #Windows365 #CloudPC? Weekly Newsletter – 21st to 27th of October 2023. Learn more Deploy an Azure Dedicated host for Azure Virtual desktop session hosts. Learn more Microsoft Defender\nMicrosoft Defender for Endpoint: New and more streamlined device connectivity on the way. Learn more Intune\nIntune Newsletter – 27th October 2023. Learn more Troubleshoot Intune with Get-IntuneManagementExtensionDiagnostics. Learn more Intune Training Course. Learn more Infrastructure as Code (IaC) / DevOps / PowerShell / Scripts\nMicrosoft released PowerShell DSC v3. Learn more New version of Get-Mailprotection availalbe. Learn more 6 Command Line (PowerShell \u0026amp; CLI) Tips \u0026amp; Tricks for Microsoft Azure you should know about! Learn more TerraVision is a CLI tool that converts Terraform code into Professional Cloud Architecture Diagrams. Learn more Writing code without the setup with GitHub Codespaces. Learn more How can I make a User Interface for PowerShell? Learn more Terraform on Azure November Community Call. Learn more How to easily backup your Azure environment using EntraExporter and Azure DevOps Pipeline. Learn more Testing out my Azure Demo Lab with Terraform Cloud. Learn more Vembu\nBDRSuite v7.0.0 is available now! Learn more VMware\nVMware vCenter Server Out-of-Bounds Write Vulnerability (CVE-2023-34048). Learn more VMSA-2023-0023: Questions \u0026amp; Answers. Learn more Local privilege escalation vulnerability in VMware Tools (macOS) (CVE-2023-34057) and SAML Token Signature Bypass vulnerability in VMware Tools (CVE-2023-34058). Learn more VMware Horizon 8 2309 Release Notes. Learn more VMware Flings Update. Learn more New location for Power Actions (Technical Preview). Learn more Veeam Backup \u0026amp; Replication support for VMware vSphere 8.0 U2. Learn more vSphere 8 Security Configuration \u0026amp; Hardening Guide. Learn more VMware Workstation 17.5 Pro and Player are Now Live. Learn more Best Practices for Patching VMware vSphere. Learn more Other\nBuilding and Deploying a Blog with Hugo and GitHub Pages. Learn more "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/10/25/the-latest-technology-news-week-41-42-2023/",
  "title": "The latest technology news Week 41/42-2023",
  "description": "",
  "date": "October 25, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "news",
  "tags": "azure, news, VMware",
  "content":"Welcome to our weekly roundup of the hottest tech updates in the worlds of Azure, VMware, and other partners. In this series, we’ll be curating a collection of must-read articles, each offering a deep dive into the latest technological advancements, news, and trends within these cutting-edge platforms.\nWe understand that in today’s fast-paced tech landscape, staying informed is key. That’s why we’re here to make it easy for you. Each week, we’ll handpick the most insightful and informative articles that cover everything from Cloud, virtualization, Infrastructure As Code (IaC), DevOps to End User Computing breakthroughs.\nWithout further ado, let’s dive into this week’s top tech insights:\nMicrosoft 365\nA Deep Dive into OneNote; Your Digital Brain. Learn more Microsoft OneDrive: The Future of File Management is Here. Learn more New release Office Deployment Tool (ODT). Learn more Support for Office 2016 and 2019 clients connecting to Microsoft 365 services has ended. Learn more Microsoft fixes known issue causing Outlook freezes, slow starts. Learn more Add-ins in the new Outlook for Windows. Learn more Microsoft Azure\nConditional Access gap analyzer workbook. Learn more Azure Orphaned Resources Workbook. Learn more Azure Arc Windows/Linux Dashboard. Learn more Optimize your Cloud investment with new Azure Advisor Workbooks. Learn more Azure Monitor Baseline Alerts (AMBA) for Azure landing zone (ALZ) is Generally Available (GA)!. Learn more Azure\u0026rsquo;s outbound connectivity methods. Learn more Azure Virtual Network Manager in Azure Landing Zones. Learn more How to create a Temporary Access Pass using Logic Apps. Learn more FinOps from an Observability. Learn more Generally available: Zone Redundant Storage for Azure Disks is now available in more regions. Learn more Require multifactor authentication for Microsoft admin portals - Microsoft Entra. Learn more Microsoft Entra Connect 2.2.8.0 released. Learn more Azure Stack HCI Insider - October 2023. Learn more ExpressRoute Traffic Collector is now generally available. Learn more Microsoft Entra ID Beginner\u0026rsquo;s Tutorial (Azure Active Directory. Learn more Azure security best practices and patterns. Learn more Wired for Hybrid What\u0026rsquo;s New in Azure Networking September 2023 Edition. Learn more Azure Virtual Desktop (AVD) / Windows 365 / VMware Horizon / EUC\nBusiness continuity and disaster recovery (BCDR) for Azure/Citrix Virtual Desktop. Learn more W365 Community Weekly Newsletter – 14th of October to 20th of October 2023. Learn more AVD Community Newsletter – 19th October 2023. Learn more Week 42-2023 VMware Enduser Computing Updates. Learn more Week 41-2023 VMware Enduser Computing Updates. Learn more Use Microsoft OneDrive with a RemoteApp in Azure Virtual Desktop (preview). Learn more The Secrets to Better Remote Sessions. Learn more Upgrade to new Teams for Virtualized Desktop Infrastructure (VDI). Learn more AVD - Deep-Insights workbook update. Learn more Windows 365 Azure network connection. Learn more Azure Backup Multi-user authorization using Resource Guard. Learn more Generally Available: Azure Dedicated Host - Resize. Learn more The Windows 365 shared responsibility model. Learn more What’s new in MSIX: October 2023. Learn more Intune\nWindows passwordless experience and Web Sign-in. Learn more How to enroll Windows devices to Intune - multiple methods. Learn more Intune Newsletter – 20th October 2023. Learn more Intune Newsletter – 13th October 2023. Learn more Windows Store (winget) App Not Supported in Preview in Intune. Learn more Introducing Content Prep PowerShell. Learn more Microsoft Intune Endpoint Privilege Management for Windows 365. Learn more Easily deploy the NEW Teams client as an app in Intune. Learn more How to easily backup your Intune environment using IntuneCD and Azure DevOps Pipeline. Learn more Infrastructure as Code (IaC) / DevOps\nAutomate Microsoft 365 User Offboarding with PowerShell. Learn more Security Recommendations for DevOps resources - a reference guide. Learn more Getting started with PSResourceGet: The new package manager for PowerShell. Learn more HashiConf 2023: Terraform Roadmap and Commentary Part 1 / 2. Learn more Practical Container Scenarios in Azure - Anthony Nocentino - PSConfEU 2023. Learn more GitHub Learning Pathways: Learn from the best. Learn more HashiCorp Vault: A Handy Commands Cheatsheet. Learn more Vembu\nBDRSuite is all set to showcase its #1 cost-effective backup software at the Channel Futures Leadership Summit 2023 in Miami from October 30 till November 2! Visit Booth 329 for a live demo and expert advice on backup, disaster recovery, ransomware protection, and more. Learn more VMware\nvSphere LIVE: Authentication \u0026amp; Identity in VMware vSphere 8. Learn more Support for Virtual Trusted Platform Module (vTPM) on ESXi without vCenter Server? Learn more VMware Tanzu Cloud Native Webinars. Learn more On-Demand hot-extend online Oracle RAC clustered disks using VMware Virtual Volumes (vVols) on Pure Storage X50 AFF – No downtime. Learn more Microsoft is headed to VMware Explore 2023 in Barcelona. Learn more Windows\nSecurity review for Microsoft Edge version 118. Learn more "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/10/09/the-latest-technology-news-week-40-2023/",
  "title": "The latest technology news Week 40-2023",
  "description": "",
  "date": "October 9, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "news",
  "tags": "azure, news, VMware",
  "content":"Welcome to our weekly roundup of the hottest tech updates in the worlds of Azure, VMware, and other partners. In this series, we’ll be curating a collection of must-read articles, each offering a deep dive into the latest technological advancements, news, and trends within these cutting-edge platforms.\nWe understand that in today’s fast-paced tech landscape, staying informed is key. That’s why we’re here to make it easy for you. Each week, we’ll handpick the most insightful and informative articles that cover everything from Cloud, virtualization, Infrastructure As Code (IaC), DevOps to End User Computing breakthroughs.\nWithout further ado, let’s dive into this week’s top tech insights:\nMicrosoft 365\nIntroducing the new Microsoft Teams, now in preview. Learn more PIM for Groups and PIM integration with Conditional Access are now generally available! Learn more Microsoft Entra Private Access Preview. Learn more Unveiling the Next Generation of OneDrive. Learn more Conditional Access – Common Microsoft 365 Security Mistakes Series. Learn more Microsoft Azure\nIgnite session catalog. Learn more Azure Cost CLI. Learn more Monitoring Azure Virtual WAN - Best practices. Learn more Creating the Red Lab for Entra Id Azure series for 0 cost! Learn more , Learn more Azure Sovereign Landing Zone (SLZ) Preview. Learn more Generally Available: Multi-user authorisation for Backup vaults. Learn more Tutorial: Deploy and configure Azure Firewall and policy using the Azure portal. Learn more Unlocking Azure Secrets: Using Identities for Key Vault Access. Learn more Extended Security Updates for Windows Server 2012. Learn more Azure Virtual Desktop (AVD) / Windows 365 / VMware Horizon / EUC\nNew Microsoft Teams for Virtualized Desktop Infrastructure (VDI). Learn more Deploy and install the New Teams for VDI. Learn more New reports for Windows 365 Cloud PCs. Learn more Discover why ING banks on Windows 365 to improve management and performance for a remote workforce. Learn more AVD Community Newsletter – 5th October 2023. Learn more Updated all #Windows365 Cloud PC PowerShell scripts to leverage Beta Microsoft Graph PowerShell SDK V2.x. Learn more Windows365 Cloud PC interactive demo. Learn more What\u0026rsquo;s new in the Remote Desktop client for Windows. Learn more Use Microsoft OneDrive with a RemoteApp in Azure Virtual Desktop. Learn more Known Issues with Horizon View and Microsoft Teams (90693). Learn more Remote Desktop IP Virtualization in Windows Server 2019 and Windows Server 2022. Learn more Week 40-2023 VMware Enduser Computing Updates. Learn more Intune\nIntune change tracking (Azure Workbook). Learn more Analyzing Win32 Content Prep Tool. Learn more Configure AVD using settings catalog automated. Learn more Practice Assessment for Exam MD-102: Endpoint Administrator. Learn more Intune Newsletter – 6th October 2023. Learn more Proactive Remediation: detect devices with recent BSOD and automatically upload log files to SharePoint. Learn more Intune Detect and Remediate script: Detect disk events. Learn more Infrastructure as Code (IaC) / DevOps\nTerraform 1.6 is now available. Learn more Terraform Basics: Core Workflow. Learn more Configure Azure AZ PowerShell upgrade notifications. Learn more Updating your PowerShell modules to the latest version plus cleaning up older versions. Learn more Azure Automation vs Azure Functions with PowerShell. Learn more GitHub Certifications. Learn more Microsoft GitHub learning. Learn more A first look at Desired State Configuration v3. Learn more Vembu\nBDRSuite announces support for Backup and Recovery for Azure Virtual Machines, utilizing Azure Native APIs, and provides options to store backup data locally or in the cloud for Azure VMs. Learn more VMware\nVMware vSphere 8 Performance Is in the “Goldilocks Zone” for AI/ML Training Learn more VMware Cloud Well-Architected Framework and Designs. Learn more vCenter Reduced Downtime Upgrade | vSphere 8 U2. Learn more RVTools acquired by Dell Technologies. Learn more Windows\nMicrosoft might want to be making Windows 12 a subscription OS, suggests leak. Learn more Web sign-in for Windows. Learn more Other\nImage Creator powered by DALL-E 3 available in Bing Chat and Bing Image Creator. Learn more "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/10/02/the-latest-technology-news-week-39-2023/",
  "title": "The latest technology news Week 39-2023",
  "description": "",
  "date": "October 2, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "news",
  "tags": "avd, azure, news, VMware",
  "content":"Welcome to our weekly roundup of the hottest tech updates in the worlds of Azure, VMware, and other partners. In this series, we’ll be curating a collection of must-read articles, each offering a deep dive into the latest technological advancements, news, and trends within these cutting-edge platforms.\nWe understand that in today’s fast-paced tech landscape, staying informed is key. That’s why we’re here to make it easy for you. Each week, we’ll handpick the most insightful and informative articles that cover everything from Cloud, virtualization, Infrastructure As Code (IaC), DevOps to End User Computing breakthroughs.\nWithout further ado, let’s dive into this week’s top tech insights:\nMicrosoft 365\nEntra.News #11: Your weekly dose of Microsoft Entra. Learn more Taking control back (part 1: the add-ins. Learn more Entra ID Conditional Access Policy Design Baseline with Automatic Deployment Support. Learn more My favorite Conditional Access policies to implement (part one). Learn more Microsoft Azure\nDefault outbound access for VMs in Azure will be retired— transition to a new method of internet access. Learn more Try Azure SQL Database for free (preview). Get 100,000 vCore seconds of compute every month Learn more Identify anomalies and unexpected changes in cost. Learn more Optimizing your Azure VMs – 3 Simple Steps to Cloud Efficiency. Learn more Azure Firewall Tips from the Field. Learn more Unleash the power of Intune and Azure Virtual Desktop. Learn more A new version of the Azure Workbook for Orphaned Resources is available. Learn more Breaking Change for VM \u0026amp; VMSS PowerShell/CLI Customers. Learn more Use Image Integrity to validate signed images before deploying them to your Azure Kubernetes Service (AKS) clusters (Preview). Learn more Infrastructure as Code Testing with Azure Policy. Learn more Securing your Microsoft Azure Backups. Learn more Technology choices for Azure solutions PDF. Learn more Tutorial: Create a lab for classroom training with Azure Lab Services. Learn more Azure Update Manager FAQ. Learn more Azure Virtual Desktop (AVD) / Windows 365 / VMware Horizon / EUC\nWeek 39-2023 VMware Enduser Computing Updates. Learn more Do you want to improve the performance of your AVD hosts for no extra cost? Learn more Azure Virtual Desktop Insights Powered by the Azure Monitor Agent. Learn more Weekly Newsletter – 23rd of September to 29th of September 2023. Learn more IGEL releases IGEL Windows 365 App – Connect to your Windows 365 Cloud PC and learn about IGEL Boot to Cloud! Learn more What\u0026rsquo;s new in Windows 365 Enterprise? Learn more Azure Back To School 2023: Configure the backup of FSLogix profiles with Terraform. Learn more What’s new and next for Windows in the cloud | Tackling Tech. Learn more Intel’s License Free GPUs for VMware Horizon Changes the VDI Game. Learn more Intune\nSkilling snack: Configure devices with Windows Autopilot. Learn more Finding Uninstall Commands for all installed apps. Learn more Infrastructure as Code (IaC) / DevOps\nWork with environment variables in Azure Bicep. Learn more Creating more re-usable bicep code using user-defined types. Learn more How I cleared Terraform Associate (003) in 2 weeks. Learn more Terraform Certified Associate (003) – How to Study for the Exam. Learn more Do you want to maintain your Bicep Modules Centrally.? Learn more Automate development tasks by using GitHub Actions. Learn more How to deploy domain controllers with Terraform. Learn more Passwordless Azure Deployments with Workload Identity In Azure DevOps. Learn more Announcing template-based previews of Azure CLI and Azure PowerShell for Key Vault deployments. Learn more Microsoft Defender / Sentinel\nHow to keep track of Defender for Cloud Coverage. Learn more Vembu\nBDRSuite by Vembu announces Backup and Recovery support for AWS EC2 instances using AWS APIs, providing versatile backup data storage choices - locally or in the cloud. Learn more VMware\nVMware Explore 2023 Barcelona Content Catalog available. Learn more What\u0026rsquo;s New in vSphere 8 Update 2? Learn more Windows\nWindows 11 September 26 KB5030310 build 22621.2361 highlights. Learn more Releasing Windows 11, version 23H2 to the Release Preview Channel. Learn more Enhancing Windows 11 security, accessibility, and management for enterprises. Learn more How to get the latest Windows 11 innovations. Learn more WinGet 1.6 available. Learn more Other\nXenappblog virtual expo 29/09/2023. Learn more Get-Mailprotection. Check, what security Settings exist for a specific Domain. Learn more Books\nMastering Windows 365: The ultimate guide to designing, delivering, and managing architectures for Windows 365 Cloud PCs. Learn more Azure Cloud Adoption Framework Handbook: A comprehensive guide to adopting and governing the cloud for your digital transformation. Learn more "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/09/25/the-latest-technology-news-week-38-2023/",
  "title": "The latest technology news Week 38-2023",
  "description": "",
  "date": "September 25, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "news",
  "tags": "azure, news, VMware",
  "content":"Welcome to our weekly roundup of the hottest tech updates in the worlds of Azure, VMware, and other partners. In this series, we’ll be curating a collection of must-read articles, each offering a deep dive into the latest technological advancements, news, and trends within these cutting-edge platforms.\nWe understand that in today’s fast-paced tech landscape, staying informed is key. That’s why we’re here to make it easy for you. Each week, we’ll handpick the most insightful and informative articles that cover everything from Cloud, virtualization, Infrastructure As Code (IaC), DevOps to End User Computing breakthroughs.\nWithout further ado, let’s dive into this week’s top tech insights:\nMicrosoft 365\nMicrosoft 365 licensing changes in Europe. Link Microsoft 365 for business security best practices. Link Microsoft Azure\nShare images using a community gallery. Link Generally Available: Azure Update Manager. Link Azure WAF Post Deployment Check - Best Practices. Link New Azure management and onboarding capabilities for Azure Arc-enabled VMware vSphere. Link Recommendations for using availability zones and regions. Link What are Virtual Machine Scale Sets? Link Azure Storage TLS changes: Intermediate certificate renewals. Link Practice Assessments for Microsoft Certifications. Link Azure Storage Mover: The Secret of Seamless Cloud Migration. Link Which strategy you should choose when deciding on your Azure compute candidate service? Link Azure Virtual Desktop (AVD) / Windows 365 / VMware Horizon / EUC\nCopilot in Windows and new Cloud PC experiences coming to Windows 11. Link Dynamically install Chocolatey packages with AASC and Azure Artifacts (Part Two). Link Week 38-2023 VMware Enduser Computing Updates. Link AVD Community Newsletter – 21st September 2023. Link Remote Desktop client version update 1.2.4582. Link A deep dive into the quality difference of VMware Blast Global Quality Levels. Link Announcing general availability of Azure Virtual Desktop Custom Image Templates. Link Preparing Apps for MSIX. Link Intune\nOpen-source package index of Windows Package Manager repository. Link Intune Newsletter – 22nd September 2023. Link Winget Packager in Azure DevOps Pipeline. Link Infrastructure as Code (IaC) / DevOps\nCreating a multi-cloud golden image pipeline with Terraform Cloud and HCP Packer. Link Terraform Best Practices Series - Lessons from the Battlefield: Part 1. Link Terraform Best Practices Series - Lessons from the Battlefield: Part 2. Link Azure Devops - Workload Identity Federation. Link How to organize Terraform State For Multi-Region Deployments. Link Terrafying Azure – A Tale From The Dark Side. Link Now Generally Available: GitHub Advanced Security for Azure DevOps is ready for you to use. Link Announcing the removal of bundled plugins in HashiCorp Packer. Link Quickstart: Create an Azure Kubernetes Service (AKS) cluster by using Terraform. Link Microsoft Defender / Sentinel\nGithub Public Repo for Sentinel where you can find Playbooks, Workbooks, DataConnectors and more. Link Respond to threats across tenants more effectively with Microsoft 365 Defender multi-tenant support. Link Microsoft Defender for Cloud Webinar | Defender for Storage - What\u0026rsquo;s New? Link Vembu\nBDRSuite announces support for Backup and Recovery for Azure Virtual Machines, utilizing Azure Native APIs, and provides options to store backup data locally or in the cloud for Azure VMs. Link VMware\nEasily disable vSphere Cluster Services (vCLS) using UI/API in vSphere 8.0 Update 2. Link Getting Started with the Synology Storage Console for VMware. Link VMware vCenter Server 8.0 Update 2 Release Notes. Link VMware vCenter Server 8.0 Update 2 download. Link VMware ESXi 8.0 Update 2 Release Notes. Link VMware ESXi 8.0 Update 2 download. Link Windows\nWindows Server 2025: Initial Glimpse with New Domain Functional Level. Link Active Directory Hardening Series - Part 1 – Disabling NTLMv1. Link Introducing Copilot in Windows 11, new AI tools, and more. Link Retirement of Exchange Web Services in Exchange Online. Link Windows Subsystem for Linux September 2023 update. Link Windows Assessment and Deployment Kit (Windows ADK) for Windows 11, version 22H2 (updated September 2023) is available. Link Other\nUnleash the Power of Liquidware FlexApp One: Trial it QUICK! Over a Cup of Coffee! Link "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/09/22/download-the-latest-hashicorp-terraform-packer-and-vault-bits/",
  "title": "Download the latest Hashicorp Terraform, Packer, and Vault bits",
  "description": "",
  "date": "September 22, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "Automation",
  "tags": "Automation, Packer, Terraform, Vault",
  "content":"I created a PowerShell Script that downloads the latest version of Terraform, Packer, and Vault, extracts the archives to binaries, and adds the folder of the path environment variable. Running this script ensures you always work with the latest versions of Terraform, Packer, and Vault.\n\u0026lt;# .DESCRIPTION Function to download and extract the latest Packer, Terraform and Vault version from Hashicorp .NOTES Author: Ivo Beerens .NOTES Site: www.ivobeerens.nl .NOTES Version: 1.0 .NOTES Changed: September 10, 2023 .NOTES Reason: Creation #\u0026gt; #Enable TLS 1.2 [Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12 #Speed up the Invoke-Webrequest command $ProgressPreference = \u0026#39;SilentlyContinue\u0026#39; #Variables $temp_folder = \u0026#34;c:\\progs\\\u0026#34; #Temp download location $hashicorp_destination = \u0026#34;c:\\progs\\hashicorp\\\u0026#34; #Path for storing the Hashicorp binaries #Check if the temp folder exists If(!(test-path -PathType container $hashicorp_destination )) { New-Item -ItemType Directory -Path $hashicorp_destination } #Jump to the download folder Set-Location $hashicorp_destination Function Download-Hashicorp { param ( [string]$product, [string]$url ) try { Write-Host \u0026#34;............ Download $product from Hashicorp ............\u0026#34; -ForegroundColor Green $urls = Invoke-WebRequest -Uri $url | Select-Object -Expand links | Where-Object href -match \u0026#34;//releases\\.hashicorp\\.com/$product/\\d.*/$product_.*_windows_amd64\\.zip$\u0026#34; | Select-Object -Expand href $filename = $urls | Split-Path -Leaf $download = $temp_folder + $filename #Download Hashicorp bits Invoke-WebRequest $urls -outfile $download #Expand archive Write-Host \u0026#34;............ Expand $product archive to binary ............\u0026#34; -ForegroundColor Yellow Expand-Archive $download -DestinationPath $hashicorp_destination -Force Write-Host \u0026#34;............ Remove $product archive download............\u0026#34; -ForegroundColor Blue #Remove download Remove-Item $download } catch { Write-Host \u0026#34;An error occurred while downloading or extracting $product\u0026#34; -ForegroundColor Red throw $_.Exception.Message } } #Download Packer, Vault, and Terraform $products = @{ \u0026#39;packer\u0026#39; = \u0026#39;https://developer.hashicorp.com/packer/install\u0026#39; \u0026#39;vault\u0026#39; = \u0026#39;https://developer.hashicorp.com/vault/install\u0026#39; \u0026#39;terraform\u0026#39; = \u0026#39;https://developer.hashicorp.com/terraform/install\u0026#39; } foreach ($product in $products.GetEnumerator()) { Download-Hashicorp -product $product.Name -url $product.Value } ##Add the Hashicorp binary folder to the system environment variable path Write-Host \u0026#34;............ Add folder to path ............\u0026#34; -ForegroundColor Green [Environment]::SetEnvironmentVariable(\u0026#34;PATH\u0026#34;, $Env:PATH + \u0026#34;;\u0026#34; + $hashicorp_destination, [EnvironmentVariableTarget]::User) Write-Host \u0026#34;Please restart your PowerShell session for the changes to take effect.\u0026#34; -ForegroundColor Yellow Line 15: Change the temp folder for storing the downloaded archive files Line 16: Change the folder path for storing the Hashicorp binaries for Terraform, Packer, and Vault Line 19-22: Check if the folder for storing the Hashicorp binaries for Terraform, Packer, and Vault exists. If not it will be created Line 24-50: Function that downloads and extracts the archive files for Terraform, Packer, and Vault Line 52-61: Run the function to download and extract the Hashicorp Terraform, Packer, and Vault Line 63-66: adds the folder of the Hashicorp binaries to the path environment variable The latest version of this script can be found on my GitHub page, Link. "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/09/18/the-latest-technology-news-week-37-2023/",
  "title": "The latest technology news Week 37-2023",
  "description": "",
  "date": "September 18, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "news",
  "tags": "azure, news, VMware",
  "content":"Welcome to our weekly roundup of the hottest tech updates in the worlds of Azure, VMware, and other partners. In this series, we’ll be curating a collection of must-read articles, each offering a deep dive into the latest technological advancements, news, and trends within these cutting-edge platforms.\nWe understand that in today’s fast-paced tech landscape, staying informed is key. That’s why we’re here to make it easy for you. Each week, we’ll handpick the most insightful and informative articles that cover everything from Cloud, virtualization, Infrastructure As Code (IaC), DevOps to End User Computing breakthroughs.\nWithout further ado, let’s dive into this week’s top tech insights:\nMicrosoft Azure\nChoose an Azure compute service. Link Announcing the general availability of new Azure burstable virtual machines. Link Migration and modernization for Oracle workloads. Link Entra News #10: Your weekly dose of Microsoft Entra. Link Performance Testing with Azure Firewall Basic SK. Link David-Summers/Azure-Design: My Azure stencil collection for Visio. Highly functional and always up to date. Link PIM, PAM and PAW - what and how in Azure? Link Supported Kubernetes versions in Azure Kubernetes Service (AKS). Link Get Ahead with Self-Hosted Agents and Container Apps Jobs. Link Azure Virtual Desktop (AVD) / Windows 365 / VMware Horizon / EUC\nWindows 365 Enterprise – Points of Clarification and PoC Proven Practices. Link AVD Automation Cocktail - Azure Virtual Desktop automated with Bicep and Azure CLI. Link AVD Community Newsletter – 14th September 2023. Link Week 37-2023 VMware Enduser Computing Updates. Link Ruben\u0026rsquo;s EUC Industry Bento Box - September 2023. Link FSLogix App Masking YouTube video. Link Deploy secure management and monitoring to Azure Virtual Desktop. Link Intune\nEasily removing access to the Microsoft Store. Link Send Intune Discovered apps to Log Analytics with Azure Automation. Link Intune: Auto Reconnect Mapped Drives. Link Windows Autopilot Testing in VMs: A Step-by-Step Guide! Link Intune Newsletter – 15th September 2023. Link Endpoint Management Community Newsletter – September 11-17, 2023. Link Deploy SentinelOne with Intune. Link Infrastructure as Code (IaC) / DevOps\nGitops Your Scheduled Tasks. Link Introduction to Azure DevOps Workload Identity Federation (OIDC) with Terraform. Link Azure Deployment using Terraform Cloud – Overview, Prerequisites, Sample Code, and Resources. Link A simple example of Windows PowerShell Just Enough Administration (JEA)! Link Connect to Microsoft Graph in Azure DevOps Pipelines using Workload Identity Federation. Link Streamlining Multi-Component Deployments to Terraform Environments with GitHub Actions Matrices. Link Best Practices: 7 Key Benefits of Automated Infrastructure Deployment. Link Terraform Cloud pricing. Link Build image with containerized self-hosted Azure DevOps agent and private Azure Container Registry. Link Microsoft Defender\nCommon mistakes during Microsoft Defender for Endpoint deployments. Link Vembu\nBDRSuite now offers agentless backup and recovery for KVM virtual machines, seamlessly integrated with KVM hypervisor. Link VMware\nBulk Deploy UAGs. Link Extreme Performance Series 2023: Optimizing for Latency Sensitive Applications. Link Windows\nEnd of servicing plan for third-party printer drivers on Windows. Link Release notes: September 2023 - Windows 11, version 22H2. Link Windows 11 KB5030219 trashes PCs, gaming performance issues affect Starfield. Link "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/09/14/vmware-resources-list/",
  "title": "Searching for VMware resources?",
  "description": "",
  "date": "September 14, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware",
  "tags": "vmware, resources",
  "content":"Here’s an overview of VMware (Broadcom) resources I frequently use.\nVMware Downloads Name Description Link VMware Product Downloads All VMware product downloads. https://customerconnect.vmware.com/en/downloads/#all_products VMware Patches VMware patches https://customerconnect.vmware.com/patch/ VMware Trials VMware Trials product downloads https://www.vmware.com/trials-test-drives.html VMware Tools releases All VMware tools release https://packages.vmware.com/tools/releases/ VMware Flings Unofficial apps built by VMware employees to enhance VMware products https://flings.vmware.com/ Technical Reference Name Description Link VMware Knowledge Base Knowledge Base https://kb.vmware.com/ VMware Support Insider The top support articles https://blogs.vmware.com/kb/ Product Documentation VMware Product documentation https://docs.vmware.com/ Tech Zone Go from zero to hero with the latest technical resources on the VMware Digital Workspace Tech Zone https://techzone.vmware.com/ Technical Papers All published technical papers in PDF format https://www.vmware.com/techpapers.html VMware Blogs VMware blogs https://blogs.vmware.com/ Community Forums Community Forums https://communities.vmware.com/ VMware ports Discover which ports are required by VMware products https://ports.esp.vmware.com/ VMware Developer Integrate with VMware APIs to build on top of VMware products, manage our portfolio and automate your infrastructure. https://developer.vmware.com/home VMware GitHub VMware GitHub page https://github.com/vmware/ Compatibility checks Name Description Link Compatibility Guides VMware Hardware Compatability Guides (HCL) https://www.vmware.com/resources/compatibility/search.php Interoperability matrix Product Interoperability matrix https://interopmatrix.vmware.com/Interoperability Learning Name Description Link VMware Learning VMware learning site https://www.vmware.com/learning.html VMware Hands-on Learning \u0026amp; Trials VMware Hands-on Learning \u0026amp; Trials https://www.vmware.com/trials-test-drives.html Security Name Description Link VMware Security Advisories VMware Security Advisories document remediation for security vulnerabilities that are reported in VMware products. https://www.vmware.com/security/advisories.html VMware Security Hardening Guides Security Hardening Guides provide prescriptive guidance for customers on how to deploy and operate VMware products in a secure manner. https://www.vmware.com/security/hardening-guides.html If you have other VMware resources let me know!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2023/09/12/the-latest-technology-news-week-36-2023/",
  "title": "The latest technology news Week 36-2023",
  "description": "",
  "date": "September 12, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "news",
  "tags": "azure, news, VMware",
  "content":"Welcome to our weekly roundup of the hottest tech updates in the worlds of Azure, VMware, and other partners. In this series, we’ll be curating a collection of must-read articles, each offering a deep dive into the latest technological advancements, news, and trends within these cutting-edge platforms.\nWe understand that in today’s fast-paced tech landscape, staying informed is key. That’s why we’re here to make it easy for you. Each week, we’ll handpick the most insightful and informative articles that cover everything from Cloud, virtualization, Infrastructure As Code (IaC), DevOps to End User Computing breakthroughs.\nWithout further ado, let’s dive into this week’s top tech insights:\nMicrosoft Azure\nConditional Access Overview and Templates are now Generally Available! Link Azure App Services Architecture. Link Azure Landing Zone Review Assessment. Link Azure Virtual Desktop (AVD) / Windows 365 / VDI\nGetting started with Windows 365 Switch. Link VMware extends Windows 365 Cloud PCs to new audiences. Link Introducing the Horizon Golden Image Deployment Tool. Link Week 36-2023 VMware Enduser Computing Updates. Link What\u0026rsquo;s new in the Remote Desktop WebRTC Redirector Service? Link Windows\nWindows 11 New Updates for Snipping Tool and Notepad for Windows Insiders. Link TLS 1.0 and TLS 1.1 will be disabled in future Windows 11 starting in September 2023. Link Intune\nModern OS Provisioning for Windows Autopilot using OSDCloud. Link New to Intune? Avoid this Windows Autopilot mistake! Link Device/AVD session host compliance based Conditional access policy using Intune. Link Infrastructure as Code (IaC) / DevOps\nGitHub public roadmap. Link Deploying a Hashicorp Vault in Microsoft Azure via Terraform. Link GitHub Certifications (Actions, Admin and Security) for Azure Partners. Link Terraform on Azure with GitHub Copilot - Creating a Kubernetes Cluster and a Container Registry. Link Azure Landing Zones - Community Call - 25th September 2023. Link Quickstart: Create an Azure Firewall and a firewall policy - Terraform. Link Build a Dev Environment with Azure and Terraform. Link Version 2 of the Packer Azure plugin is now available. Link Vembu\nBDRSuite by Vembu unveils Release Candidate for version 7.0.0, bringing exciting new features like backup support for KVM, Azure, and AWS. Link VMware\nRetrieving vCenter Server certificate (Machine, VMCA Root, STS \u0026amp; Trusted Root) details using the vSphere API. Link New Tuning Settings for DRS and vMotion for VMs with Virtual GPUs in vSphere 8.0 Update 2. Link Other\nPSWriteHTML PowerShell Module. Link "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/09/03/the-latest-technology-news-week-35-2023/",
  "title": "The latest technology news Week 35-2023",
  "description": "",
  "date": "September 3, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "news",
  "tags": "avd, azure, cloudpc, news, VMware",
  "content":"Welcome to our weekly roundup of the hottest tech updates in the worlds of Azure, VMware, and other partners. In this series, we’ll be curating a collection of must-read articles, each offering a deep dive into the latest technological advancements, news, and trends within these cutting-edge platforms.\nWe understand that in today\u0026rsquo;s fast-paced tech landscape, staying informed is key. That\u0026rsquo;s why we\u0026rsquo;re here to make it easy for you. Each week, we\u0026rsquo;ll handpick the most insightful and informative articles that cover everything from Cloud, virtualization, Infrastructure As Code (IaC), DevOps to End User Computing breakthroughs.\nWithout further ado, let\u0026rsquo;s dive into this week\u0026rsquo;s top tech insights:\nMicrosoft Azure\nThe September Azure Back to School is started. Link Azure VM insights is now Generally Available. Link Azure Firewall: New Features and Region Availability. Link A Quick and Easy Way to Add Renamable Display Names to Azure Resources. Link Cloud Adoption Framework (CAF), Plan for IP addressing. Link Azure Virtual Desktop (AVD) / Windows 365 / VDI\nWhat\u0026rsquo;s new in Windows 365 Enterprise, August 28, 2023? Link Intune enrollment for Azure virtual desktop (AVD). Link Use cases for Azure Virtual Desktop Insights. Link AVD Community Newsletter – 31st August 2023. Link Windows 365 Flexible Pricing – Control Your IT Costs. Link Azure Virtual Desktop on Azure Stack HCI Series. Link AppLocker for VDI Infrastructure (Citrix/WVD/Horizon). Link Microsoft Remote Desktop Client (MSRDC) Version 1.2.4577. Link Windows\nRemove Built-in Windows 11 apps leveraging a Cloud-Sourced reference file. Link Defender\nMicrosoft 365 Defender Monthly news September 2023 edition. Link Intune\nPublish apps to Intune. Link Intune Newsletter – 1st September 2023. Link Deploy Driver updates using Intune. Link Windows Start menu Creator Tool. Link Application deployment in Windows 365: recommended practices. Link Intune Debug Toolkit. Link Intune RSS updates. Link The Group Policy analytics tool is now generally available. Link Infrastructure as Code (IaC) / DevOps\nUpdate Office 365 with Azure Automation Runbook for IaaS — step-by-step. Link Configurations I recommend you setup to deploy your Terraform into Azure at scale using GitHub Actions. Link Update the Terraform providers in 5 seconds. Link STOP! Don\u0026rsquo;t Use Azure DevOps Release Pipelines! Link Use PowerShell to convert App-V to MSIX. Link Using Hugging Face Code Autocomplete in VSCode to help with PowerShell and PowerCLI Scripts. Link Using Automation Runbook Webhooks To Alert on Databricks Status Updates. Link Entra Exporter 2.0 is now available. Link Deploying Terraform Infrastructure to Azure using Azure DevOps Pipelines. Link The PowerShell Best Practices and Style Guide. Link VMware\nESXi-Arm Fling 1.14 Refresh. Link VMware EUC Newsletter - Week 35. Link Unified Access Gateway 2306.1 released. Link VMware Tools updates address a SAML Token Signature Bypass Vulnerability (CVE-2023-20900). Link Download VMware Tools 12.3.0. Link VMware vSphere+ announcing Early Availability of VMware ESXi Lifecycle Management Service. Link Excalidraw - VMware architecture icons. Link Other\nNVIDIA vGPU software R535 16.1 released. Link "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/08/31/create-a-windows-11-vm-in-hyper-v-with-packer/",
  "title": "Create a Windows 11 VM in Hyper-V with Packer",
  "description": "",
  "date": "August 31, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "Automation, hyper-v, packer, windows-11",
  "tags": "hyper-v-2, packer, windows11",
  "content":"Some people ask if it is possible to create a Windows 11 VM in Hyper-V with Packer. The answer is YES. The Packer plugin that makes this possible is called “Hyperv”. Version 1.1.1 supports TPM. Enabling TPM in the Hyper-V VM makes it possible to install Windows 11 without any registry hacks.\nSo I decided to test Packer with Hyper-V and Windows 11 and create a blog post about it.\nSo what are the prerequisites? Make sure the Hyper-V role is enabled in Windows 10/11 Download the Windows 11 ISO and save the ISO to the following location: c:\\iso An example of downloading and creating a Windows 10/11 ISO can be found here: https://www.ivobeerens.nl/2021/05/19/quick-tip-download-the-latest-windows-10-iso-file/ Install the Windows Assessment and Deployment Kit (32-bit version). https://learn.microsoft.com/en-us/windows-hardware/get-started/adk-install#download-the-adk-for-windows-11-version-22h2 Add the following location the the system path variable: C:\\Program Files (x86)\\Windows Kits\\10\\Assessment and Deployment Kit\\Deployment Tools\\x86\\Oscdimg When the prerequisites are met you can go further with the rest. To make it easy I created a PowerShell script called _1.build.ps1 (link ) that does all the work for you.\n# Enable TLS 1.2 [Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12 # Speed up the invoke-webrequest command $ProgressPreference = \u0026#39;SilentlyContinue\u0026#39; # Variables $downloadfolder = \u0026#34;C:\\temp\\\u0026#34; # Packer location installed $win11_downloadfolder = \u0026#34;C:\\Temp\\packer-main\\hyper-v\\windows11\\\u0026#34; $packer_config = \u0026#34;windows.json.pkr.hcl\u0026#34; #Packer config file $packer_variable = \u0026#34;windows.auto.pkrvars.hcl\u0026#34; # Packer variable file $github = \u0026#34;https://github.com/ibeerens/packer/archive/refs/heads/main.zip\u0026#34; $product = \u0026#34;packer\u0026#34; $packer_uri = \u0026#34;https://developer.hashicorp.com/packer/downloads\u0026#34; # Check if the temp folder exist If(!(test-path -PathType container $downloadfolder)) { New-Item -ItemType Directory -Path $downloadfolder } # Go to the Packer download folder Set-Location $downloadfolder # Download Github files Invoke-WebRequest -Uri $github -OutFile ${downloadfolder}packer.zip Expand-Archive ${downloadfolder}packer.zip -DestinationPath $downloadfolder -Force # Remove zip file Remove-Item -Path ${downloadfolder}packer.zip # Download the latest version of Packer $packurl = Invoke-WebRequest -Uri $packer_uri| Select-Object -Expand links | Where-Object href -match \u0026#34;//releases\\.hashicorp\\.com/$product/\\d.*/$product_.*_windows_amd64\\.zip$\u0026#34; | Select-Object -Expand href $packdown = $packurl | Split-Path -Leaf $packdownload = $downloadfolder + $packdown Invoke-WebRequest $packurl -outfile $packdownload # Unzip Packer Expand-Archive $packdownload -DestinationPath $win11_downloadfolder -Force # Remove the Packer ZIP file Remove-Item $packdownload # Go to the Packer download folder Set-Location $win11_downloadfolder Line 7-13: This is the variable block. Change if needed Line 13-19: Here are the variables located. Change if needed Line 21-25: The script creates a c:\\temp folder if it does not exist Line 30-32: Downloads the GitHub files for creating a Windows 11 VM Line 37-41: Downloads the latest version of Packer After running the _1.build.ps1 script it is time to change the variables:\nGet the hash of the ISO file with the PowerShell Get-Filehash command and change the variable in the windows-auto-pkvars.hcl file Change the other variables in the windows-auto-pkvars.hcl such as win_iso for the exact iso name Run the following _2.run_packer.ps1 script # Show Packer Version .\\packer.exe -v # Download Packer plugins .\\packer.exe init \u0026#34;${$win11_downloadfolder}${packer_config}\u0026#34; # Packer Format configuration files (.pkr.hcl) and variable files (.pkrvars.hcl) are updated. .\\packer.exe fmt -var-file=\u0026#34;${$win11_downloadfolder}{$packer_variable}\u0026#34; \u0026#34;${$win11_downloadfolder}${packer_config}\u0026#34; # Packer validate .\\packer.exe validate . # Packer build .\\packer.exe build -force -var-file=\u0026#34;${$win11_downloadfolder}${packer_variable}\u0026#34; \u0026#34;${$win11_downloadfolder}${packer_config}\u0026#34; Line 2: Show the Packer version Line 5: Download Packer plugins such as the hyper-v and Windows update plugin Line 8: Formats the config and variable HCL file syntax Line 11: Performs a validation to make sure the variable and config file are ok Line 15: Starts Packer to create a Windows 11 VM The creation of a Windows 11 VM starts. When the image is created it is stored and needs to be imported in the Hyper-V manager.\nStart the Hyper-V Manager Select Import Virtual Machine Browse to the created image folder C:\\Temp\\packer-main\\hyper-v\\windows11\\output-windows11\\ Select the VM Register the VM in-place Start the VM On my laptop, I have in 35 minutes a fresh copy of Windows 11 running with the latest updates installed running in Hyper-V. How cool is that! The scripts can be found on my GitHub page (link ).\nHave fun creating Windows 11 VMs.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2023/08/28/the-latest-technology-news-week-34-2023/",
  "title": "The latest technology news Week 34-2023",
  "description": "",
  "date": "August 28, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "news",
  "tags": "news",
  "content":"The latest weekly technology news from Microsoft, VMware, and other partners with a focus on End User Computing (EUC).\nMicrosoft Azure\nAzure Enterprise-Scale - Reference Implementation. Link Awesome Azure Architecture. Link Using PowerShell to retrieve Azure VM Operating Systems. Link General Availability: Improve VM resiliency with Azure Advisor\u0026rsquo;s Availability Zone recommendation. Link Configuring Azure PIM with Security Groups. Link Well-architected assessment for Azure VMware Solution workloads. Link Announcing new enhancements for Azure VMware Solution. Link Getting started with Azure Firewall (2023 edition). Link Conditional Access gap analyzer workbook. Link Deploy Azure landing zones. Link Azure Virtual Desktop (AVD) / Windows 365 / VDI\nApply Zero Trust principles to an Azure Virtual Desktop deployment. Link New Best Friends: Windows 365 and VMware Horizon. Link Deploying Windows 365 Frontline beyond shift workers. Link Dev-optimized, cloud-based workstations—Microsoft Dev Box is now generally available. Link What\u0026rsquo;s new this week in #Windows365 #CloudPC? Weekly Newsletter 19th to 25th of August 2023. Link AVD Community Newsletter – 24th August 2023. Link Monitor AVD with the Azure Monitor Agent part 1. Link Onboard AVD pooled session hosts to Defender automatically with a script. Link Windows\nPerform Active Directory security assessment using PowerShell. Link Release notes for Microsoft Edge Security Updates. Link Announcing general availability of FSLogix 2210 hotfix 2! Link Intune\nIntune Newsletter – 25th August 2023. Link What’s new in Microsoft Intune (2308) August edition. Link Install Applications after ESP (Enrollment Status Page). Link A Guide to setting up Windows Autopilot with Hybrid Azure AD join capabilities in Microsoft Intune. Link Infrastructure as Code (IaC) / DevOps\nThe Power of PowerShell: Calculating Azure VMware Solution (AVS) Costs. Link Control multiple AZ tenants with Microsoft365DSC and AZ Pipelines. Link How to Configure Azure CLI Default Output Format. Link Using Github Actions to deploy Azure resources with Terraform. Link Enterprise Azure Policy as Code (EPAC). Link Course AZ-040T00: Automating Administration with PowerShell. Link Securing your workflows with managed identities. Link HashiCorp updates licensing FAQ based on community questions. Link VMware\nvSphere+ Overview Lightboard video. Link Week 34-2023 VMware Enduser Computing Updates. Link VMware Explore 2023 Las Vegas | Day 1 Recap. Link VMware Explore 2023 Las Vegas | Day 2 Recap. Link VMware Explore 2023 Las Vegas | Day 3 Recap. Link On-demand session URLs for VMware Explore US 2023. Link vSphere 8 Update 2 release. Link Bringing our Apps Everywhere vision to life with VMware App Volumes. Link Other\nControlUp 50 User FREE License. Link NVIDIA Changed Generative AI Forever (SIGGRAPH 2023 Supercut). Link "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/08/22/the-latest-technology-news-week-33-2023/",
  "title": "The latest technology news Week 33-2023",
  "description": "",
  "date": "August 22, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "news",
  "tags": "avd, azure, VMware",
  "content":"The latest weekly technology news from Microsoft, VMware, and other partners with a focus on End User Computing (EUC).\nMicrosoft Azure\nNetwork Security Dashboard for Microsoft Defender for Cloud. Link Generally available: Cloud Next-Generation Firewall (NGFW) by Palo Alto Networks - an Azure Native ISV Service. Link Use PowerShell to Remediate Non-Compliant Azure Policy Definitions. Link Azure VMware Solution Performance Design Considerations. Link VMware Cloud Director Service Now Generally Available for Azure VMware Solution. Link How to set ACLs Recursively? Link Mastering Access Control: Deep Dive into Azure Role-Based Access. Link Guest reports and cleanup runbook. Link Simplify the WordPress blog/content creation with Azure OpenAI. Link Introduction to Kubernetes on Azure. Link Azure Virtual Desktop (AVD) / Windows 365 / VDI\nWhat\u0026rsquo;s new this week in #Windows365 #CloudPC? Link Use Custom Image Template scripts in Nerdio to customize your AVD image. Link Desktop Virtualization: It’s all about the apps. Link Announcing FSLogix release changes and Windows multi-session updates in Azure Marketplace. Link Adobe 64-bit Unified App Installer. Link Windows\nGet AD permissions with ADACLScanner. Link Re-release of August 2023 Exchange Server Security Update packages. Link A Good ISO File is a Quiet ISO File. Link Intune\nIntune Naming Convention. Link Intune Automation with PowerShell. Link Creating Windows ISO with Autopilot JSON Injected. Link Winget Intune packager CLI. Link Infrastructure as Code (IaC) / DevOps\nWhat SAAS CTOS needs to know about the Terraform license change. Link Deploy Windows Core Server 2022 with Server Core App Compatibility Feature on Demand with Packer. Link Create an Azure Sandbox Environment with Terraform. Link Introduction to GitHub Copilot. Link Azure Infrastructure as Code: Fundamentals, Data \u0026amp; Testing Tricks | Sussex Azure User Group. Link Keeping Infrastructure as Code secure (KICS). Link HashiCorp Terraform Associate Certification Study Course – Pass the Exam With This Free 7 Hour Course. Link , Link What are Visual Studio Subscriptions | Hands-on tutorial with demo | Developer tools. Link Three ways to start Visual Studio Code. Link VMware\nVMware EUC Newsletter - Week 33. Link VMware Tanzu Cloud Native Webinars. Link VMware Tools 12.2.6 download. Link Automate VMware Horizon Agent Upgrade Using PowerShell. Link "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/08/15/the-latest-technology-news-week-32-2023/",
  "title": "The latest technology news week 32-2023",
  "description": "",
  "date": "August 15, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "azure, news, VMware",
  "tags": "news",
  "content":"The latest weekly technology news from Microsoft, VMware, and other partners with a focus on End User Computing (EUC).\nMicrosoft Azure\nGenerally available: Azure Blob Storage Cold Tier. Link Public preview: Azure Storage Mover support for SMB and Azure Files. Link Subscribe to the Azure Stack HCI Newsletter. Link Azure managed disk types overview. Link Azure Bastion. One does (still) not simply walk into my VNet!. Link Azure Virtual Desktop (AVD) / VDI\nConfigure autoscaling for personal AVD host pools automated. Link Onboard and configure Defender for Endpoint for non-persistent VDI environments. Link The Az.Avd #PowerShell module is updated to version 3.1.0. Added personal Avd scaling plan commands. Link Windows 365\nWindows 365 Switch now available in public preview. Link Join the EMEA (Europe, Middle-East, and Africa) Windows 365 User Group. Link Join the USA / United States and Latin Americas Windows 365 User Group. Link Windows\nMicrosoft August 2023 Patch Tuesday warns of 2 zero-days, 87 flaws. Links Windows 11 KB5029263 cumulative update released with 27 fixes. Link Intune\nIntune 2307 adds the capability to uninstall apps. Link Infrastructure as Code (IaC)\nUpdating your PowerShell modules to the latest version plus cleaning up older versions. Link What’s New in vSphere Automation: Infrastructure as Code. Link What’s New in vSphere Automation: Power Actions. Link Automate Nvidia vGPU Driver Upgrade using PowerShell for VMware Horizon. Link PowerCLI Community Repository. Link GO-EUC Lab files. Link TFTUI - The Terraform textual UI. Link Streamlining Software Deployments with Intune Win32 Apps, Winget \u0026amp; PowerShell!. Link VMware\nSee the IaC section for updates. "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/08/07/the-latest-technology-news-week-28-till-31-2023/",
  "title": "The latest technology news week 28-31 2023",
  "description": "",
  "date": "August 7, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "azure, VMware",
  "tags": "news",
  "content":"After a great holiday an overview of the latest weekly technology news from Microsoft, VMware, and other partners with a focus on End User Computing (EUC).\nMicrosoft Azure\nHot patching is now available for Windows Server VMs on Azure with Desktop Experience! Link Windows Server end-of-support (EOS): Upgrade seamlessly with Azure Migrate (Public preview). Link Cost optimization workbook available on Advisor. Link MS Defender for Endpoint (MDE) Onboarding Method Overview. Link Azure Migrate Execution Guide. Link Readying your landing zone for migration. Link Getting to Green with Azure Policy, by Sven Aelterman (Nashville MS Azure Users Group, July 2023). Link Azure Virtual Desktop (AVD)\nAnnouncing the General Availability of Private Link for Azure Virtual Desktop. Link Announcing Public Preview of Personal Desktop Autoscale on Azure Virtual Desktop. Link Announcement: General Availability of Watermarking Support in Azure Virtual Desktop. Link Announcing General Availability of Confidential VMs in Azure Virtual Desktop. Link AVD Client 1.2.4487 update. Link Azure Virtual Desktop | Automated scaling, imaging \u0026amp; monitoring. Link Microsoft\u0026rsquo;s Zero Trust guidance for Azure Virtual Desktop deployments now includes guidance for private endpoints! Link Design Decision: The Economics of Delivering Citrix DaaS in Azure on AMD Compute. Link AVD Tech Fest 2023, 14 September Edinburgh. Link Windows 365\nWhat\u0026rsquo;s new in Windows 365 Enterprise? Link Windows\nThe Windows IT Pro news is available to follow on LinkedIn. Link Windows client roadmap update: July 2023. Link TLS 1.0 and TLS 1.1 soon to be disabled in Windows. Link Administrative Templates (.admx) for Windows 11 2022 Update (22H2) - v3.0. Link Intune\nWhat’s new in Microsoft Intune 2307 (July) edition? Link IntuneMaps, A Microsoft Intune click-friendly Infographic created for the Windows Platform. Link IaC\nEmpowering Disaster Recovery for Azure VMs with Azure Site Recovery and Terraform. Link Empowering AI: Building and Deploying Azure AI Landing Zones with Terraform. Link Automate Your PowerShell Scripts from a Pipeline - April Edwards - PSConfEU 2023. Link VMware\nvSphere Virtual TPM (vTPM) Questions \u0026amp; Answers. Link What is vSphere Diagnostic Tool and how to use it? Link VMware Horizon 2212.1. Link VMware Horizon 2111.2 ESB. Link. VMware Horizon Server contains a HTTP request smuggling vulnerability. VMware has evaluated the severity of this issue to be in the Moderate severity range with a maximum CVSSv3 base score of 5.3. Link VMware vSphere 8 Performance Is in the “Goldilocks Zone” for AI/ML Training whitepaper. Link Other\nMicrosoft Edge for Business FAQ. Link Creating cool, glowing architecture diagrams? Link Dynamically install Chocolatey packages with AASC and Azure Artifacts. Link "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/07/11/the-latest-technology-news-week-27-2023/",
  "title": "The latest technology news week 27–2023",
  "description": "",
  "date": "July 11, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "azure",
  "tags": "news",
  "content":"Here’s the latest weekly technology news from Microsoft, including updates on Microsoft Azure, Microsoft Azure Virtual Desktop (AVD), Windows 365, VMware, and IaC.\nMicrosoft Azure\nCheck This Out! (CTO!) Guide (June 2023). Discover the latest innovations in core infrastructure \u0026amp; security! Link What is Azure Virtual Network encryption (Preview)? Link Microsoft Events and where to find them (v1.1). Link How to protect Azure storage accounts (Blob) using Defender for Storage. Link May 2023 Cumulative Update Explained. Link What is Azure AD Connect cloud sync? Link Network Design Guide for Azure VMware Solution. Link How to use Managed Identities with Microsoft Graph PowerShell. Link Azure AD Assessment Guide. Link Become a Microsoft Defender for Cloud Ninja. Link Azure Virtual Desktop\nNew client v1.2.4419 released. Link Compare Cloud-Based Workspaces: Windows 365 vs. Azure Virtual Desktop (AVD). Link Windows 365\nWindows 365 Enterprise - What\u0026rsquo;s new? Link Windows 365 Frontline is now generally available. Link Windows 365 \u0026amp; NextGen Windows Experiences Partner Virtual Technical Bootcamp. Link Intune\nRequest and Deploy SCEP Certificates with the Intune NDES Connector. Link Intune Training Course 2023. Link Microsoft 365\nSecurity Baseline for M365 Apps for Enterprise v2306. Link Microsoft Cranks Up Deployment Schedule for Teams 2.1. Link Administrative Template files (ADMX/ADML) for Microsoft 365 Apps for enterprise/Office LTSC 2021/Office 2019/Office 2016 updated July. Link IaC\nJake Walsh EUC Forum July 2023 Meeting – Resources and Slides. Link Here are 5 nifty Azure Bicep tips and tricks to speed up your Azure deployments. Link De Nederlandse Kubernetes Podcast - Afl 19: GitHub of Azure DevOps? Link Terraform azurerm provider v3.64.0 supports Privileged Identity Management (PIM). Link VMware\nVMware Explore Barcelona Registration Is Open (6-9 November 2023). Link VMware Horizon 8 2306 released. VMware Horizon Client for Windows 2306 released. Link VMware Unified Access Gateway 2306 released. Link Other\nNVIDIA vGPU v16.0 Long-Term Support. With VMware vSphere 8.1 support. This makes it possible to run mixed GPU profiles in a single cluster including DRS support! Link "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/07/03/the-latest-technology-news-week-26-2023/",
  "title": "The latest technology news week 26–2023",
  "description": "",
  "date": "July 3, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "news",
  "content":"Here’s the latest weekly technology news from Microsoft, including updates on Microsoft Azure, Microsoft Azure Virtual Desktop (AVD), Windows 365, VMware, and HashiCorp Terraform.\nMicrosoft Azure\nm365maps.com June 2023 update. Link Azure Landing Zones Public Roadmap. Link Azure AD Security Config Analyzer (AADSCA). Link How to reset multi-factor authentication (MFA). Link Announcing Trusted Launch as default in Azure Portal. Link Using Resource Locks To Prevent Accidental Changes In Azure. Link Microsoft AVD\nSession hosts are not available in Azure Virtual Desktop, but VMs are running. Link Test Azure Virtual Desktop on-prem? Link Want To Accelerate Azure Virtual Desktop? Link STOP Copying Files in AVD! DO This Instead. Link Microsoft VDI Bill of Materials - AVD/Citrix on Azure/VMware Horizon on Azure. Link Move on-premises Remote Desktop Services to Azure Virtual Desktop scenario. Link It is not supported to roam the OneDrive registry hive as part of a non-persistent VDI environment. Link Windows 365\nApplication Deployment in Windows 365 – Recommended Practices. Link IaC\nAzure access from GitHub and GitLab pipelines - without secrets. Link The Awesome Azure DevOps repository contains a list of Azure DevOps content created by Microsoft and the community! Link Terraform\nTerraform Best Practices: The 20 Practices You Should Adopt. Link VMware\nEvaluation Guide for VMware Horizon 8. Link Lessons Learned with UAG Deployments for Workspace ONE. Link Other\nPowerShell Client-Checker security script. Link How to Send Emails Using Microsoft Graph PowerShell. Link "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/06/25/the-latest-technology-news-week-25-2023/",
  "title": "The latest technology news week 25–2023",
  "description": "",
  "date": "June 25, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "azure",
  "tags": "news",
  "content":"Here’s the latest weekly technology news from Microsoft, including updates on Microsoft Azure, Microsoft Azure Virtual Desktop (AVD), Windows 365, VMware, and HashiCorp Terraform.\nMicrosoft Azure\nAzure AD Security Config Analyzer (AADSCA). Link Graph PowerShell Conversion Analyzer. Get help converting your MSOnline and Azure AD PowerShell script to Graph PowerShell. Link Azure AD Application Activity Report Analysis. Link Mastering Azure Portal Admin: A Comprehensive Guide for Effective Cloud Management. Link How to find unused Azure resources. Link Premium SSD v2 storage is available. Link Azure architecture icons. Link Azure Landing Zone Accelerator for AVS: Streamline your Azure VMware Solution deployment with a central hub in Azure. Link Conditional Access Documenter and Azure AD mind map. Link Azure Tips and Tricks. Link Updated Requirements for SMTP Relay through Exchange Online. Link Microsoft shares a workaround for Outlook freezes and slow starts. Link AVD\nAVD Client Updates for version 1.2.4337. Link Azure Virtual Desktop - Comparing Custom Image Templates to Nerdio Scripted Actions. Link Want to test Azure Virtual Desktop on-prem? Here’s a guide taking you from 0 to a functional single node Azure Stack HCI cluster and Azure gallery images installed and added to your AVD environment. Link Azure Virtual Desktop Insights Powered by the Azure Monitor Agent. Link Azure Virtual Desktop (AVD) Landing Zone Accelerator. Link Windows 365\nMove a cloud PC between regions (preview). Link GitHub\nGitHub Actions tutorial. Link IaC\nHow could you easily create new pre-configured Azure subscriptions that meet your organization’s specific needs? Link DevOps Crash Course (Docker, Terraform, and Github Actions). Link Set up your development environment on Windows. Link Hashicorp\nPacker - TPM support for Hyper-V plugin. Link VMware\nOverview of the vSphere editions for the on-premises and hybrid workloads. Link Frequently Asked Questions about vSphere Releases. Link vCenter Server 8.0 U1b \u0026amp; 7.0 U3m is now available and addresses the most recent CVEs. VMware vCenter Server 7.0 Update 3m Release Notes. Link . 8.0 U1b Release Notes. Link vSphere Certificate Management Questions \u0026amp; Answers. Link Try the Free Migration Assessment with VMware Aria Migration. Link Other\nDeployment patterns explained. Link PSConfEU 2023 files \u0026amp; sessions. Link The Importance of Updating Installed PowerShell Modules – And automate it too with my script. Link "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/06/16/the-latest-technology-news-week-24-2023/",
  "title": "The latest technology news week 24-2023",
  "description": "",
  "date": "June 16, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "azure",
  "tags": "news",
  "content":"Here’s the latest weekly technology news from Microsoft, including updates on Azure, Windows 10 and 11, Microsoft Azure Virtual Desktop (AVD), Windows 365, VMware, and HashiCorp Terraform.\nAzure\nAzure Service Retirement workbook. Link Azure Reliability workbook. You can evaluate the reliability of the posture of your applications, assess risks and plan improvements using the new Reliability workbook template, which is available in Azure Advisor. Link What\u0026rsquo;s new with the Azure VMware Solution, June 2023. For example support for Stretched Clusters. Link Important: Azure AD Graph Retirement and PowerShell Module Deprecation. Link Azure AD recommendation: Migrate from the Azure Active Directory Library to the Microsoft Authentication Libraries. Link and Livestream that covers why and how to move from ADAL to MSAL. Link Tutorial: Deploy self-hosted CI/CD runners and agents with Azure Container Apps jobs. Link NVA Redundancy with Azure Internal Load Balancer. Link Windows 10 \u0026amp; 11 updates\nWindows 11 June 13, 2023 update KB5027231. Watch the video about this update. Link Microsoft has fixed a known issue causing file copying and saving problems on systems running Windows 11, version 22H. Link Windows 10 KB5026435 and KB5027215 updates. Link KB5028407: How to manage the vulnerability associated with CVE-2023-32019. To mitigate the vulnerability associated with CVE-2023-32019, install the June 2023 Windows update or a later Windows update. By default, the fix for this vulnerability is disabled. To enable the fix, you must set a registry key value based on your Windows operating system. Link Azure Virtual Desktop (AVD)\nNew Azure Virtual Desktop client 1.2.4337 that fixes 2 CVEs. Link What’s new in MSIX. Link FSLogix SECRETS Every AVD Admin Should LEARN. Great video from the Azure Academy. Link AVD Disaster Recovery. Link OneDrive Clean-Up tool for Azure Virtual Desktop. Link Windows 365\nHigh-level architecture for Windows 365. Link Microsoft 365\nAdministrative Template files (ADMX/ADML) for Microsoft 365 Apps for enterprise/Office LTSC 2021/Office 2019/Office 2016 and the Office Customization Tool for Office 2016. Link Intune\nIntune App Factory. Intune App Factory is an automated solution that combines the flexibility and power of Azure DevOps Pipelines together with the IntuneWin32App PowerShell module, intended to simplify and streamline the application packaging process in Intune. Link VMware\nVMSA-2023-0013 - VMware Tools update addresses Authentication Bypass vulnerability. Link . VMware Tools 12.2.5 can be downloaded here, Link ESXi-Arm Fling 1.13 released. A small update with fixes and enhancements as well HA support with vCenter Server 8.0 and 8.0 Update 1. Link Upgrade vSphere now: vSphere 6.5 and 6.7 end of technical guidance is coming this November 2023. Link Virtual TPM (vTPM) introduction, design and Q\u0026amp;A technical paper. Link Frequently Asked Questions about vSphere Releases. Link HashiCorp\nTerraform 1.5 is now generally available, featuring a config-driven import workflow and a new language primitive for infrastructure validations. Link Other\nFortinet fixes critical RCE flaw in Fortigate SSL-VPN devices, patch now. Link Ivanti Workspace Control version 10.13.20.0 released. This release contains only some bug fixes. Link "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/06/10/the-latest-technology-news-week-23-2023/",
  "title": "The latest technology news week 23-2023",
  "description": "",
  "date": "June 10, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "avd, azure, VMware",
  "tags": "news",
  "content":"Here’s the weekly latest technology news from Microsoft Azure, Microsoft Azure Virtual Desktop (AVD), Windows 365, and VMware. The main focus is based on Cloud and End User Computing (EUC) technology.\nAzure Virtual Desktop (AVD)\nNerdio Modeler for Azure Virtual Desktop. Modeler prompts for a handful of inputs and produces an easy-to-understand cost analysis, including auto-scale savings. You can now estimate precisely how much your AVD environment will cost in total and per-user instead of waiting for the Azure bill. Link Remote Desktop Client 1.2.4331. A new Remote Desktop Client is released with improvements and fixes. Link How to Manage Windows 10 \u0026amp; Windows 11 Multi-session Hosts Using Microsoft Intune. Link AVD – SSO and Passwordless Authentication. At the moment AVD requires multiple login prompts. Microsoft has in preview Single Sign-On. This blog explains how to configure the SSO feature. Link Windows 365\nHow to configure Windows 365 boot. Link What\u0026rsquo;s new in Windows 365 Enterprise? The latest enhancements of Windows 365. Link Introducing Windows 365 frontline. Link Azure\nWindows Defender for servers. It is now possible to onboard servers (Windows and Linux) to Defender for Servers without Arc. Link New Azure Landing Zone Terraform module. We have adopted a more modular approach and we hope we have addressed key tasks, such as the ability to fully customize the management group hierarchy. Link Azure Enterprise Scale whats new? See the monthly updates of the Enterprise Scale/Azure Landing Zones. Link Deploy (Azure) Network-as-Code as a champ. Link FSLogix\nThe Antivirus and folder exclusions are modified for FSLogix containers. There is no need to exclude the drivers and executables anymore (*.sys and *.exe). Link VMware\nVMware vSphere Certificate Management document. This document explains the different VMCA certificate management modes. Link VMware Horizon Deployment Guide for Healthcare. This document describes testing configurations and best practices for integrating VMware Horizon with a variety of healthcare software products. Link VMware Horizon on Azure VMware Solution (AVS) installation. Link vExpert 2023 Second Half Apps Are Open. Link Citrix\nNetScaler Automation Toolkit. NetScaler Automation Toolkit contains all the NetScaler tools to be used for making NetScaler part of DevOps and automation pipelines. Link Other\nKeePass 2.54 released. Fixes a bug that leaked the cleartext master password. Link How to launch the command prompt and PowerShell from MS Paint. Link "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/05/16/perform-an-azure-vm-inventory/",
  "title": "Perform an Azure Virtual Machine (VM) inventory with PowerShell",
  "description": "",
  "date": "May 16, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "azure",
  "tags": "azure, microsoft",
  "content":"To generate quickly an overview of all the Virtual Machines (VMs) in an Azure subscription I made a PowerShell script that uses the Azure Az PowerShell module. This script will do an inventory of all VMs in a subscription.\nThe following VM information is displayed per subscription:\nName PowerState Region Resource Group VM Size CPU Cores Memory (MB) License Type Operating System Offer SKU Publisher VM Generation VM Agent version OS Name OS Version NIC Name VNet Private IP address Public IP address OS disk name OS disk size (GB) OS storage type OS disk caching Data disks count Data disks names Admin username If boot diagnostics is enabled Boot diagnostics storage account Tags The time the VM was created The output will be displayed in the PowerShell console, to a PowerShell GridView output, and saved to a delimited CSV file. The \u0026ldquo;azurevm-inventory.ps1\u0026rdquo; script can be found on my GitHub repo, link .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2023/04/17/quick-tip-remove-expired-root-certificates-from-a-vcenter-server/",
  "title": "Remove expired root certificates from a vCenter Server the easy way",
  "description": "",
  "date": "April 17, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vcenter-server, VMware",
  "tags": "certificate, powercli, vcenter-server, vcsa",
  "content":"I see a lot of vCenter Servers that have expired root certificates. In the vCenter Server Appliance Administration section under Certificate Management, you can see the expired certificates.\nCleaning up expired root certificates from the vCenter Server can be done by using the \u0026ldquo;vecs-cli\u0026rdquo; command on the vCenter Server Appliance (In the vSphere Client this is not possible). This involves multiple steps (VMware KB ). An easy way to clean up expired root certificates is by using PowerCLI and following the steps below:\nMake sure that PowerCLI is installed. If not use the following command in PowerShell to install PowerCLI: Install-Module VMware.PowerCLI -Scope CurrentUser -Force -SkipPublisherCheck -AllowClobber Connect to the vCenter Server Connect-VIServer \u0026#34;VCENTER-FQDN\u0026#34; List the expired root certificate Get-VITrustedCertificate -vCenterOnly | Where-Object { $_.NotValidAfter -lt (Get-Date) } Remove the expired root certificate Get-VITrustedCertificate -vCenterOnly | Where-Object { $_.NotValidAfter -lt (Get-Date) } | Remove-VITrustedCertificate With the latest PowerCLI oneliner, all the expired root certificates are removed from the VCSA. This is less complex than using the vecs-cli command.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2023/03/27/create-windows-vms-in-azure-with-terraform/",
  "title": "Create Windows VMs in Azure with Terraform",
  "description": "",
  "date": "March 27, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "azure, terraform",
  "tags": "azure, terraform",
  "content":"With Terraform you can easily create new VMs in an existing Azure environment in a couple of minutes. For example, when I want to test an application, I create a new VM and install the application. When I finish testing I remove the VM with a single command. The VM creation only takes a couple of minutes.\nIn this example, an Azure VM is created using existing Azure resources (Resource Group, VNet, and Subnet) with the following settings:\nA Windows Server 2022 or Windows 11 22H2 Enterprise multi-session VM with the options trusted launch, secure boot, and vTPM enabled The VM has a public and private IP address or only a private IP address When defining a public IP address, a Network Security Group (NSG) is created with an RDP rule that only allows the external IP address A Custom Script Extension that downloads and executes a PowerShell script Automatically Shutdown the VM at a given time After the test completes, the VM is destroyed by Terraform. When creating images (golden images) I use other tools such as Hashicorp Packer for example.\nFile structure In the Terraform file structure, the following files are created:\nterraform.tfvars - The values of the variables are defined in this file. This is the only file that\u0026rsquo;s needed to be modified. variables.tf - Contains all the defined variables. provider.tf - Contains the Azure Cloud provider Terraform communicates with. main.tf - This is the main configuration file for creating the VM In an existing environment, we already have resources that are not managed by Terraform as part of the deployment. In the terraform.tfvars file we can define the names of the existing resources the VM is going to use such as:\nResource Group Region The VNET The Subnet terraform.tfvars In the terraform.tfvars, all the values of the variables are defined. I use comments (single line) and comment blocks with the following syntax:\nSingle line begin with: // Multiple lines: begins with: /* and ends with */ The comment blocks are used for excluding multiple lines from the Terraform files:\nvm_name - The name of the VM vm_rg - An existing Resource Group where the VM resources will be created vnet_rg - An existing VNet resource group vnet_name - An existing VNet name vm_size - VM type vm_username - Local Administrator username tag_environment - Environment tag Operating System\nWindows Server 2022 and Windows 11 22H2 Enterprise multi-session with trusted launch, secure boot, and vTPM enabled are defined. Select one OS.\nWindows 11 22H2 Enterprise Multi-Session\noffer = \u0026#34;Windows-11\u0026#34;\rpublisher = \u0026#34;microsoftwindowsdesktop\u0026#34;\rsku = \u0026#34;win11-22h2-avd\u0026#34; Windows Server 2022\noffer = \u0026#34;windowsserver\u0026#34;\rpublisher = \u0026#34;microsoftwindowsserver\u0026#34;\rsku = \u0026#34;2022-datacenter-azure-edition\u0026#34; vm_storage - Type of storage used vm_timezone - Which Timezone is used file_uris - File location of the Custom Script Extension vm_shutdown - VM shutdown time Change the values to your needs.\nPrivate/Public IP address When deploying VMs it is not recommended to give them a public IP address because everyone can connect to the VM from outside the network. But without a VPN connection, you need a public IP for connecting the VM by RDP for example. When deploying a VM with a public IP address make sure to create a Network Security Group (NSG) with an RDP rule that only allows the public IP access to the VM. The cool thing is that the public IP is not hardcoded in the script. A service called https://api.ipify.org will get the public IP address.\nPublic IP address\nIf you have a VPN connection a private IP is sufficient. The following lines can be excluded:\n// Not needed when using a VPN or Bastion\rpublic_ip_address_id = azurerm_public_ip.public_ip.id and the RDP rule:\n// Not needed when using a VPN or Bastion\r// NSG Security RDP rule(s)\rresource \u0026#34;azurerm_network_security_rule\u0026#34; \u0026#34;vm-sec-rule\u0026#34; {\raccess = \u0026#34;Allow\u0026#34;\rdestination_address_prefix = \u0026#34;*\u0026#34;\rdestination_port_range = \u0026#34;3389\u0026#34;\rdirection = \u0026#34;Inbound\u0026#34;\rname = \u0026#34;RDP\u0026#34;\rnetwork_security_group_name = azurerm_network_security_group.vm-nsg.name\rpriority = 100\rprotocol = \u0026#34;Tcp\u0026#34;\rresource_group_name = data.azurerm_resource_group.vm-rg.name\rsource_address_prefixes = local.authorized_ip_ranges\rsource_port_range = \u0026#34;*\u0026#34;\rdepends_on = [\razurerm_network_security_group.vm-nsg,\r]\r} Custom Script Extension The azurerm_virtual_machine_extension resource, downloads and run a script in the VM as a post-deployment task. As a location, I use my own GitHub repository. In the repository is a PowerShell script that performs the following post-deployment tasks:\nAllow ICMP ping requests to the VM Set the Power Management profile to \u0026ldquo;High Performance\u0026rdquo; Create a c:\\temp folder Set the OS label to OperatingSystem Install the Chocolatey package manager Install Visual Studio Code Install NotePad++ Automatically shutdown With the azurerm_dev_test_global_vm_shutdown_schedule resource, you can control the shutdown time of the VM. This can be useful if you want to stop (deallocated) the VM to save costs. In the terraform.tfvars file, you set the vm_shutdown value.\nCreate the VM To run Terraform, execute step 1 till 3 found here: link First, initialize terraform which downloads the Terraform provider(s) defined:\nterraform init\nThe password is not hardcoded in the terraform.tfvars file. With the Terraform apply command you can set the password for the variable \u0026ldquo;vm_password\u0026rdquo;. The apply option creates a plan and executes this. The \u0026ndash;auto-approve option doesn\u0026rsquo;t ask for confirmation to apply changes:\nterraform apply -var \u0026quot;vm\\_password=ThisisaGoodPassword!\u0026quot; --auto-approve\nAfter a couple of minutes, the VM is created and the private and public IP addresses are displayed as output values.\nDestroying the Windows VM When finishing with testing the VM can be destroyed without destroying the existing resources such as:\nResource Group The VNet The Subnet The following command destroys the VM just created:\nterraform destroy -var \u0026quot;vm\\_password=ThisisaGoodPassword!\u0026quot; --auto-approve\nConclusion This example shows one of the strengths of Terraform. You only need to change a single file (terraform.tfvars) once that includes the values of the variables. With a single command, you create a VM in a couple of minutes, and with a single command, you destroy the VM with all the resources you created. Very powerful!\nThe GitHub repository can be found here: Link "},{
  "section": "Blog",
  "slug": "/logbook/site/2023/03/07/powercli-cannot-be-installed-or-updated-because-the-authenticode-signature-of-the-file-error/",
  "title": "PowerCLI cannot be installed or updated because the authenticode signature of the file error",
  "description": "",
  "date": "March 7, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "powercli, VMware",
  "tags": "powercli",
  "content":"On a new Windows Server 2022 VM I tried to install a fresh copy of VMware.PowerCLI (13.0.0) with the following PowerShell command:\nInstall-Module VMware.PowerCLI -Scope CurrentUser The following error occurred:\nPackageManagement\\Install-Package : The module \u0026lsquo;VMware.VimAutomation.License\u0026rsquo; cannot be installed or updated because the authenticode signature of the file \u0026lsquo;VMware.VimAutomation.License.cat\u0026rsquo; is not valid. At C:\\Program Files\\WindowsPowerShell\\Modules\\PowerShellGet\\1.0.0.1\\PSModule.psm1:1809 char:21 + \u0026hellip; $null = PackageManagement\\Install-Package @PSBoundParameters + ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ + CategoryInfo : InvalidOperation: (Microsoft.Power\u0026hellip;.InstallPackage:InstallPackage) [Install-Package], Exception + FullyQualifiedErrorId : InvalidAuthenticodeSignature,ValidateAndGet-AuthenticodeSignature,Microsoft.PowerShell.P ackageManagement.Cmdlets.InstallPackage\nUsing the -Force and -SkipPublisherCheck options fixed the error. The command to execute is:\nInstall-Module VMware.PowerCLI -Scope CurrentUser -Force -SkipPublisherCheck -AllowClobber For existing installations, you can first remove PowerCLI and then install PowerCLI again:\nGet-InstalledModule VMware.PowerCLI | Uninstall-Module -Force Install-Module VMware.PowerCLI -Scope CurrentUser -Force -SkipPublisherCheck -AllowClobber After the PowerCLI modules installation finishes you can run the following command to check what version is installed:\nGet-InstalledModule VMware.PowerCLI | Select Name, Version Certificate error When trying to connect to the vCenter Server you\u0026rsquo;ve got the following error:\nInvalid server certificate. Use Set-PowerCLIConfiguration to set the value for the InvalidCertificateAction option to Prompt if you\u0026rsquo;d like to connect once or to add a permanent exception for this server.\nI had no trusted certificate installed. The following command ignores invalid certificates and suppresses the VMware Customer Experience Improvement Program:\nSet-PowerCLIConfiguration -InvalidCertificateAction Ignore -Confirm:$false -ParticipateInCeip $false Now I was able to connect to vCenter Server with PowerCLI.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2023/02/01/quick-tip-reset-the-password-of-a-azure-virtual-machine/",
  "title": "Quick tip: Reset the password of an Azure Virtual Machine",
  "description": "",
  "date": "February 1, 2023",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "azure",
  "tags": "azure",
  "content":"In my Azure test tenant, I forgot the password of an Azure Windows Domain Controller VM. In Azure, there is a Reset Password option available in the VM options.\nThe password reset update failed. The password reset option uses a VM Access extension. When digging into the activity log I found the following error:\nVMAccess Extension does not support Domain Controller\nSo I went to another approach using the following steps:\nPrerequisites:\nEnsure the VM status is running Create a new password Portal - between 12 - 123 characters PowerShell - between 8 - 123 characters CLI - between 12 - 123 Have lower characters Have upper characters Have a digit Have a special character (Regex match [\\W_]) Using the Azure portal Log in to the Azure portal Navigate to the Virtual Machine that you want to reset the password for. Select the Virtual Machine Select Run Command Select RunPowerShellScript In the \u0026ldquo;Run Command Script\u0026rdquo; window enter: net user \u0026lt;username\u0026gt; \u0026lt;password\u0026gt;\nUsing Cloud Shell Log in to the Azure portal In the Azure Portal open Cloud Shell Select Bash In the following command change: and az vm run-command invoke --command-id RunPowerShellScript --name \u0026lt;vm\u0026gt; -g \u0026lt;resource group the VM belongs too\u0026gt; --scripts \u0026quot;net user \u0026lt;username\u0026gt; \u0026lt;password\u0026gt;\u0026quot;\nUsing the RunPowerShellScript is a lifesaver when you forgot the password of a Windows Domain Controller VM in Azure. This procedure works also for regular Windows VMs.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2022/12/22/troubleshoot-your-azure-virtual-desktop-avd-or-remote-desktop-environment-with-msrd-collect/",
  "title": "Troubleshoot your Azure Virtual Desktop (AVD) or Remote Desktop Environment with the MSRD-Collect tool",
  "description": "",
  "date": "December 22, 2022",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "azure-virtual-desktop",
  "tags": "avd, rds",
  "content":"I recently stumbled on a cool tool called “MSRD-Collect”. MSRD stands for Microsoft CSS Remote Desktop Data Collection and Diagnostic Script. MSRD-Collect is a PowerShell script with separate modules designed to collect information that will help Microsoft Customer Support Services (CSS) to troubleshoot issues in Azure Virtual Desktop or Remote Desktop Services environments.\nMSRD-Collect is not only a handy tool for Microsoft CSS but can be used by AVD or RDS administrators having issues or who want to check the health of their session hosts. MSRD-Collect can be executed from the AVD session or Remote Desktop hosts. The tool is created and maintained by Robert Klemencz and Alexandru Olariu from Microsoft.\nWhat checks are performed? The script performs the following diagnostics, from AVD, and RDS (RDP) environments:\nOverview of the system the script is running on (General information) OS activation / licensing Top 10 processes using the most CPU time on all processors Total and available disk space Graphics configuration Windows Installer information Windows Search information SSL/TLS configuration User Account Control (UAC) configuration Windows Update configuration WinRM and PowerShell configuration/requirements Authentication and Logon information FSLogix configuration and presence of the recommended Windows Defender Antivirus exclusion values for FSLogix (if present) Multimedia configuration (Multimedia Redirection and Audio/Video privacy settings) Remote Desktop client information Remote Desktop licensing configuration RDP and remote desktop listener configuration Information on installed RDS roles and their services (if present) Remote Desktop device and resource redirection configuration Antivirus information (if present) Remote Desktop related security settings and requirements Remote Desktop \u0026lsquo;Session Time Limits\u0026rsquo; and other network time limit policy settings AVD host pool information AVD Agent and SxS Stack information Information related to AVD usage on Azure Stack HCI AVD required URLs accessibility AVD services API health status (BrokerURI, BrokerURIGlobal, DiagnosticsUri, BrokerResourceIdURIGlobal) RDP ShortPath configuration (Windows 10+ and Server OS) for both managed and public networks Azure AD-join configuration Check for Domain Controller configuration (trusted and available) DNS configuration (Windows 10+ and Server OS) Firewall configuration (Firewall software available inside the VM - does not apply to external firewalls) Proxy and route configuration Public IP address information VPN connection profile information Various settings that are sometimes related to Black Screen logon scenarios Installed Citrix software and some other 3rd party components potentially running on the system, which may be relevant in various troubleshooting scenarios Microsoft Office Configuration OneDrive configuration and requirements for FSLogix compatibility Printing information (spooler service status, available printers) Teams information and AVD media optimization configuration for Teams (if present) Known AVD agent-related issues over the past 5 days Known FSLogix-related issues over the past 5 days Known MSIX App Attach related issues over the past 5 days Known RDP ShortPath issues over the past 5 days Known Black Screen issues over the past 5 days Known TCP issues over the past 5 days Known Process and system crashes over the past 5 days Known Process hangs over the past 5 days The data collected is not uploaded to Microsoft!\nHow to run the MSRD-Collect tool? Download MSRD-Collect, link . or use the following URL: https://aka.ms/avd-collect Extract the zip file Set the PowerShell execution mode: Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Force -Scope Process Unblock the files Get-ChildItem -Recurse -Path C:\\MSRD\\_Path\\Modules\\*.ps\\* | Unblock-File -Confirm:$false MSRD-Collect can be run from the command line or with GUI. To run MSRD-Collect with a GUI, execute: MSRD-Collect.ps1 in a PowerShell session with elevated permissions in order to collect all required data Select AVD or RDS as a source and click on Start to begin gathering data The data will default be stored in the c:\\MSDATA folder. This can be changed in the GUI or when running from the command line When the script finishes. a nice HTML page (\u0026lt;servername_MSRD-Diag.HTML) is generated: The output contains all settings and links to other log files. Sections marked in Yellow need attention. For example, to view the latest Windows Updates installed, click on the Updates Section and then UpdateHistory.html:\nConclusion MSRD-Collect is definitely a tool that every AVD or RDS administrator must have in their toolbox. MSRD-Collect gives great detailed information about the state of the AVD/RDS environment and makes troubleshooting a lot easier. With the command line option, you can schedule the script to run at regular times.\nMake sure you run this tool before calling Microsoft CSS when having issues with your AVD or RDS environment.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2022/12/13/customize-the-windows-11-start-menu/",
  "title": "Customize the Windows 11 Start Menu",
  "description": "",
  "date": "December 13, 2022",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "windows-11",
  "tags": "start-menu, windows-11",
  "content":"Start Menu management in Windows 11 is different than Windows 10. Microsoft recommended an MDM provider such as Microsoft Intune to manage the Windows 11 Start Menu.\nThere are many environments (such as VDI and Azure Virtual Desktop(AVD) that don\u0026rsquo;t use an MDM provider to manage their Windows 11 workspace environment. In this blog post, I will highlight how to manage the Start Menu with native tools such as Active Directory and Group Policies.\nI will create several blog posts about how to customize the Windows 11 Start Menu, configure the taskbar, remove unwanted desktop icons and remove bloatware and apps.\nCustomize the Windows 11 Start Menu (this blog post) Customize the Windows 11 Desktop icons Customize the Taskbar icons Remove bloatware from the Start Menu In this blog post, I will highlight how to customize the Windows 11 Start Menu with native Active Directory Group Policies.\nIn Windows 10 you can export and import the Start Menu layout. With the \u0026ldquo;Export-StartLayout\u0026rdquo; PowerShell command, the Start Menu is exported to an XML file. With a Group Policy, you refer to the custom XML file.\nIn Windows 11, the Start Menu is exported to a JSON file. The command is like this:\nExport-StartLayout -Path \u0026#34;C:\\Layouts\\LayoutModification.JSON\u0026#34; There is no Group Policy (Windows 11 22H2) to import a Start Menu JSON file. The Group Policy only works with an XML file. Here is a workaround. In Windows 11 the Start Menu is stored in a single encrypted file in the following folder location:\n%LocalAppdata%\\Packages\\Microsoft.Windows.StartMenuExperienceHost_cw5n1h2txyewy\\LocalState In this folder, there is a start.bin or start2.bin (depending on the Windows 11 version) file. This file is the Windows 11 Start Menu that can be copied.\nThese steps will copy the modified Start Menu to a central location and when the endpoint starts the modified Start Menu will be copied to the default user profile. When new users logs in, they will get the customized Start Menu.\nPin/unpin and organize the apps in the Start Menu the way you want. Copy the start2.bin file in from the %LocalAppdata%\\Packages\\Microsoft.Windows.StartMenuExperienceHost_cw5n1h2txyewy\\LocalState folder to a central location (for example in a folder in the netlogon share of the domain controller (for example \\lab.local\\netlogon\\w11). Create a cmd file called w11startmenu.cmd with the following context: copy \u0026#34;\\\\lab.local\\netlogon\\w11\\start2.bin\u0026#34; \u0026#34;C:\\Users\\Default\\AppData\\Local\\Packages\\Microsoft.Windows.StartMenuExperienceHost_cw5n1h2txyewy\\LocalState\u0026#34; /Y Open Group Policy Management console Create a GPO undder Computer Configuration – Scripts (Startup/Shutdown) – Startup – Scripts and browse to the cmd script file in the netlogon share (for example \\lab.local\\netlogon\\w11\\w11startmenu.cmd) All users who log in with a new profile will get the customized Windows 11 Start Menu.\nMore information can be found in the following article, link .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2022/11/01/identify-vms-that-have-vmware-tools-with-the-openssl-v3-vulnerability/",
  "title": "Identify VMs that have VMware Tools with the OpenSSL v3 vulnerability",
  "description": "",
  "date": "November 1, 2022",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware-tools",
  "tags": "VMware, VMware-tools",
  "content":"In OpenSSL version 3.0.0 to 3.0.6, a critical vulnerability is found (link ). A lot of vendors use these versions of OpenSSL in their products. VMware has the following statement:\nTo date, no VMware products have been found to be critically impacted by CVE-2022-3602 or CVE-2022-3786. Regardless, VMware products that consume OpenSSL 3.0.x will consume 3.0.7 fixes as a precautionary measure in upcoming releases.\nVMware Tools version 12.0.0 and 12.1.0 both contain the OpenSSL 3.0.x version.\nVMware Tools OpenSSL version 12.0.0 3.0.0 12.1.0 3.0.3 To quickly identify what VMs have the OpenSSL 3 vulnerability present you can use PowerCLI. The following script identifies all VMware Tools 12 versions and higher:\n$vcserver = \u0026#39;the FQDN of the vCenter Server name\u0026#39; Connect-VIServer $vcserver Get-VM | Where-Object {$_.Guest.ToolsVersion -ge \u0026#39;12.0.0\u0026#39;} | Select -property Name,PowerState,@{Name=\u0026#39;Toolsversion\u0026#39;;Expression={$_.Guest.Toolsversion}} | Sort Toolsversion Disconnect-VIServer * -Confirm:$false The results can be exported to a CSV file by adding the following line after the Sort ToolsVersion\nexport-csv c:\\temp\\vmwtools.csv -notypeinformation\nOpenSSL v3.0.7 is released. This version will fix the critical vulnerability. The NCSC has a GitHub page (Link ) with software that is affected. Now it is time for VMware to release an updated version of VMware Tools that included the new OpenSSL version\nUpdate: November 29, 2022 VMware Tools 12.1.5 is released. This is a maintenance release of VMware Tools to provide fixes for critical product issues and security issues:\nUpdated OpenSSL to 3.0.7 Updated zlib to 1.2.12 with additional fixes Updated GLib to 2.56.3 with additional fixes Updated libxml2 to 2.10.2 This release resolves CVE-2022-31693. For more information on this vulnerability and its impact on VMware products, see https://www.VMware.com/security/advisories/VMSA-2022-0029.html . The download location can be found here .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2022/10/17/how-to-install-windows-11-on-vmware-workstation/",
  "title": "How to install Windows 11 on VMware Workstation",
  "description": "",
  "date": "October 17, 2022",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware-workstation, windows 11, packer",
  "tags": "VMware Workstation, windows-11, packer",
  "content":"For testing purposes, I frequently use VMware Workstation to install Operating Systems such as Windows 11. The biggest challenge with Windows 11 is that you need a TPM 2.0 device. When installing Windows 11, if your computer does not meet the hardware requirements, you will see a message stating, “This PC can’t run Windows 11“.\nWindows 11 requires the following minimal hardware specifications:\nCPU: 1 GHz or faster with 2 or more cores on the processor RAM: 4 GB RAM Storage: 64 GB or larger Firmware: UEFI, Secure boot TPM: Trusted Platform Module (TPM) 2.0 More info: link The following options are available when installing Windows 11 using VMware Workstation Pro/Player and Fusion:\nOption 1: The physical endpoint such as a laptop or PC has a TPM 2.0 device. This requires adding encryption and adding a vTPM device.\nOption 2: The physical endpoint such as a laptop or PC has compatible hardware but no TPM 2.0 device. VMware Workstation 16.2 Pro adds an experimental vTPM device that uses a new encryption mode with increased performance over fully encrypting the VM in option 1.\nUpdate October 17, 2022: Wil van Antwerpen has a good blog post about the risks of this experimental feature. Make sure that you read the blog before using this feature!\nWhat you should know about VMware\u0026rsquo;s experimental vTPM - Vimalin Option 3: The physical endpoint such as a laptop or PC has no compatible hardware such as a TPM 2.0 device. Use a registry hack to bypass the TPM check.\nIf you don\u0026rsquo;t have a Windows 10/11 ISO, you can create one following this blog post: Quick Tip: Download the latest Windows 10/11 ISO files - ivobeerens.nl Here are the steps outlined for each option:\nOption 1. The physical endpoint such as a laptop or PC has a TPM 2.0 chip\nStart VMware Workstation and create a new Virtual Machine with the following configuration:\nType of configuration: Custom (advanced) Virtual Machine hardware compatibility: Workstation 16.2.x Guest Operating System Installation: Installer disc image file (iso): Point to the downloaded Windows 11 ISO Guest operating system: Microsoft Windows Version: Windows 10 and later x64 Virtual Machine name: Name of the VM such as: Windows 11 Location: for example: c:\\vms\\win11 Firmware: UEFI Secure boot: Check Processors: 2 or more Number of cores: 1 or more Memory (MB): 4096 or more Network Type: Use network address translation (NAT) SCSI Controller: LSI Logic SAS or Paravirtualized SCSI Virtual Disk Type: NVMe Disk: Create a new virtual disk Maximum disk size (GB): 64 or more Disk file: Windows 10 and later x64.vmdk The new VM will be created. Edit the virtual machine settings Click on the options tab, choose Access Control, and select Encrypt Enter a virtual machine password twice The VM will be encrypted Select the Hardware tab and select Add Select the Trusted Platform Module and click Finish and OK Start the VM to install Windows 11 The VM is encrypted and has a TPM device configured.\nOption 2: The physical endpoint such as a laptop or PC has compatible hardware but no TPM 2.0 device.\nSince VMware Workstation 16.2 there is an experimental feature without the need fully encrypt the VM. Use it with care and read the blog from Wil van Antwerpen before using this feature!\nFollow the steps in step 1 till \u0026quot; The new VM will be created\u0026quot; Before starting the VM close VMware Workstation Edit the VMX file of the created VM in notepad for example Add the following line to the end of the file: managedVM.autoAddVTPM = \u0026ldquo;software\u0026rdquo; This line adds a TPM 2.0 device to the VM Save the VMX file Open VMware Workstation Start the VM to install Windows 11 Option 3: The physical endpoint such as a laptop or PC has no compatible hardware such as a TPM 2.0 device. Use a registry hack to bypass the TPM check.\nIn 2021 I already blogged about this hack. More information can be found here: Install Windows 11 as VM on VMware vSphere / Workstation without TPM 2.0 - ivobeerens.nl With these 3 options, you are able to install Windows 11 on VMware Workstation Pro/Player and Fusion in most situations.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2022/10/04/quick-tip-download-the-azure-virtual-desktop-rdpw-files/",
  "title": "Quick Tip - Download the Azure Virtual Desktop RDPW files",
  "description": "",
  "date": "October 4, 2022",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "azure-virtual-desktop",
  "tags": "avd, azure-virtual-desktop",
  "content":"Sometimes you need the RDPW files when having for example remote apps listed in a central portal application integration. Here is a quick tip on how to download the Azure Virtual Desktop RDPW files for desktops and remote apps.\n1. Log in using the AVD WebClient using the following URL: https://client.wvd.microsoft.com/arm/webclient/index.html 2. In the right corner click on the Settings wheel\n3. Select in \u0026ldquo;Resources Launch Method\u0026rdquo; section for \u0026ldquo;Download the rdp file\u0026rdquo;\n4. Close the screen by clicking on the X mark\n5. Click on the remote app or desktop to download the RDPW file\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2022/08/24/quick-tip-vmware-vcsa-installer-page-is-blank-when-selecting-a-datastore/",
  "title": "Quick tip: VMware VCSA installer page is blank when selecting a datastore",
  "description": "",
  "date": "August 24, 2022",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vSphere",
  "tags": "upgrade, VMware, vSphere",
  "content":"While upgrading a vCenter Server 6.7 to version 7 Update 3 using the vCenter Server 7 UI installer, I was not able to select a datastore for installing the new vCenter Server Appliance (VCSA).\nThe datastore selection was blank as shown in the following image.\nThis issue still exists in the vCenter Server 7 UI installer.\nHere are the steps to solve this:\nGo to the %appdata% folder (it opens the C:\\Users\u0026lt;username\u0026gt;\\AppData\\Roaming folder) Delete the installer folder. Run the VCSA installer again and you see the datastores again "},{
  "section": "Blog",
  "slug": "/logbook/site/2022/07/13/list-all-the-active-vmware-horizon-client-versions-that-are-used/",
  "title": "List all the active VMware Horizon client versions that are used",
  "description": "",
  "date": "July 13, 2022",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "VMware-horizon",
  "content":"Before upgrading a VMware Horizon environment I want to known what VMware Horizon Client versions are in use. Just to be sure that the VMware Horizon clients are supported when upgrading to a new VMware Horizon version.\nAnother use-case is to identify the VMware Horizon Client versions that are in use for security releated issues. In the VMware Horizon Administrator you can allow what VMware Horizon client versions are able to connect.\nThe following script displays all the VMware Horizon sessions and the VMware Horizon client version that is used to connect to the VMware Horizon environment.\nMake sure that the VMware.HV.Helper module is installed (Link ).\n\u0026lt;# .SYNOPSIS HorizonClient.ps1.ps1 .VERSION 1.0 .DESCRIPTION List all the Connection and displays the VMware Horizon client version. .NOTES Author(s): Ivo Beerens Requirements: Make sure the VMware.HV.Helper module is installed, see: https://github.com/vmware/PowerCLI-Example-Scripts Copy the VMware.Hv.Helper to the module location. .EXAMPLE PS\u0026amp;gt; ./HorizonClient.ps1 #\u0026gt; # Variables $connectionserver = \u0026#39;srv-con-01\u0026#39; $domain = \u0026#39;lab.local\u0026#39; $date = Get-date -UFormat \u0026#34;%d-%m-%Y\u0026#34; $output = \u0026#34;C:\\Temp\\horclients-$date.csv\u0026#34; # Import module Import-Module VMware.Hv.Helper Write-Output \u0026#34;\u0026#34;, \u0026#34;Connecting to the Horizon Connection Server\u0026#34; Connect-HVServer -Server $connectionserver -domain $domain # List all Users and clients with the Horion client the are running $localsessioninfo = (get-HVlocalsession).Namesdata | Select-Object UserName, MachineOrRDSServerName, AgentVersion, DesktopPoolCN, ClientType, ClientAddress, ClientName, ClientVersion, SecurityGatewayDNS, SecurityGatewayAddress | Sort-Object ClientVersion # Export the output to a grid and CSV file $localsessioninfo | Out-GridView -Title \u0026#39;VMware Horizon Client versions\u0026#39; $localsessioninfo | export-csv $output -Force -NoTypeInformation Disconnect-HVServer * -Confirm:$false This script (HorizonClients.ps1) can be found on my GitHub repo (Link )\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2022/06/27/disable-the-little-drawing-known-as-search-highlights-in-the-windows-10-11-search-bar/",
  "title": "Disable the little drawing (known as search highlights) in the Windows 10/11 search bar",
  "description": "",
  "date": "June 27, 2022",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "Microsoft Windows, windows-11",
  "tags": "Microsoft Windows, windows-10, windows-11",
  "content":"After deploying new Windows 10/11 images with the latest updates, Microsoft has included Search highlights. You can see if you have search highlights enabled when having a little drawing in the search bar. When clicking on the search bar it extends with graphics and more crap.\nSo what are search highlights?\nDesigned to help Windows users discover more information and related content, search highlights present noteworthy, informative, and interesting information of what\u0026rsquo;s special about each day—like holidays, anniversaries, and other moments in time both globally and in your region\nThis new feature can be nice for home users but not for most enterprise environments. So I disable this feature for all the Windows 10/11 deployments.\nDisable search highlights by using a Group Policy Object (GPO)\nMake sure you have at least the Administrative Templates (admx) for Windows 10 November 2021 Update (21H2) - v2.0 (link ). Copy the ADMX files to the Group Policy Central Store in the sysvol folder (example: \\\\SYSVOL\u0026lt;fqdn domainname\u0026gt;\\policies\\PolicyDefinitions) Create or edit a Group Policy Object (GPO) to the OU where the computer objects are placed Browse to Computer Configuration - Policies - Administrative Templates - Windows Components - Search Open the \u0026ldquo;Allow search highlights\u0026rdquo; setting and select Disable Perform a \u0026ldquo;gpupdate /force\u0026rdquo; on the Windows client Disable search highlights by registry setting\nAnother method is by creating a registry key on the Windows 10/11 machine.\nExecute the following command as administrator: REG ADD \u0026#34;HKEY_LOCAL_MACHINE\\SOFTWARE\\Policies\\Microsoft\\Windows\\Windows Search\u0026#34; /v \u0026#34;EnableDynamicContentInWSB\u0026#34; /t REG_DWORD /d \u0026#34;0\u0026#34; /f Disabling this setting turns off search highlights in the taskbar search box and in search home.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2022/05/31/build-a-windows-10-image-with-packer-using-vmware-workstation/",
  "title": "Build a Windows 10 image with Packer using VMware Workstation",
  "description": "",
  "date": "May 31, 2022",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vmware workstation, packer, windows",
  "tags": "vmware workstation, packer, windows",
  "content":"Most of the time I use Packer against a VMware vSphere and Microsoft Azure environment. But sometimes it’s useful to use VMware Workstation for local testing purposes. For building Windows 10 images with Packer and using VMware Workstation there is not much information available. In this blog post, I show how to build a Windows 10 image with Packer and VMware Workstation.\nWith Packer, the VMware-iso builder is used for creating images with VMware Workstation or VMware Fusion. In this example I create a Windows 10 image with the latest VMware Tools installed, the installation of the Evergreen module, and automatically install the latest Windows updates.\nPre-requisites Windows a 10 ISO file. You can use this link for downloading the latest Windows 10 ISO for example Install VMware Workstation. I use VMware Workstation Pro 17.x The newly created image must be able to access the internet for downloading the latest VMware Tools version During my first deployment, the following build issue occurred Build \u0026ldquo;Could not determine network mappings from files in the path: C:/Program Files (x86)/VMware/VMware Workstation\u0026rdquo;. Colin Westwater of vGemba.net has blogged about a solution that can be found here, link . The solution to solve this error is:\nIn Workstation go to Edit...Virtual Network Editor Click Change Settings Don’t change anything, just click OK Now if you look in C:\\ProgramData\\VMware there is a new file called netmap.conf Use NAT in VMware Workstation. Install Hashicorp Packer, see Download the latest Hashicorp Terraform, Packer, and Vault bits for installing Packer. Steps Run the following PowerShell script (link ). This script does the following things:\nCreate a download folder such as c:\\Packer\\win10 Download my Github Packer repository to the local download folder Create within the download folder the Packer folder structure The script looks like this:\n# $ErrorActionPreference = \u0026#34;SilentlyContinue\u0026#34; # Enable TLS 1.2 [Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12 # Variables $downloadfolder = \u0026#39;C:\\packer\\win10\\\u0026#39; $github = \u0026#39;https://github.com/ibeerens/Packer/archive/refs/heads/main.zip\u0026#39; # Create Folder $checkdir = Test-Path -Path $downloadfolder if ($checkdir -eq $false){ Write-Verbose \u0026#34;Creating \u0026#39;$downloadfolder\u0026#39; folder\u0026#34; New-Item -Path $downloadfolder -ItemType Directory | Out-Null } else { Write-Verbose \u0026#34;Folder \u0026#39;$downloadfolder\u0026#39; already exists.\u0026#34; } # Go to the Packer download folder Set-Location $downloadfolder # Download Github files Invoke-WebRequest -Uri $github -OutFile ${downloadfolder}packer.zip Expand-Archive ${downloadfolder}packer.zip -DestinationPath $downloadfolder # Remove the packer.zip Remove-Item -Path ${downloadfolder}packer.zip # Create the folder structure Move-Item ${downloadfolder}packer-main\\workstation\\windows10\\setup -Destination $downloadfolder Move-Item ${downloadfolder}Packer-main\\workstation\\windows10\\*.* -Destination $downloadfolder # Remove the Github structure Remove-Item -Path ${downloadfolder}Packer-main -Recurse -Confirm:$false -Force Browse to the download folder location Open the \u0026ldquo;win10-std-.auto-pkvars.hcl\u0026rdquo; file and edit the variables for your needs such as: Line 2: The VM name Line 17: The ISO location Line 19: The ISO checksum. Use the PowerShell Get-Filehash command to get the checksum of the ISO // VM vm_name = \u0026#34;GI-W10-001\u0026#34; operating_system_vm = \u0026#34;windows9-64\u0026#34; vm_firmware = \u0026#34;bios\u0026#34; vm_cdrom_type = \u0026#34;ide\u0026#34; vm_cpus = \u0026#34;2\u0026#34; vm_cores = \u0026#34;1\u0026#34; vm_memory = \u0026#34;4096\u0026#34; vm_disk_controller_type = \u0026#34;nvme\u0026#34; vm_disk_size = \u0026#34;65536\u0026#34; vm_network_adapter_type = \u0026#34;e1000e\u0026#34; // Use the NAT Network vm_network = \u0026#34;VMnet8\u0026#34; vm_hardwareversion = \u0026#34;19\u0026#34; // Removeable media win10_iso = \u0026#34;c:/iso/feb2024/en-us_windows_10_business_editions_version_22h2_updated_feb_2024_x64_dvd_732d1707.iso\u0026#34; // In Powershell use the \u0026#34;get-filehash\u0026#34; command to find the checksum of the ISO win10_iso_checksum = \u0026#34;E433ADA123A50DBDEE946FEA5B34BD40038891F5C0ADBB1D72CACF5A633AD391\u0026#34; Open the autounattend.xml file in the setup folder and check and edit the following lines as needed:\nLanguage and keyboard settings Line 84: Administrator Password (must be the same as the winrm_password) Line 92: Autologon Password (must be the same as the winrm_password) Line 141: The ComputerName Edit the build.ps1 file and check the following lines:\nLine 2: Packer folder location Line 14: The winrm_password matches the administrator password in the autounattended.xml file # Variables $downloadfolder = \u0026#39;C:\\packer\\win10\\\u0026#39; $packer_config = \u0026#34;windows.json.pkr.hcl\u0026#34; #Packer config file $packer_variable = \u0026#34;windows.auto.pkrvars.hcl\u0026#34; # Packer variable file # Show Packer Version packer.exe -v # Download Packer plugins packer.exe init \u0026#34;$downloadfolder$packer_config\u0026#34; # Packer Format configuration files (.pkr.hcl) and variable files (.pkrvars.hcl) are updated. packer.exe fmt -var-file=\u0026#34;$downloadfolder$packer_variable\u0026#34; \u0026#34;$downloadfolder$packer_config\u0026#34; # Packer validate # packer.exe validate . # Packer build # .\\packer.exe build -force -var-file=\u0026#34;${$win11_downloadfolder}${packer_variable}\u0026#34; \u0026#34;${$win11_downloadfolder}${packer_config}\u0026#34; packer.exe build -force -var-file=\u0026#34;$downloadfolder$packer_variable\u0026#34; -var \u0026#34;winrm_username=administrator\u0026#34; -var \u0026#34;winrm_password=ThisisagoodPassword!\u0026#34; \u0026#34;$downloadfolder$packer_config\u0026#34; Run the \u0026ldquo;build.ps1\u0026rdquo; file with PowerShell to start the Packer image build process. After a while, the build process finishes and you have a new Windows 10 image deployed with Packer in VMware Workstation. "},{
  "section": "Blog",
  "slug": "/logbook/site/2022/04/14/vmware-tools-error-2711/",
  "title": "An unattended installation of VMware Tools 12 generates a 2711 error",
  "description": "",
  "date": "April 14, 2022",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware",
  "tags": "VMware-tools",
  "content":"For a new Windows 10 image build, I used the latest supported VMware Tools In this case that was VMware Tools 12.0.0. VMware Tools is deployed using an unattended installation such as:\ne:\\setup64.exe /S /v \u0026#34;/qb REBOOT=R ADDLOCAL=All REMOVE=AppDefense,Hgfs,CBHelper,VmwTimeProvider,VSS,NetworkIntrospection,FileIntrospection\u0026#34; /l c:\\windows\\temp\\vmware_tools_install.log During the installation of VMware Tools, the following error occurred: \u0026ldquo;The installer has encountered an unexpected error installing this package. This may indicate a problem with this package. The error code is 2711.\u0026rdquo;\nAfter comparing the syntax of the components and could not find any clue (link ).\nFeature Name Description CBHelper Helper to install of Carbon black Sensor on a virtual machine. Perfmon Utility for WMI performance logging. Enables performance monitoring between the Guest SDK and the WMI environment. VmwTimeProvider Time provider for VMware virtual precision clock device. AppDefense The VMware AppDefense component performs Application Security Monitoring. VMware Appdefense consists of glxgi.sys, giappdef.sys kernel mode drivers and gisvc.exe user mode service. FileIntrospection The NSX File Introspection driver, vsepflt.sys is the first of the two guest introspection drivers. You can install it separately, without installing the NSX Network Introspection driver. Note:This component is dependent on the VMCI driver. NetworkIntrospection The NSX Network Introspection driver, vnetflt.sys is the second of the two guest introspection drivers. Note:This component is dependent on the VMCI driver. VMware Tools 10.2.5 supports vnetWFP driver for Windows 7 and later. ServiceDiscovery The Service Discovery component enables the discovery of various services running inside a virtual machine. Note:This user-mode component is dependent on the VMCI driver. DeviceHelper The VMware Device Helper component helps to perform a device check and swap in your virtual machine. Note:This user-mode component is dependent on the VMCI driver. Hgfs Hgfs is a VMware shared folders driver that allows files to be shared between your virtual machine and the host computer. You can use this driver, if you plan to use this virtual machine with VMware Workstation, Player, or Fusion. Note: - If you exclude this feature, you cannot share a folder between your virtual machine and the host system. This component is dependent on the VMCI driver. SVGA The VMware SVGA driver enhances the performance of your virtual video card. Note:If you exclude this feature, it limits the display capabilities of your virtual machine. VMXNet The VMware VMXNet networking driver enhances the performance of your virtual network card. VMXNet3 The VMware VMXNet3 networking driver enahnces the performance of your virtual network card (ndis5/ndis6). This is the Next-generation VMware VMXnet networking driver for virtual machines that use virtual hardware version 7 and higher. For more information, see the VMware Knowledge Base article KB 1001805 . VMXNET3 adds several new features, such as multiqueue support (also known as \u0026lsquo;Receive Side Scaling\u0026rsquo; in Windows), IPv6 offloads, and MSI/MSI-X interrupt delivery. VMXNET 3 is not related to VMXNET or VMXNET 2. Receive Side Scaling is enabled by default. VMware Tools 10.3.0 adds receive data ring support for Windows VMXNET3 driver. Virtual hardware version 7 corresponds to ESX/ESXi 4.x compatibility. PVSCSI The VMware Paravirtual SCSI adapters enhances the performance of your paravirtual SCSI devices. EFIFW The EFIFW driver is used for EFI Firmware update. MemCtl The Memory Control Driver provides enahnced memory management of the virtual machine. You can use this driver, if you plan to use a virtual machine in the vSphere environment. Note:If you exclude this feature, it hinders the memory management capabilities of the virtual machine running in a vSphere environment. Mouse The VMware PS2 Mouse driver enhances the performance of your virtual PS2 mouse. Note:If you exclude this feature, the mouse performance of your virtual machine will decrease. MouesUsb The VMware USB Mouse Driver enhances performance of your USB mouse. Audio The Audio driver provides audio for your virtual sound card. Note:This Audio driver is for 64-bit Windows Vista and later operating systems. VSS The VSS driver is used for creating automatic backups. This driver is used, if the guest operating system is Windows Vista, Windows Server 2003, or other newer operating systems. Linux and older Windows operating systems use the Filesystem Sync driver. BootCamp The BootCamp driver provides Mac BootCamp support. So I decided to install VMware Tools 12 manually and search in the Windows registry for the components:\nAs you can see, the AppDefense component doesn\u0026rsquo;t exist anymore in VMware Tools 12. Removing the AppDefense component from the unattended VMware Tools installation command fixed the problem.\ne:\\setup64.exe /S /v \u0026#34;/qb REBOOT=R ADDLOCAL=All REMOVE=Hgfs,CBHelper,VmwTimeProvider,VSS,NetworkIntrospection,FileIntrospection\u0026#34; /l c:\\windows\\temp\\vmware_tools_install.log I filled in a feedback form on the VMware Tools 12 documentation page to change to remove the AppDefense component.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2022/03/25/azure-virtual-desktop-avd-optimization-script-automation/",
  "title": "Optimize the Azure Virtual Desktop (AVD) golden image automatically",
  "description": "",
  "date": "March 25, 2022",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "avd, azure-virtual-desktop",
  "tags": "avd, azure-virtual-desktop",
  "content":"For Azure Virtual Desktop (AVD) there is an Optimization Tool available called Virtual Desktop Optimization Tool (VDOT). With this tool/script you optimize the following categories within an Azure Virtual Desktop (AVD):\nUniversal Windows Platform (UWP) app cleanup Optional Features cleanup Local policy settings System services Scheduled tasks Apply Windows (and other) updates Automatic Windows traces Windows Defender optimization Client network performance tuning by registry settings Additional settings from the \u0026ldquo;Windows Restricted Traffic Limited Functionality Baseline\u0026rdquo; guidance. Disk cleanup Optimizing the AVD Golden Image will improve the User Experience, so it is highly recommended to use it. Vendors such as VMware (VMware OS Optimization Tool) and Citrix (Citrix Optimizer Tool) use their own tools for optimizing their Golden Images.\nTo optimize an AVD image you must do some things manually before you run the Virtual Desktop Optimization Tool (VDOT). I created a PowerShell script that downloads the latest VDOT and optimizes the AVD image automatically.\nThe PowerShell script below does the following:\nCreate a folder on the AVD VM called c:\\optimize Download the latest Virtual Desktop Optimization Tool Expand the Virtual Desktop Optimization Tool zip file to the c:\\optimize folder Remove the VDOT Archive file Download a modified apppackages.json file. The default apppackages.json file will enable all the APPX packages. Copy the apppackages.json file to the configuration folder for each build Unblock all the downloaded files Execute the Virtual Desktop Optimization Tool Remove the c:\\optimize folder Reboot the AVD host \u0026lt;# .SYNOPSIS Virtual Desktop Optimalization Tool (VDOT) .DESCRIPTION Download the Virtual Desktop Optimalization Tool (VDOT), creates a folder called optimize and runs VDOT tool. The VDOT tool determines OS version at run-time .NOTES Version: 1.0 Author: Ivo Beerens info@ivobeerens.nl Creation Date: 25-02-2022 Plattform: Azure Virtual Desktop (AVD) Changelog: 25-05-2022 1.0 - Initial script development .COMPONENT .LINK .Example Script needs to be run with PowerShell elevated #\u0026gt; # Variables $verbosePreference = \u0026#39;Continue\u0026#39; $vdot = \u0026#39;https://github.com/The-Virtual-Desktop-Team/Virtual-Desktop-Optimization-Tool/archive/refs/heads/main.zip\u0026#39; $apppackages = \u0026#39;https://raw.githubusercontent.com/ibeerens/AVD/main/vdot/ConfigFiles/AppxPackages.json\u0026#39; $vdot_location = \u0026#39;c:\\Optimize\u0026#39; $vdot_location_zip = \u0026#39;c:\\Optimize\\vdot.zip\u0026#39; $apppackages_location = \u0026#39;C:\\Optimize\\AppxPackages.json\u0026#39; # Enable TLS 1.2 [Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12 # Clear screen Clear # Create Folder $checkdir = Test-Path -Path $vdot_location if ($checkdir -eq $false){ Write-Verbose \u0026#34;Creating \u0026#39;$vdot_location\u0026#39; folder\u0026#34; New-Item -Path \u0026#39;c:\\\u0026#39; -Name \u0026#39;Optimize\u0026#39; -ItemType \u0026#39;directory\u0026#39; | Out-Null } else { Write-Verbose \u0026#34;Folder \u0026#39;$vdot_location\u0026#39; already exists.\u0026#34; } # Download VDOT Write-Verbose \u0026#34;Dowmload VDOT\u0026#34; Invoke-WebRequest -Uri $vdot -OutFile $vdot_location_zip # Expand Archive Write-Verbose \u0026#34;Expand Archive\u0026#34; Expand-Archive $vdot_location_zip -DestinationPath $vdot_location -Verbose -Force # Remove Archive Write-Verbose \u0026#34;Remove Archive\u0026#34; Remove-Item $vdot_location_zip # Download AppPackages Write-Verbose \u0026#34;Dowmload Apppackages.json APPX file\u0026#34; Invoke-WebRequest -Uri $apppackages -OutFile $apppackages_location # Copy the AppPackage file to all versions Write-Verbose \u0026#34;Copy Apppackages.json to all configurationfiles folders\u0026#34; Copy-Item $apppackages_location -Destination \u0026#39;C:\\Optimize\\Virtual-Desktop-Optimization-Tool-main\\1909\\ConfigurationFiles\\AppxPackages.json\u0026#39; Copy-Item $apppackages_location -Destination \u0026#39;C:\\Optimize\\Virtual-Desktop-Optimization-Tool-main\\2004\\ConfigurationFiles\\AppxPackages.json\u0026#39; Copy-Item $apppackages_location -Destination \u0026#39;C:\\Optimize\\Virtual-Desktop-Optimization-Tool-main\\2009\\ConfigurationFiles\\AppxPackages.json\u0026#39; # Unblock all files Write-Verbose \u0026#34;Unblock all files\u0026#34; dir $vdot_location -Recurse | Unblock-File # Change folder to VDOT Write-Verbose \u0026#34;Change folder to VDOT location\u0026#34; $vdot_folder = $vdot_location + \u0026#39;\\Virtual-Desktop-Optimization-Tool-main\u0026#39; cd $vdot_folder Write-Verbose \u0026#34;Run VDOT\u0026#34; Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope Process -Force .\\Windows_VDOT.ps1 -Verbose -AcceptEULA # Sleep 5 seconds sleep 5 # Remove folder Write-Verbose \u0026#34;Remove Optimize folder\u0026#34; cd \\ Remove-Item $vdot_location -Recurse -Force # Restart AVD Golden image Restart-Computer -Force You can use this script in your AVD Golden Image building process. The Virtual Desktop Optimization Tool (VDOT) changes a lot of settings so be sure to test your image very carefully. The script can be found on my GitHub, link .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2022/03/09/get-the-highest-concurrent-license-usage-from-a-vmware-horizon-environment/",
  "title": "Get the highest concurrent license usage from a VMware Horizon environment",
  "description": "",
  "date": "March 9, 2022",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware-horizon",
  "tags": "powercli, VMware-horizon",
  "content":"In some managed VMware Horizon environments, I wanted to know the highest concurrent users per month. This information can be found in the Horizon Administrator Console under Settings -\u0026gt; Product Licensing and Usage -\u0026gt; Usage.\nUsing the VMware Horizon Administrator console is a manual task. I wanted to automate this. To automated this use VMware PowerCLI which supports access to the View API.\nTo automate retrieve thehighest concurrent users per month perform the following steps:\nSetup the Horizon PowerCLI module, link The following PowerCLI code display the highest concurrent license usage Import-Module -Name VMware.VimAutomation.HorizonView Connect-HVServer -Server \u0026lt;server\u0026gt; -Domain \u0026lt;domain name\u0026gt; # Clear screen Clear # View API $horapi = $Global:DefaultHVServers.ExtensionData # Get the highest concurrent licensing usage $getusage = $horapi.UsageStatistics.UsageStatistics_GetLicensingCounters() $totalccu = $getusage.HighestUsage.TotalConcurrentConnections Write-Output \u0026#34; \u0026#34; Write-Output \u0026#34;The highest concurrent usage count is: $totalccu\u0026#34; To reset the highest concurrent license usage use the following code # Reset the highest license usage $horapi.UsageStatistics.UsageStatistics_ResetHighestUsageCount() $totalccu = $getusage.HighestUsage.TotalConcurrentConnections Write-Output \u0026#34;The highest usage count is: $totalccu\u0026#34; By using this code you can create a scheduled task to get the highest concurrent license usage at the end of each month and perform a reset after it for example. So you know what is the highest concurrent license usage is that is connected to the VMware Horizon environment.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2022/01/27/packer-has-now-virtual-tpm-vtpm-device-support/",
  "title": "Packer has now virtual TPM (vTPM) device support",
  "description": "",
  "date": "January 27, 2022",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "packer",
  "tags": "packer, vtpm, windows-11",
  "content":"In an earlier blogpost called “Use Packer to install Windows 11 and enable vTPM and VBS ” I highlighted a workaround for adding a virtual TPM (vTPM) device to a VM in a VMware vSphere environment. A vTPM device is needed for running Windows 11 (without using registry hacks to bypass the TPM device check).\nThe latest Packer Plugin for VMware vSphere (V1.0.3) has now support for adding a vTPM device. Default a vTPM device is not added to the VM deployed with Packer. So if you want to create a Windows 11 Golden Image for example you can use Packer with the VMware vSphere plugin with a vTPM device.\nHere are the high over steps outlined to add a vTPM device when provisioning a new VM with Packer.\nDownload Packer 1.7.9 or later (https://www.packer.io/downloads) . Add the VMware vSphere plugin to the HCL configuration file (https://github.com/hashicorp/packer-plugin-vSphere ) packer { required_version = \u0026#34;\u0026gt;= 0.0.1\u0026#34; required_plugins { vsphere = { version = \u0026#34;\u0026gt;= 0.0.1\u0026#34; source = \u0026#34;github.com/hashicorp/vsphere\u0026#34; } } } Add a variable to enable vTPM variable \u0026#34;vm_tpm\u0026#34; { type = string default = \u0026#34;true\u0026#34; } In the vSphere-iso section, add the vTPM configuration parameter that uses the vm_tpm variable to enable the vTPM device (more options can be found here, link ) source \u0026#34;vSphere-iso\u0026#34; \u0026#34;win11basic\u0026#34; { vTPM = \u0026#34;${var.vm_tpm}\u0026#34; } Perform a packer init command to download the Packer plugin binaries define in the config file packer init config.pkr.hcl Run the packer build command to create the VM packer build config.pkr.hcl The VM will be created with a vTPM device.\nWith Packer and the VMware vSphere plugin, it is now possible to create a VM with a vTPM device which is needed for deploying Windows 11 VMs. This is a great improvement!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2021/11/26/identify-the-boot-device-for-a-vmware-esxi-host/",
  "title": "Identify the boot device for a VMware ESXi host",
  "description": "",
  "date": "November 26, 2021",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vSphere-7",
  "tags": "boot, sd-card, vSphere-7",
  "content":"With vSphere 7 VMware is moving away from supporting SD cards and USB as boot media. ESXi Boot configuration with only SD card or USB drive, without any persistent device, is deprecated with vSphere 7 Update 3. In future vSphere releases, it will be an unsupported configuration!\nMove from SD cards and USB devices to local persistent disk(s) such as SATA, SAS (including SATADOM), SSD disks as a boot device for example. The minimum disk size is 32 GB, the recommended size is 128 GB. Another option is to use boot from SAN.\nMore information can be found here link .\nThe general support period for vSphere 6.7 will end on October 15, 2022. So make sure to upgrade before October 15, 2022, to VMware vSphere 7.\nTo identify what boot media (does not work for boot from SAN) is used I created a PowerCLI script that identifies the boot device for every VMware ESXi host in a cluster. After entering the vCenter Server and credentials it will list all the clusters available in the vCenter environment, select the cluster and the boot device per VMware ESXi host will be identified.\n\u0026lt;# .SYNOPSIS This script list the boot device for every VMware ESXi host .DESCRIPTION VMware is moving away from the support of SD cards and USB drives as boot media. ESXi Boot configuration with only SD card or USB drive, without any persistent device, is deprecated with vSphere 7 Update 3. In future vSphere releases, it will be an unsupported configuration. More information: https://blogs.vmware.com/vsphere/2021/09/esxi-7-boot-media-consideration-vmware-technical-guidance.html .NOTES Version: 1.0 Author: Ivo Beerens Creation Date: 2021 November Change: Creation #\u0026gt; # Import the PowerCLI module Import-Module VMware.PowerCLI # Variables $datefile = ( get-date ).ToString(\u0026#39;yyyy-MM-dd-hhmmss\u0026#39;) $file = New-Item -type file \u0026#34;C:\\Temp\\bootdevices$datefile.csv\u0026#34; $vcenterserver = Read-Host \u0026#34;Enter the vCenter server name\u0026#34; # Connect to the vCenter Server Connect-VIServer $vcenterserver $cluster = Get-Cluster | Out-GridView -Title \u0026#34;Select the cluster\u0026#34; -OutputMode Single $allhosts = $cluster | Get-VMHost | where {$_.ConnectionState -eq \u0026#34;Connected\u0026#34;} $result = @() foreach ($allhost in $allhosts) { $esxcli = Get-EsxCli -V2 -VMHost $allhost $result += $esxcli.storage.core.device.list.invoke() | Where {$_.IsBootDevice -match \u0026#34;true\u0026#34;} | Select @{N=\u0026#34;Cluster\u0026#34;;E={$cluster.Name}},@{N=\u0026#34;VMhost\u0026#34;;E={$allhost.Name}}, Vendor, Model, IsBootDevice, IsLocal, IsSAS, IsSSD, IsUSB, Device } # Display the output $result | FT # Export the output to a CSV file $result | Export-Csv $file -NoTypeInformation -Force # Disconnect the vCenter server session Disconnect-VIserver -Confirm:$false The output will be displayed on the screen and saved to a CSV file.\nThis script makes it easy to identify the boot devices of every VMware ESXi host in a cluster.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2021/11/08/create-a-site-to-site-vpn-to-microsoft-azure/",
  "title": "Create a Site-to-Site VPN to Microsoft Azure",
  "description": "",
  "date": "November 8, 2021",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "azure",
  "tags": "azure-vpn-gateway, edge-router, local-network-gateway, s2s, ubiquiti, vnet, vpn",
  "content":"I have a Visual Studio Enterprise subscription in Azure. I use this subscription for testing new Azure stuff. From my on-premises environment, I want to create a Site-To-Site (S2S) VPN connection to Microsoft Azure. I have a physical Ubiquiti Edge Router in my on-premises network. When searching the internet I found a lot of information that was outdated or not completed. After figuring out how to configure all the steps I decided to create a blog post about the configuration steps. All the information is not limited to the Ubiquiti Edge Router but can be used for other vendors.\nIn this example, I create a Site-to-Site VPN between my on-premises network and Azure. From my on-premises network, I\u0026rsquo;m able to connect to the spoke network where my Domain Controller resides.\nRequirements\nCreate a network topology drawing. This makes it easier to set up and troubleshoot. Check if you have a compatible VPN device. More information: About VPN devices for connections - Azure VPN Gateway | Microsoft Docs Install the Az PowerShell module. All the steps are done in PowerShell. Install the Azure Az PowerShell module | Microsoft Docs The main steps are\nStep 1: Configure the Azure VPN gateway Step 2: Configure the Ubiquiti Edge Router. Step 3: Create the network peerings Step 4: Open the firewall on the VMs Step 1: Configuring the Azure VPN Gateway First, we begin in Azure by configuring the VPN Gateway. Microsoft has a good article that describes the process that can be found here . I use PowerShell to configure the VPN gateway configuration.\nFill in the variables with the correct values of your environment # Variables $rg_vpn = \u0026#34;VPN-RG\u0026#34; $vnetname = \u0026#34;VPN-VNET\u0026#34; $location = \u0026#34;WestEurope\u0026#34; $addressspacehub = \u0026#34;10.2.0.0/16\u0026#34; $subnetname = \u0026#34;Frontend\u0026#34; $subnet = \u0026#34;10.2.0.0/24\u0026#34; $gatewaysubnet = \u0026#34;10.2.255.0/27\u0026#34; $public_ip_onprem = \u0026#34;31.151.12.226\u0026#34; $allowd_onprem_networks1 = \u0026#34;192.168.249.0/24\u0026#34; $allowd_onprem_networks2 = \u0026#34;192.168.13.0/24\u0026#34; $gatewayname = \u0026#34;VPN-GW\u0026#34; $vpntype = \u0026#34;RouteBased\u0026#34; # https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-about-vpn-gateway-settings#gwsku $sku = \u0026#34;basic\u0026#34; $gatewayType = \u0026#34;Vpn\u0026#34; $connectionname = \u0026#34;VPN-VNetToOnPrem\u0026#34; $vpnpip_azure = \u0026#34;VPN-AZURE-PIP\u0026#34; $vpnconnection = \u0026#34;VPN-IPSEC-S2S\u0026#34; $sharedkey = \u0026#34;!ThisisASecret!\u0026#34; Connect to Azure Connect-AzAccount Create the Azure VPN gateway # Create Azure Resource Group Write-Host \u0026#34;Create a Resource Group called $rg_vpn\u0026#34; -ForegroundColor Green New-AzResourceGroup -Name $rg_vpn -Location $Location # Create networks $subnet1 = New-AzVirtualNetworkSubnetConfig -Name \u0026#39;GatewaySubnet\u0026#39; -AddressPrefix $gatewaysubnet $subnet2 = New-AzVirtualNetworkSubnetConfig -Name $subnetname -AddressPrefix $subnet # Create VNet $vnet = New-AzVirtualNetwork -Name $vnetname -ResourceGroupName $rg_vpn ` -Location $location -AddressPrefix $addressspacehub -Subnet $subnet1,$subnet2 $vnet | Set-AzVirtualNetwork # Create a local network gateway New-AzLocalNetworkGateway -Name $connectionname -ResourceGroupName $rg_vpn ` -Location $location -GatewayIpAddress $public_ip_onprem -AddressPrefix $allowd_onprem_networks1,$allowd_onprem_networks2 # Request a public IP Address $gwpip= New-AzPublicIpAddress -Name $vpnpip_azure -ResourceGroupName $rg_vpn -Location $location -AllocationMethod Dynamic # Create Gatway IP addressing $vnet = Get-AzVirtualNetwork -Name $vnetname -ResourceGroupName $rg_vpn $subnet = Get-AzVirtualNetworkSubnetConfig -Name \u0026#39;GatewaySubnet\u0026#39; -VirtualNetwork $vnet $gwipconfig = New-AzVirtualNetworkGatewayIpConfig -Name gwipconfig1 -SubnetId $subnet.Id -PublicIpAddressId $gwpip.Id # Create a Site to Site VPN gateway Write-Host \u0026#34;Creating the VPN gateway. This can take up to 45 minutes!\u0026#34; -ForegroundColor Green New-AzVirtualNetworkGateway -Name $gatewayname -ResourceGroupName $rg_vpn ` -Location $location -IpConfigurations $gwipconfig -GatewayType $gatewayType ` -VpnType $vpntype -GatewaySku $sku # Configure the VPN Connection configuration $gateway1 = Get-AzVirtualNetworkGateway -Name $gatewayname -ResourceGroupName $rg_vpn $local = Get-AzLocalNetworkGateway -Name $connectionname -ResourceGroupName $rg_vpn New-AzVirtualNetworkGatewayConnection -Name $vpnconnection -ResourceGroupName $rg_vpn ` -Location $location -VirtualNetworkGateway1 $gateway1 -LocalNetworkGateway2 $local ` -ConnectionType IPsec -RoutingWeight 10 -SharedKey $sharedkey When all the parts are created you see the following resources in the resource group. Click on the \u0026ldquo;VPN-IPSEC-S2S\u0026rdquo; Connection and click on Download configuration. For various vendors such as Cisco, Allied Telesis, Juniper and Ubiquiti there are sample configuration templates available. If the vendor is not listed you can choose a generic sample configuration. Select \u0026ldquo;download configuration\u0026rdquo; and the configuration will be downloaded as text file. Step 2: Configure the Ubiquiti Edge Router Create a SSH session to the Edge router and log in Set the router in config mode by using the following command configure Copy the downloaded sample configuration, starting from the line that begins with “set vpn ipsec auto-firewall-nat-exclude enable ” sample configuration set vpn ipsec auto-firewall-nat-exclude enable set vpn ipsec esp-group FOO0 lifetime 3600 set vpn ipsec esp-group FOO0 pfs disable set vpn ipsec esp-group FOO0 proposal 1 encryption aes256 set vpn ipsec esp-group FOO0 proposal 1 hash sha1 set vpn ipsec ike-group FOO0 key-exchange ikev2 set vpn ipsec ike-group FOO0 lifetime 3600 set vpn ipsec ike-group FOO0 proposal 1 dh-group 2 set vpn ipsec ike-group FOO0 proposal 1 encryption aes256 set vpn ipsec ike-group FOO0 proposal 1 hash sha1 set vpn ipsec site-to-site peer 51.124.215.67 authentication mode pre-shared-secret set vpn ipsec site-to-site peer 51.124.215.67 authentication pre-shared-secret !ThisisASecret! set vpn ipsec site-to-site peer 51.124.215.67 connection-type respond set vpn ipsec site-to-site peer 51.124.215.67 description IPsecAzure set vpn ipsec site-to-site peer 51.124.215.67 ike-group FOO0 set vpn ipsec site-to-site peer 51.124.215.67 local-address 31.151.12.227 set vpn ipsec site-to-site peer 51.124.215.67 vti bind vti0 set vpn ipsec site-to-site peer 51.124.215.67 vti esp-group FOO0 set interfaces vti vti0 set protocols static interface-route 10.2.0.0/16 next-hop-interface vti0 set firewall options mss-clamp interface-type vti set firewall options mss-clamp mss 1350 set system offload ipsec enable In this example, we don\u0026rsquo;t use dynamic routing protocols such as BGP, so we must create static routes in the Edge Router for all the subnets we want to connect to. In this example, we connect the 10.1.0.0/24 subnet in Azure from the on-premises network. This subnet contains the Domain Controllers. The routing goes through Virtual Tunnel Interface 0 defined in the Edge Router. set protocols static interface-route 10.1.0.0/24 next-hop-interface vti0 Commit and save the changes commit ; save ; exit Check if the tunnel is up. This can take a while show vpn ipsec sa The IPSEC tunnel must be ESTABLISHED Step 3: Create the network peerings Connecting the spoke network where the Domain Controller resides is not possible because network peering is not configured yet.\nOpen the PowerShell Window that is still authenticated to Azure Change the variables if Needed Execute the PowerShell script # Variables $rg_vpn = \u0026#34;VPN-RG\u0026#34; $rg_dc = \u0026#34;vm-dc-rg\u0026#34; $peernamevpn = \u0026#34;peer-vpn-to-dc\u0026#34; $peernamedc = \u0026#34;peer-dc-to-vpn\u0026#34; $vnetvpnname = \u0026#34;VPN-VNET\u0026#34; $vnetdcname = \u0026#34;vm-dc-rg-vnet\u0026#34; $vnetvpn = Get-AzVirtualNetwork -Name $vnetvpnname -ResourceGroupName $rg_vpn $vnetdc = Get-AzVirtualNetwork -Name $vnetdcname -ResourceGroupName $rg_dc # Use this virtual network\u0026#39;s gateway or Route Server Add-AzVirtualNetworkPeering ` -Name $peernamevpn ` -VirtualNetwork $vnetvpn ` -RemoteVirtualNetworkId $vnetdc.Id -AllowGatewayTransit:$true Add-AzVirtualNetworkPeering ` -Name $vnetdcname ` -VirtualNetwork $vnetdc ` -RemoteVirtualNetworkId $vnetvpn.Id -UseRemoteGateways:$true Check the status of the VNet peering Get-AzVirtualNetworkPeering -ResourceGroupName $rg_vpn ` -VirtualNetworkName $vnetvpn.Name | Format-Table VirtualNetworkName, peeringState Get-AzVirtualNetworkPeering -ResourceGroupName $rg_dc ` -VirtualNetworkName $vnetdc.Name | Format-Table VirtualNetworkName, peeringState For both VNets the peeringState must be Connected Step 4: Open the firewall on the VMs The first test I perform is a ping test.\nTo ping a VM , ICMP in the Windows firewall needs to be opened. This can be done by using the following PowerShell command. New-NetFirewallRule –DisplayName \u0026#34;Allow ICMPv4-In\u0026#34; –Protocol ICMPv4 After this change, you must be able to ping (from the 192.168.249.0/24 and 192.168.13.0/24 subnets) to the 10.1.0.0/24 subnet in Azure where the Domain Controller resides.\nWrap-up Configuring a Site-to-site VPN tunnel involves a lot of steps as you can see in this blog post. I hope by reading this post it will give great insight into how to set up a Site-to-Site VPN to Azure.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2021/10/22/use-packer-to-install-windows-11-and-enable-vtpm-and-vbs/",
  "title": "Use Packer to install Windows 11 and enable vTPM and VBS",
  "description": "",
  "date": "October 22, 2021",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "windows-11",
  "tags": "hcl, packer, tpm, vbs, windows-11",
  "content":"I use Packer for building images for VMware VDI environments. With the latest version (when writing this blog Packer version 1.7.7 is the latest version) it is not possible to configure a TPM in the Hashicorp Configuration Languag (HCL) config file. TPM 2.0 is required to install Windows 11. A vTPM emulates a physical TPM 2.0 and is available in VMware vSphere.\nUpdate: January 27, 2022: Packer with the VMware vSphere plugin ((V1.0.3) has now support for adding a vTPM device. More information can be found here: link .\nYou can install Windows 11 using a registry hack (link ) to bypass the TPM check:\nreg ADD \u0026#34;HKLM\\SYSTEM\\Setup\\LabConfig\u0026#34; /f /v BypassSecureBootCheck /t REG_DWORD /d 1 vCommunity member Sidney Laan from vEUCaddict wrote a nice blog about using Packer to install Windows 11 using this registry hack (link ). When using this hack, it doesn\u0026rsquo;t enable vTPM or VBS.\nFor LAB environments, this is no issue but for production, environments you want to have a vTPM enabled and even Virtualization-Based Security (VBS) depending on the security requirements.\nSo what are TPM and VBS? TPM\nTrusted Platform Module (TPM) technology is designed to provide hardware-based, security-related functions. A TPM chip is a secure crypto-processor that helps you with actions such as generating, storing, and limiting the use of cryptographic keys.\nVBS\nVirtualization-based security, or VBS, uses hardware virtualization features to create and isolate a secure region of memory from the normal operating system. Windows can use this \u0026ldquo;virtual secure mode\u0026rdquo; to host a number of security solutions, providing them with greatly increased protection from vulnerabilities in the operating system, and preventing the use of malicious exploits which attempt to defeat protections.\nsource link After the Windows 11 installation with Packer, it is possible to add a vTPM and even enable Virtualization-Based Security (VBS) by using VMware PowerCLI.\nRequirements Use vCenter Server system versions 6.7 or later Add a Key Provider (link ) Install PowerCLI by using the following command in PowerShell: powershellInstall-Module VMware.PowerCLI -Scope CurrentUser The Windows 11 VM must be powered off Use VM hardware version 14 or higher Don\u0026rsquo;t create a snapshot with Packer (create_snapshot = false) PowerCLI Script The following PowerCLI script can be executed after the Packer Windows 11 deployment. This script adds vTPM, enables VBS support, and creates a snapshot.\nChange the variables for your environment. # Import PowerCLI Import-Module VMware.PowerCLI # Variables $vcentername = \u0026#34;vcentername\u0026#34; $VMTempName = \u0026#34;VMname\u0026#34; $snapname = \u0026#34;v0.1\u0026#34; $snapdescription = \u0026#34;Packer deployement with vTPM and VBS enabled\u0026#34; # Connect to vCenter Server Connect-VIServer -Server $vcentername # Add vTPM Write-Host \u0026#39;Set vTPM\u0026#39; New-VTpm -VM $VMTempName # Enable Virtualization Based Security (VBS) Write-Host \u0026#39;Enable VBS\u0026#39; $vm = Get-VM $VMTempName $spec = New-Object VMware.Vim.VirtualMachineConfigSpec $spec.Firmware = [VMware.Vim.GuestOsDescriptorFirmwareType]::efi $spec.NestedHVEnabled = $true $boot = New-Object VMware.Vim.VirtualMachineBootOptions $boot.EfiSecureBootEnabled = $true $spec.BootOptions = $boot $flags = New-Object VMware.Vim.VirtualMachineFlagInfo $flags.VbsEnabled = $true $flags.VvtdEnabled = $true $spec.flags = $flags $vm.ExtensionData.ReconfigVM($spec) # Create Snapshot Write-Host \u0026#39;Create snapshot\u0026#39; -ForegroundColor green Get-VM -Name $VMTempName | New-Snapshot -Name $snapname -Description $snapdescription # Disconnect vCenter Server Disconnect-VIServer -Server * -Confirm:$false When the script is finished, vTPM and VBS support is added Start the VM Check if a TPM is displayed in Device Manager and with the TPM.MSC command Using PowerShell the command Get-TPM can check the presence of the TPM For Enabling VBS (*1) go to \u0026ldquo;Device security\u0026rdquo; in Windows 11, select \u0026ldquo;Core isolation details\u0026rdquo; and enable \u0026ldquo;Memory Integrity\u0026rdquo; Enabling VBS can also be done by using the following registry settings reg add \u0026#34;HKLM\\SYSTEM\\CurrentControlSet\\Control\\DeviceGuard\u0026#34; /v \u0026#34;EnableVirtualizationBasedSecurity\u0026#34; /t REG_DWORD /d 1 /f\rreg add \u0026#34;HKLM\\SYSTEM\\CurrentControlSet\\Control\\DeviceGuard\u0026#34; /v \u0026#34;RequirePlatformSecurityFeatures\u0026#34; /t REG_DWORD /d 1 /f\rreg add \u0026#34;HKLM\\SYSTEM\\CurrentControlSet\\Control\\DeviceGuard\u0026#34; /v \u0026#34;Locked\u0026#34; /t REG_DWORD /d 0 /f\rreg add \u0026#34;HKLM\\SYSTEM\\CurrentControlSet\\Control\\DeviceGuard\\Scenarios\\HypervisorEnforcedCodeIntegrity\u0026#34; /v \u0026#34;Enabled\u0026#34; /t REG_DWORD /d 1 /f\rreg add \u0026#34;HKLM\\SYSTEM\\CurrentControlSet\\Control\\DeviceGuard\\Scenarios\\HypervisorEnforcedCodeIntegrity\u0026#34; /v \u0026#34;Locked\u0026#34; More info: Link (*1) Adding VBS in Windows 11 can have a performance impact on the VM\nReboot the VM When the VM is restarted run \u0026ldquo;msinfo32\u0026rdquo; Scroll down and check if \u0026ldquo;Virtualization-Based Security\u0026rdquo; is running Adding the PowerCLI script after the Packer deployment will enable vTPM and VBS for the Windows 11 VM. I hope the vTPM and VBS options will be added soon in Packer so we use the HCL config file without the need for an extra PowerCLI script.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2021/10/07/install-windows-11-on-vmware-vsphere-with-a-virtual-tpm/",
  "title": "Install Windows 11 on VMware vSphere with a virtual TPM",
  "description": "",
  "date": "October 7, 2021",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "windows-11",
  "tags": "tpm, VMware, windows-11",
  "content":"Yesterday I wrote a blog called “Install Windows 11 as VM on VMware vSphere / Workstation without TPM 2.0 chipset“. In this blog article, I explained how to install Windows 11 without having a TPM 2.0 chipset by using a registry hack. Paul Braren from tinkertry.com created a cool video (link) about installing Windows 11 on VMware vSphere using my blog article. Bob Plankers (@plankers) replied on Twitter that virtual TPM can be used too.\nYou can just add a virtual TPM in Workstation or vSphere, too. — (@plankers) October 6, 2021\nSo I did some research in my home lab. With VMware vSphere and VMware Workstation, it is possible to install Windows 11 by using a vTPM device that emulates a physical TPM 2.0 chipset without having one. This is called Virtual Trusted Platform Module (vTPM). A vTPM performs the same functions as a hardware TPM, it performs cryptographic coprocessor capabilities in software So without having a physical TPM 2.0 you can run Windows 11 without performing any hacks to the Windows 11 Operating System.\nIn this blog post, I explain how to configure vTPM for VMware vSphere and install Windows 11. Here are the steps:\nRequirements for vTPM EFI firmware Hardware Version 14 or later vSphere 6.7 or later Virtual Machine encryption Key Provider. The Key Provider is used to enable encrypted technologies such as TPM To enable vTPM you must first add a Key Provider Open the vSphere Client URL (https://vcentername/ui) Log-in Click on the vCenter name - Configure and select Key Providers Click on ADD Select Add Native Key Provider. When using the Native Key provider you don\u0026rsquo;t need an external key server**.** Enter a name for the Key Provider and uncheck \u0026ldquo;Use key provider only with TPM protected ESXi hosts (Recommended). Select Backup and uncheck \u0026ldquo;Protect Native Key Provider data with password (Recommended)\u0026rdquo; and click on BACK UP KEY PROVIDER The Key Provider is configured and active now Windows 11 VM Configuration For the Windows 11 VM configuration, I configured the following:\nCreate or download a Windows 11 ISO (for more information see the blog post mentioned at the beginning). Copy the ISO to a datastore that can be accessed when used to install Windows 11 In the vCenter client create a new VM with the following specification:\nConfiguration step 1: Create a new Virtual Machine Configuration step 2: Enter the Virtual Machine name Configuration step 3: Select the ESXi host or cluster for the VM Configuration step 4: Select the datastore and select Encrypt this virtual machine Configuration step 5: Compatibility: ESXi 7.0 U2 and later (I’m using ESXi 7) Configuration step 6: Guest OS: Guest OS Family: Windows Guest OS Version: Windows 10 (64-bit) Enable Windows Virtualization Based Security: Check Configuration step 7: CPU: 2 or more Memory: 4 GB or more Hard disk: 64 GB or more CD/DVD: Mount the ISO on the datastore Custom Hardware Select Add New Device and choose for Trusted Platform Module Configuration step 8: VM configuration overview - Click on Finish\nStart the VM and the installation begins without complaining that this PC can’t run Windows 11 Windows 11 can be installed without having a physical TPM 2.0 chipset or using the registry hack mentioned at the beginning of the blog post. How cool is that!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2021/10/06/install-windows-11-as-vm-in-vmware-vsphere-workstation-without-tpm-2-0/",
  "title": "Install Windows 11 as VM on VMware vSphere / Workstation without TPM 2.0",
  "description": "",
  "date": "October 6, 2021",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "windows-11",
  "tags": "tpm, VMware, windows-11",
  "content":"Yesterday Windows 11 is officially released. Windows 11 require a Trusted Platform Module (TPM) version 2.0 (link). . My VMware ESXi servers at home don’t have a TPM 2.0. During the installation, Windows will check for the presence of a TPM 2.0, if not available the installation will fail. There is a registry hack available to bypass the TPM 2.0 check. Use this only for demo purposes and not in production environments!\nThe first step is to download Windows 11. This can be done by visiting the Windows 11 download page (link ) and download the ISO image or create an ISO image with the MediaCreationTool (Quick Tip: Download the latest Windows 10 ISO file ). After the download put the ISO on a datastore and create a VM with the following hardware specifications:\nCompatibility: ESXi 7.0 U2 and later (I\u0026rsquo;m using ESXi 7) Guest OS: Windows 10 (64-bit) Enable Windows Virtualization Based Security: Check CPU: 2 Memory: 4 GB Hard Disk: 64 GB CD/DVD: Datastore on ISO Connect: Check Boot the VM with the ISO connected and the installation of Windows 11 will begin. Select the correct Language, Time and currency format, and keyboard layout Select \u0026ldquo;Install Now\u0026rdquo; A Message appears that this PC can\u0026rsquo;t run Windows 11 Press Shift + F10 A DOS box appears. Typ regedit and hit enter Navigate to HKEY_LOCAL_MACHINE\\SYSTEM\\Setup and create a new Key named LabConfig Create in the LabConfig Key a ByPassTPMCheck DWORD (32-bit) with the value of 1 Close the Regedit window (click on the Red X in the right corner) Typ exit to leave the command prompt Click on the Red X in the right corner and the setup will start again The setup is now able to install Windows 11 as VM in VMware ESXi or VMware Workstation. When the setup is finished you have a Windows 11 VM running. With this procedure, you can run Windows 11 on hardware that doesn\u0026rsquo;t have a TPM 2.0 chip. This procedure is not officially supported of course! For example, you may not receive security updates in the future if you bypass the hardware requirements such as TPM.\nVMware vSphere supports a Virtual Trusted Platform Module (vTPM) that emulates a physical TPM 2.0 without having one. Want to know more? Read my other blog post called \u0026ldquo;Install Windows 11 on VMware vSphere with a virtual TPM \u0026rdquo;.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2021/07/08/create-a-central-vmware-tools-repository/",
  "title": "Create a central VMware Tools repository",
  "description": "",
  "date": "July 8, 2021",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "powercli, VMware",
  "content":"VMware Tools releases have been decoupled from VMware vSphere release since version 10.0. You can now standardize to the latest VMware Tools by configuring a centralized repository. This can be useful when you want to point to a new VMware Tools version when for example a security vulnerability in identified VMware Tools. This is recently happened and described in the VMSA-2021-0013 security advisory (link ) for example.\nRequirements: - VMware ESXi 6.7 Update 1 or later - PowerCLI installed\nHere are the steps to create a central VMware Tools repository:\nCreate a folder structure on a central datastore (all VMware ESXi hosts have access to this datastore) in the cluster. For example: On the nfs01 datastore is created a folder called \u0026ldquo;vmwtools\u0026rdquo;, under that folder, I created another folder called \u0026ldquo;11.3.0-18090558\u0026rdquo; Download the latest VMware Tools version, link Extract the VMware Tools ZIP file. Two folders are extracted: floppies vmtools Upload the two folders to the folder structure created. In this example I used: /vmfs/volumes/vmwtools/11.3.0-18090558 Change the following variables so it matches the vSphere environment: $cluster $datastore The PowerCLI script below will point all the VMware ESXi hosts in a cluster to the central VMware Tools repository location. Execute this script # Import PowerCLI module Import-Module VMware.PowerCLI # VMware VirtualCenter server name $VCserver = read-host \u0026#34;Enter the vCenter server name\u0026#34; # Connect to the vCenter server Connect-VIServer -server $VCserver $cluster = \u0026#39;CL-MGNT\u0026#39; $hosts = Get-Cluster -Name $cluster | Get-VMHost $datastore = \u0026#39;/vmfs/volumes/nfs01/vmwtools/11.3.0-18090558/\u0026#39; # Display current VMware Location $hosts | Get-AdvancedSetting -Name \u0026#34;UserVars.ProductLockerLocation\u0026#34; | Select-Object Entity,Value # Change VMware Tools location Get-cluster -name $cluster | Get-VMhost | %{$_.ExtensionData.UpdateProductLockerLocation($datastore)} # Display current VMware Location $hosts | Get-AdvancedSetting -Name \u0026#34;UserVars.ProductLockerLocation\u0026#34; | Select-Object Entity,Value # Disconnect vCenter Disconnect-VIserver -server * -Confirm:$false The default location of the VMware Tools is: /locker/packages/vmtoolsRepo/\nSelect a Windows VM in the vSphere cluster. A message is displayed that there is a newer version of VMware Tools available. Select Upgrade VMware Tools (It is possible that the VM is automatically rebooted when choosing for an Automatic Upgrade). After the installation, check if VMTools is running and if the version is current. Creating a central VMware Tools repository is an easy step that is very useful to stay up to date with the latest VMware Tools versions for the Virtual Machines.\nThe VMware PowerCLI script listed above can be found on my GitHub repository, link .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2021/06/21/run-home-assistant-supervised-as-virtual-machine-vm-on-vmware-esxi/",
  "title": "Run Home Assistant on VMware ESXi",
  "description": "",
  "date": "June 21, 2021",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "home-assistant",
  "tags": "home-assistant",
  "content":"Updated: August 19, 2023. Debian 11 is not supported any more for running Home Assistant Supervised. For a supported configuration, you need Debian 12. The steps in this blog are updated to install Home Assistant as Debian 12 VM in VMware ESXi.\nUpdated: December 2, 2022. Debian 10 is not supported any more for running Home Assistant Supervised. For a supported configuration, you need Debian 11 (Bullseye). The steps in this blog are updated to install Home Assistant as Debian 11 VM in VMware ESXi.\nHome Assistant Supervised provides the full Home Assistant experience on a regular operating system. The Supervisor is not just an application but it is a full appliance that manages the whole system. Home Assistant supervised is only supported on a Debian 12 Operating System. Below are the steps described on how to install Home Assistant Supervised as Virtual Machine on a Debian 11 (Bullseye) Operating System in VMware ESXi.\nConfigure the Virtual Machine hardware specifications Download the debian-live-12.1.0-amd64-standard.iso, Link Make a connection to the ESXi host: https://\u0026lt;ip-address\u0026gt;/ui Upload the Debian ISO to a datastore Create a new virtual machine with the following specifications: Name: Compatibility: Default (ESXi 8 and later) Guest OS family: Linux Guest OS version: Debian GNU/Linux 12 (64-bit) Storage: datastore with more than 30 GB of free space CPUs: 2 Memory: 2048 MB Hard disk 1: 40 GB Disk Provisioning: Thin provisioned SCSI Controller 0: VMware Paravirtual USB controller 1: USB 2.0 or 3.0 depending on the ESXi hardware Network adapter 1: Select the port group Adapter type: E1000e CD/DVD Drive 1: Datastore ISO file Browse to the Debian ISO Connect at Power: checked Video Card: Default settings Next Finish Power on the VM Open a console session The VM is now configured with a paravirtualized SCSI controller (PVSCSI) and VMXNET3 Virtual NIC.\nInstall Debian 12 as VM on VMware ESXi Installer Menu: Start Installer Language: English Location: Other, Europe, Netherlands Locales: United States Keymap: American English Enter the hostname: ha-deb12-01 Domain name: Root password: Full Name for the user: User name: Choose Password for the new user: Partition Disks: Guided - Use the entire disk and set up LVM Select disk to partition: SCSI1 (0,0,0) - 32,2 GB VMware Virtual Disk Partition scheme: All files in one partition (recommended for new users) Write the changes to disk and configure LVM: Yes Amount of volume group to use for guided partitioning: 42.4 GB Select: Continue Write changes to disks: Yes Configure the Package manager: Yes Debian archive mirror country: Select the archive mirror country nearby. I selected Netherlands Debian archive mirror: deb.debian.org HTTP Proxy: Leave empty and select continue Participate in the package usage survey: No Software selection: Check: SSH server and standard system utilities Uncheck: Debian desktop environment Uncheck: GNOME Install the GRUB boot loader to the master boot record. Yes Device for boot loader installation? /dev/sda Installation is complete. Finish the installation: Continue The Debian VM will be rebooted and is ready for use. After the installation, open a console session and log in.\nEnable SSH\nsudo apt install openssh-server\rsudo nano /etc/ssh/sshd_config Enable port 22 and save the file\nsystemctl restart ssh Enable Sudo on the user account\nnano /etc/sudoers Save\nUnder the \u0026ldquo;User privilege specification\u0026rdquo; add the user account created during the Debian installation. Replace the with the name of the user you entered in the installation phase.\nusername ALL=(ALL:ALL) ALL Press CTRL + X to save the file. Now it is possible to use the sudo account under your username.\nexit\rsudo -i More information: How to Install and Enable SSH on Debian 12/11/10 - LinuxCapable Update all Debian packages\napt update \u0026amp;\u0026amp; sudo apt upgrade -y \u0026amp;\u0026amp; sudo apt autoremove -y Find the IPv4 address of the VM by using the command:\nVMware Tools is included in the Debian distribution so you don\u0026rsquo;t need to install VMware Tools package. Find the IP address by using the following command:\nifconfig ens192 Look for the inet address. That\u0026rsquo;s the IP address.\nMake an SSH connection to the VM\nConnect using SSH to the IP address of the Debian VM by using Putty for example.\nsudo -i Install the required packages\napt-get install \\\rapparmor \\\rjq \\\rwget \\\rcurl \\\rudisks2 \\\rlibglib2.0-bin \\\rnetwork-manager \\\rdbus \\\rlsb-release \\\rsystemd-journal-remote -y Install Docker-CE\ncurl -fsSL get.docker.com | sh Install the latest Agent\nThe latest agents can be found here: https://github.com/home-assistant/os-agent/releases/latest Replace the “os-agent_1.5.1_linux_x86_64.deb” with the agent version you downloaded.\nwget https://github.com/home-assistant/os-agent/releases/download/1.5.1/os-agent_1.5.1_linux_x86_64.deb\rdpkg -i os-agent_1.5.1_linux_x86_64.deb You can check if the installation was successful by running the following command.\ngdbus introspect --system --dest io.hass.os --object-path /io/hass/os This should not return an error.\nInstall Home Assistant Supervised Debian Package\nwget https://github.com/home-assistant/supervised-installer/releases/latest/download/homeassistant-supervised.deb\rdpkg -i homeassistant-supervised.deb A reboot of the Debian VM is necessary.\nreboot After the reboot, you need to wait (between 1 and 20 minutes) for the initial Home Assistant configuration. With the command docker ps you can view the status of the Docker containers. The status must be Up xx minutes.\nConnect to Hass.io: http://\u0026lt;hostname or IP\u0026gt;:8123\nHome Assistant Supervised is now installed and running as a Virtual Machine on VMware ESXi. You can check the system health by browsing to:\nSettings -\u0026gt; System -\u0026gt; Repairs -\u0026gt; 3 dots -\u0026gt; System Information\nMore information:\nGitHub - home-assistant/supervised-installer: Installer for a generic Linux system "},{
  "section": "Blog",
  "slug": "/logbook/site/2021/05/19/quick-tip-download-the-latest-windows-10-iso-file/",
  "title": "Quick Tip: Download the latest Windows 11 ISO files",
  "description": "",
  "date": "May 19, 2021",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "windows-10, windows-11",
  "tags": "windows-10, windows-11",
  "content":"In my lab environment, I use the latest Windows 10 or Windows 11 versions (for example the new Windows 11 23H2) for creating and testing golden images for VDI environments.\nTo download the latest Windows ISOs file I use the Windows Media Creation Tool. This is a Windows-based tool. When starting the Windows Media Creation Tool it opens a Graphical User Interface and you are able to download Windows Home (N), Education (N), and the Pro (N) ISO. To download the Enterprise version you need to enter the command line. Here are the steps explained to download a Windows 10/11 Enterprise ISO:\nDownload the Windows 10 Media Creation Tool (Link) or Windows 11 Media Creation Tool (Link ) Select: \u0026ldquo;Download Tool now\u0026rdquo; Open the command line Use the following command to download the English 64-bits Windows 10/11 Enterprise ISO: mediacreationtool.exe /Eula Accept /Retail /MediaArch x64 /MediaLangCode en-US /MediaEdition Enterprise To download the Dutch 64-bits Windows 10/11 Enterprise ISO use the following command: MediaCreationTool.exe /Eula Accept /Retail /MediaArch x64 /MediaLangCode nl-NL /MediaEdition Enterprise Enter the product key NPPR9-FWDCX-D2C8J-H872K-2YT43. The KMS client keys can be found here: link Select: Create installation media (USB flash drive, DVD, or ISO file) for another PC Select \u0026ldquo;Iso file\u0026rdquo; and browse to a location to store the ISO. You need at least 8GB free on the C-drive and the ISO size is between 4 and 5 GB. The download of the Windows 10 ISO starts. Once the downloading of the ISO is completed it\u0026rsquo;s ready for use.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2021/04/13/resources-to-prepare-for-the-az-140-configuring-and-operating-windows-virtual-desktop-on-microsoft-azure-exam/",
  "title": "Resources to prepare for the AZ-140 Azure Virtual Desktop (AVD) exam",
  "description": "",
  "date": "April 13, 2021",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "avd, wvd",
  "tags": "avd, az-104, exam, windows-virtual-desktop, wvd",
  "content":"I’m preparing for the AZ-140 Azure Virtual Desktop (AVD) exam.\nUpdate: June 10, 2021, the exam is out of beta and Generally Available (Link ).\nThe following resources I\u0026rsquo;m using for studying for the exam:\nExam AZ-140: Configuring and Operating Windows Virtual Desktop on Microsoft Azure – Skills Measured Exam AZ-140: Configuring and Operating Windows Virtual Desktop on Microsoft Azure website Deliver remote desktops and apps from Azure with Windows Virtual Desktop free training from Microsoft The AZ-140 exam can be taken online. Know what to expect with an online proctored exam, link Create a free Azure account to get some hands-on lab experience\nCreate a Azure free account The Azure Academy did a great job and created a series of AZ-140 study guides on YouTube:\nAZ-140 ep01 | Mgmt grp Subs Resource grp AZ-140 ep02 | Configure Active Directory | Azure AD DNS AZ-140 ep03 | Plan Windows Virtual Desktop Host Pool AZ-140 ep04 | Plan Your WVD Session Hosts AZ-140 ep05 | WVD Network Planning AZ-140 ep06 | Plan WVD Licenses AZ-140 ep07 | Plan FSLogix Storage AZ-140 ep08 | Plan FSLogix Profiles AZ-140 ep09 | Plan AzureAD Identites AZ-140 ep10 | Plan WVD Clients AZ-140 ep11 | Windows Virtual Desktop Scenario AZ-140 ep12 | Implement WVD Network AZ-140 ep13 | Implement WVD FSLogix Storage AZ-140 ep14 | In An Image Gallery Far Far Away AZ-140 ep15 | Warning The Host Pools Are Loose! AZ-140 ep16 | How To Configure All Things Apps AZ-140 ep17 | How To Protect Yourself | Disaster Recovery AZ-140 ep18 | Unlock The Potential of Technology AZ-140 ep19 | What\u0026rsquo;s The Point of Cloud Monitoring Travis Roberts has created a training course and a set of exam questions for the AZ-140 exam on Udemy:\nZero to Hero with Windows Virtual Desktop Windows Virtual Desktop (WVD) AZ-140 Practice Test . Use promo code AZ140PROMO for a discount! Pluralsight is free this month (April 2021). So take your change\nMicrosoft Azure Administrator: Preparing for the AZ-104 Exam by Tim Warner Windows Virtual Desktop on Microsoft Azure: Implement a WVD Infrastructure by Greg Shields Exam tips:\nAZ-140 Configuring and Operating Windows Virtual Desktop on Microsoft Azure – My Tips Exam tips from the I am it geek What The Hack - Windows Virtual Desktop How to pass AZ-140 certification exam - AVD specialisation I hope that these resources will help you pass the AZ-104 exam. Let me know in a comment below about your experience with the AZ-104 exam.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2021/03/07/enable-adobe-flash-player-for-vmware-horizon-environments/",
  "title": "Enable Adobe Flash support for the VMware Horizon Administrator console",
  "description": "",
  "date": "March 7, 2021",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "VMware-horizon",
  "content":"Adobe Flash is no longer supported after December 31, 2020, and currently disabled by default.\nDuring my consulting work, I still see organizations that use Adobe Flash-based applications such as the VMware Horizon Administrator. VMware Horizon 7.10 has an HTML5 based Horizon Console that nearly feature-complete and replaces the Adobe Flash-based Horizon Console.\nFor organizations, it can difficult to manage there VMware Horizon environments below version 7.10 of VMware Horizon. This can be done by enabling Adobe Flash temporarily. Caution: Enabling Adobe Flash is a security breach for your environment. So use with caution!!!\nWith the following steps you can enable Adobe Flash support on a Windows:\nDownload Firefox 78.6.1 ESR, link Create or edit the following file: \u0026lsquo;C:\\Windows\\SysWOW64\\Macromed\\Flash\\mms.cfg\u0026rsquo; with the following settings: EOLUninstallDisable=1 SilentAutoUpdateEnable=0 EnableAllowList=1 AutoUpdateDisable=1 ErrorReportingEnable=1 AllowListUrlPattern=https://fqdn-of-the-horizon-connection-server:443 Replace the \u0026lsquo;AllowListURLPattern\u0026rsquo; with the FQDN of the VMware Horizon Connection server or load balancer URL Open Firefox and enter the VMware Horizon Connection server or load balancing URL When you are still using the VMware Horizon Administrator make sure to upgrade your VMware Horizon environment. The end of general support for Horizon 7 is March 2021. Upgrade to minimal VMware 7.13 (has general support till October of 2022) or VMware Horizon 8.x.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2021/01/25/patch-a-vcenter-server-high-availability-vcha-environment/",
  "title": "Patch a vCenter Server High Availability (VCHA) environment",
  "description": "",
  "date": "January 25, 2021",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "vcenter-server, VMware",
  "content":"Last week I tried to patch a vCenter Server High Availability (VCHA) 7 cluster environment. I read the documentation and the procedure described looks still the same as in version 6.x. First patch the witness node, then the passive node, failover the active node, and patch the passive node using the software-packages tool. The whole process is described in this link .\nWhen I tried to stage the ISO on the witness node the following error occurred:\nYou can not patch a vCenter Server appliance in a vCenter HA cluster. resolution: You must remove the vCenter HA configuration, apply patches to vCenter Server appliance, and then reconfigure your vCenter HA deployment.\nSo I removed the vCenter Server HA cluster configuration and patched the single vCenter Server Appliance.\nAfter the patching of the single VCSA, I redeployed the VCHA cluster again.\nConclusion: The vCenter Server HA cluster documentation still has the VCHA 6 update procedure documented that does not work anymore. I will update this blog article if there is more information available.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2020/12/15/adding-static-routes-to-a-vcenter-server-with-multiple-network-cards/",
  "title": "Adding a static route to a vCenter Server with multiple Network Interface Cards (NICs)",
  "description": "",
  "date": "December 15, 2020",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vcenter-server",
  "tags": "vcenter-server, VMware",
  "content":"For a Disaster Recovery (DR) site, I designed a separate isolated VMware Horizon environment. The vCenter Server has an external (eth0) and internal (eth1) IP address. The external connection is for management and restoring production VMs to the DR environment. The internal connection is for Horizon infrastructure components that need access to the vCenter Server such as a VMware Horizon Server and VMware App Volumes. This looks simplified as follows:\nThere must be a static route to the Horizon subnet because the Horizon Connection Servers and VMware App Volumes integrate with the vCenter Server.\nHere are the steps outlined to create such an environment:\nThe first thing after deploying a new vCenter Server is adding an extra NIC (VMXNET3). The steps are explained in the following article: KB2147155 Add the NIC to the correct internal PortGroup Open the VAMI interface (https://\u0026lt;IP_Address\u0026gt;:5480) of the vCenter Server and add the IP configuration of eth1 (NIC1). Enable SSH in the VAMI interface (Access - Edit - Enable SSH login) Make an SSH session to vCenter Server and log in with root and the correct password Enter \u0026ldquo;shell\u0026rdquo; to launch the BASH shell Browse to the following location: cd /etc/systemd/network There are two files available (10-eth0.network and 10-eth1.network). The 10-eth0.network represents eth0 and looks like: [Match]\rName=eth0\r[Network]\rGateway=10.2.145.249\rAddress=10.2.145.202/24\rDHCP=no\r[DHCP]\rUseDNS=false The 10-eth1.network file represents eth1 and looks like this. [Match]\rName=eth0\r[Network]\rGateway=10.2.145.249\rAddress=10.2.145.202/24\rDHCP=no\r[DHCP]\rUseDNS=false Add a static route by adding the [Route] section of this file. [Match]\rName=eth1\r[Network]\rAddress=192.168.0.102/24\rDHCP=no\r[DHCP]\rUseDNS=false\r[Route]\rGateway=192.168.0.1\rDestination=10.21.9.0/24 Restart the network services systemctl restart systemd-networkd.service Check if the route is added with the route -n command: root@vcdr01 [ /etc/systemd/network ]# route -n\rKernel IP routing table\rDestination Gateway Genmask Flags Metric Ref Use Iface\r0.0.0.0 10.2.145.249 0.0.0.0 UG 0 0 0 eth0\r10.2.145.0 0.0.0.0 255.255.255.0 U 0 0 0 eth0\r10.21.9.0 192.168.0.1 255.255.255.0 UG 0 0 0 eth1\r192.168.0.0 0.0.0.0 255.255.255.0 U 0 0 0 eth1 Test with the ping command from the vCenter Server if you can reach the Horizon infra components in the subnet. "},{
  "section": "Blog",
  "slug": "/logbook/site/2020/10/26/installing-home-assistant-on-esxi-arm/",
  "title": "Install Home Assistant on ESXi-ARM",
  "description": "",
  "date": "October 26, 2020",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi-arm",
  "tags": "arm, esxi-arm, pi",
  "content":"One of the use cases for running ESXi-ARM in my home lab environment is running Home Assistant. Home Assistant is a great open-source platform for home automation. After assembling the Pi cluster (see my previous blog post ) and installing ESXi on ARM (ESXi-ARM) using the “Fling on Raspberry Pi ” documentation, it’s time to install Home Assistant.\nIn this example, I install the following components:\nUbuntu for ARM VMware Tools Docker Home Assistant in a Docker container. Pre-requisites Download Ubuntu 20.04.1-live-server-arm64.iso or higher Make a connection to the vCenter Server : https://\u0026lt;vcenter server\u0026gt;/ui or the local ESXi server https:// Upload the Ubuntu ISO to a datastore Home Assistant VM Creation Create a new virtual machine with the following specifications:\nRight click Host Select Create/Register VM Virtual Machine name: HomeAssstant-001 Select a compute resource: select an ESXi server Select storage: Select the datastore Select compatibility: ESXi 7.0 and later Select a guest OS: Guest OS Family: Linux Guest OS Version: Ubuntu Linux (64-bit) Customize hardware: CPUs: 2 Memory: 2048 MB Hard disk 1: 30 GB Network adapter 1: Select the port group Adapter type: E1000E CD/DVD Drive 1: Datastore ISO file Browse to the Ubuntu ISO Connect at Power On: checked Video Card: Default settings Next Finish Power on the VM Open a console session Ubuntu Installation Select: Install Ubuntu Server Language: English Select: Install Ubuntu Server Choose your preferred language: English Keyboard configuration: Select the layout and variant: English US (variant (US) Installation: Install Ubuntu Networking connections: The ens160 is the ethernet NIC of the VM. Select the IPv4 method: DHCP or a manual fixed IP address Configure proxy: leave this blank you are a not using a proxy server Ubuntu mirror: Use the mirror address suggested Filesystem setup: Use an Entire Disk Filesystem summary: Done Confirm destructive action. Are you sure you want to continue: Continue Profile setup: Fill in the following fields (remember the username and password) Your name: Your server’s name: Pick a username: Choose a password: Confirm a password: SSH Setup: Install the OpenSSH server Import SSH identity: No Featured Server Snaps: Select none The installation of Ubuntu begins Once the installation is complete! Reboot the system After the installation of the Ubuntu OS, perform the following post configuration actions:\nIn a console session, find the IP address with the ip -a command. VMware Tools is not installed yet, so the IP address is not visible in VM properties. Connect to the Ubuntu using an SSH session with Putty for example Install the latest Ubuntu updates and upgrades sudo apt update \u0026amp;\u0026amp; sudo apt upgrade -y\rsudo reboot Open VMware Tools installation In the SSH session install package dependencies and clone the open git repository.\nsudo -i\rapt install -y automake-1.15 pkg-config libtool libmspack-dev libglib2.0-dev libpam0g-dev libssl-dev libxml2-dev libxmlsec1-dev libx11-dev libxext-dev libxinerama-dev libxi-dev libxrender-dev libxrandr-dev libgtk2.0-dev libgtk-3-dev libgtkmm-3.0-dev\rgit clone https://github.com/VMware/open-vm-tools.git\rcd open-vm-tools/open-vm-tools/\rautoreconf -i\r./configure\rmake\rmake install\rldconfig build and install the Open VMware Tools\nautoreconf -i ./configure\rmake\rmake install\rldconfig create a vmtoolsd.service file\ncat \u0026gt; /etc/systemd/system/vmtoolsd.service \u0026lt;\u0026lt; EOF\r[Unit]\rDescription=\rDescription=Open VM Tools\rAfter=\rAfter=network-online.target\r[Service]\rExecStart=\rExecStart=/usr/local/bin/vmtoolsd\rRestart=always\rRestartSec=1sec\r[Install]\rWantedBy=multi-user.target\rEOF Enable the VMware Tools daemon at startup\nsystemctl enable vmtoolsd.service\rsystemctl start vmtoolsd.service Check if the VMware tools are running\nsystemctl status vmtoolsd.service Docker installation In the SSH session run the following commands:\napt install software-properties-common -y\rapt-get install -y apparmor-utils apt-transport-https avahi-daemon ca-certificates curl dbus jq network-manager socat\rcurl -fsSL get.docker.com | sh Home Assistant installation In the SSH session run the following command:\ncurl -sL \u0026#34;https://raw.githubusercontent.com/home-assistant/supervised-installer/master/installer.sh\u0026#34; | bash -s -- -m raspberrypi4 After the installation, it takes about 1 minute for all the 7 docker HA containers are up. You can check this by using the docker -ps command.\nWhen the docker containers are up, you can make a web browser connection to:\nhttp://\u0026lt;ip address:8123\u0026gt;\nThere will be a \u0026ldquo;Preparing Home Assistant\u0026rdquo; page for some minutes. Once completed you\u0026rsquo;re ready to create a user of restore a snapshot of you\u0026rsquo;re existing configuration. After this, you can start with your home automation projects.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2020/10/21/how-to-build-an-esxi-on-arm-pi-cluster/",
  "title": "How to build an ESXi on ARM Pi cluster?",
  "description": "",
  "date": "October 21, 2020",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi-arm, home-lab",
  "tags": "esxi-arm, home-lab, pi",
  "content":"Shortly after VMworld 2020, VMware released (after years of announcing and demoing) the ESXi On ARM fling (*1). On Social media and the community ESXi on ARM is a very hot topic. The ESXi ARM fling makes it possible to run the VMware ESXi hypervisor on ARM platforms such as:\nAvantek Workstation and server (Ampere eMAG) Lenovo ThinkSystem HR330A and HR350A (Ampere eMAG) SolidRun Honeycomb LX2 Raspberry Pi (rPi) 4b model (4GB and 8GB only). Because it supports the Raspberry Pi 4b model is very interesting for the home labbers.\n*(1) A fling shows an early stage of software to the VMware community. There is no official (only community) support available. The ESXi on ARM fling can be download for the following location: link .\nUse cases Some use cases for ESXi On ARM are:\nvSAN Witness node, link Automation environment for PowerCLI and Terraform and packer, link . Security at the edge Other home lab projects such as running Home Assistant (See the next blog post). For my home lab environment, I wanted to build an ESXi ARM cluster for my IoT stuff (such as Home Assistant) with two Pi nodes attached to my existing QNAP NAS. With the two ESXi ARM nodes, a vCenter Server, and shared storage, cluster functions such as vMotion, High Availability, DRS, and even FT are available. How cool is that!\nEvery day there are new use cases created in the community. That\u0026rsquo;s one reason why ESXi on ARM is such a cool technology!\nMy Environment build Here is a simple diagram of how my setup looks like:\nbuild of materials (BOM) In this blog article, I will mention the build of materials (BOM). The following components I use: s\nNumberComponent~Cost €\u0026nbsp;Link (cheapest Pi shop in the Netherlands)1Raspberry Pi 4 Model B with 8GB memory.87,50 (per Pi)Link2Raspberry Pi 15W USB-C Power Supply\u0026nbsp;9,95 (per Pi)Link3Argon One Pi 4 case28,95 (per Pi)Link4Official Raspberry Pi USB keyboard17,95Link5Micro SD card, 32 GB13,95 (per Pi)Link6Delock USB 3.2 16 GB flash drive\u0026nbsp;8,99 (per Pi)I reused the USB drives7Micro-HDMI to HDMI cable 1,5m.\u0026nbsp;7,95Link\r1. Raspberry Pi 4 Model B with 8GB memory.\nThis Pi model has the following specifications:\n1.5GHz quad-core ARM Cortex-A72 CPU VideoCore VI graphics 4kp60 HEVC decode True Gigabit Ethernet 2 × USB 3.0 2 × USB 2.0 ports 2 × micro-HDMI ports (1 × 4kp60 or 2 × 4kp30) USB-C for input power, supporting 5V 3A operation 8Gb LPDDR4 memory 2. Raspberry Pi 15W USB-C Power Supply.\nThe power Supply uses the USB-C for charging the Pi. Make sure to use a decent power supply such as this one.\n3. Argon One Pi 4 case\nThis case (which looks like the Tesla Cybertruck) has an aluminum enclosure for passive cooling and a fan inside for active cooling. Proper cooling is very important for the Pi because when running VMware ESXi it can get hot. You can control the FAN by software or enable the always-on mode. In software mode when the CPU temp reaches 55 degrees, the fan will run at 10%, at 60 degrees it will run at 55%, and at 60 degrees it will run 100%. The driver does not work on VMware ESXi, it is designed for the Pi OS. Hopefully, there will be a VIB available in the future that makes software control of the fan possible. For VMware ESXi, you need to enable the always-on mode by switching the jumper pen next to the fan.\nThe assembly of the Pi and case is very easy:\nNext to the fan, you see two cooling blocks (grey ones), one for the CPU and the other for the RAM chip Add some terminal paste to the cooling blocks Plug the PCB board into the Pi and the case. With the PCB board, all the ports and buttons are accessed from the back! Tighten the screws. The GPIO pins are still available when removing the magnetic cap from the top of the case.\n4. Official Raspberry Pi USB keyboard.\nThis is a 78-key QWERTY keyboard with a built-in 3 ports hub on the back. It has a small form factor.\n5 \u0026amp; 6. Micro SD card and USB disk.\nThe SD card is for storing the UEFI firmware that is required to boot the VMware ESXi-ARM installer. I used 32 GB SD. The USB drive is for installing the VMware ESXi ARM ISO.\n7. Micro-HDMI to HDMI cable 1,5m.\nThe following components I already have in my home lab environment and will be re-used:\nNetgear switch 2 x Delock USB 3.2 16 GB flash drives 2 x UTP CAT 5e cables QNAP NAS After the assembly of the case, connect the USB drive, SD card, Power-Supply, Monitor, keyboard, UTP cable, and you\u0026rsquo;re ready to install the VMware ESXi for ARM fling.\nIn the next ESXi on ARM blog, I will highlight the ESXi on ARM installation process and how to install and configure Home Assistant.\nHere are some great links to follow:\nESXi ARM Fling VMware ESXI-ARM blog William Lam ESXi-ARM The slack channel #esxi-arm on VMware{code} ESXi-ARM Twitter Thanks to the Raspberry Store for the quick delivery.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2020/10/19/quick-tip-the-local-windows-10-taskbar-is-in-front-during-an-rdp-session/",
  "title": "Quick Tip: The local Windows 10 taskbar is in front during an RDP session",
  "description": "",
  "date": "October 19, 2020",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "in-front, rdp, taskbar, windows-10",
  "content":"Sometimes it happens to me that the local taskbar of my Windows 10 laptop is in front and you don’t have access to the remote toolbar during a full-screen RDP session. This is quite annoying. In the picture below you see the local toolbar of my Windows 10 laptop is in front during a full-screen RDP session.\nAccessing the remote taskbar from the server is only possible when you don\u0026rsquo;t run RDP in full-screen mode. The fix for this is to reboot the local Windows 10 device or kill the \u0026ldquo;explorer.exe\u0026rdquo; process. You can do this manually using the Windows task manager or automated using the command line. The syntax is as follows:\nC:\\Windows\\System32\\cmd.exe /c \u0026#34;C:\\Windows\\System32\\taskkill.exe /F /IM explorer.exe \u0026amp; start explorer\u0026#34; "},{
  "section": "Blog",
  "slug": "/logbook/site/2020/09/21/list-the-parent-and-active-snapshot-per-vmware-horizon-pool/",
  "title": "List the parent VM and active snapshot per VMware Horizon pool",
  "description": "",
  "date": "September 21, 2020",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "horizon, powercli, PowerShell, VMware",
  "content":"On my GitHub page (link ), I uploaded a PowerShell script that identifies all the active parent VM and snapshot per VMware Horizon pool. The parent VM is also known as Golden image.\nWith this script, you can quickly identify what parent VMs and snapshots are in use.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2020/09/17/run-vmware-workstation-and-microsoft-hyper-v-together-on-windows-10/",
  "title": "Run VMware Workstation and Microsoft Hyper-V together in Windows 10",
  "description": "",
  "date": "September 17, 2020",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "hyper-v-2, VMware, workstation",
  "content":"In 2013 I wrote a blog post that it was not possible to run VMware Workstation when the Hyper-V role was enabled (link ). Since VMware Workstation 15.5 it is possible to run VMware Workstation and the Hyper-V role together.\nRequirements:\nWindows 10 2004 or newer VMware Workstation 15.5.5 or newer Supported CPU: Intel Sandy Bridge or an AMD Bulldozer or newer I tested this with my Windows 10 laptop with the Hyper-V role enabled, the Windows Subsystem for Linux running, and VMware Workstation 16 Pro. In Hyper-V and VMware Workstation a Windows 10 VM is running. In the screenshot below you see all the components started:\nThis is very cool, now you can run VMware Workstation and Hyper-V role at the same time even with the WSL active.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2020/08/25/configure-microsoft-teams-offloading-in-vmware-horizon/",
  "title": "Configure Microsoft Teams offloading in VMware Horizon",
  "description": "",
  "date": "August 25, 2020",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware",
  "tags": "horizon, teams, VMware",
  "content":"With VMware Horizon 8 or the new naming format, Horizon 2006 (YYMM) Microsoft Teams offloading / media optimization is supported. Media Optimization for Microsoft Teams redirects audio calls, video calls, and viewing desktop shares for a seamless experience between the client system and the remote session without negatively affecting the virtual infrastructure and overloading the network.\nWhat is supported The Media Optimization for Microsoft Teams offers the following features:\nAccepting and making audio and video calls Multiparty audio and video conferencing Transfer, forward, mute, hold, and resume a call PSTN calls via dial pad Desktop screen sharing Multi monitor screen sharing and screen picker for screen sharing Volume control from the remote desktop Active speaker identification Limitations Media Optimization for Microsoft Teams has the following limitations:\nTo enable this feature you need to configure the following settings:\nInstall Horizon 2006 client and enable media optimization. Import the Horizon 2006 GPOs and enable the Group Policy setting for Microsoft Teams Perform a machine-wide installation of Microsoft Teams on the golden image In this example, I will configure a Windows 10 client with a custom Horizon 2006 client installation, import and configure the GPO settings for Microsoft Teams on the Domain Controller and install Microsoft Teams on the Windows 10 Golden Image.\nHorizon client Install a custom installation of the Horizon client.\nDownload the Horizon 2006 client, link Install the client and select \u0026ldquo;Customize installation\u0026rdquo; Scroll down and select \u0026ldquo;Media Optimization for Microsoft Teams\u0026rdquo; After the installation reboot the Windows client VMware Horizon Group Policies Download and configure the Microsoft Teams GPO.\nDownload the GPO bundle from the VMware download site Extract the .zip file Copy all the files to the %systemroot%\\PolicyDefinitions folder on your Active Directory Create a GPO and configure the Teams offloading settings: Computer Configuration Policies Administrative Templates VMware View Agent Configuration VMware HTML5 Features VMware WebRTC Redirection Features Enable the Media Optimization for Microsoft Teams setting VDI - Golden Image Install the Microsoft Teams client on a Windows 10 32 or 64 bits OS.\nDownload the 32 or 64 bits Teams client, here is a link to the 64-bits version, link Perform a machine-wide installation because Teams won\u0026rsquo;t work properly with a per-user installation on a non-persistent setup. msiexec /i \u0026lt;path_to_msi\u0026gt; /l*v \u0026lt;install_logfile_name\u0026gt; ALLUSER=1 ALLUSERS=1 More information on installing Microsoft Teams can be found here, link. More information on installing VMware Teams can be found here, link .\nCheck session mode To check if the Teams session is running in optimized, failback, or natively (without optimization) mode in the VDI session go the Teams client. In the Teams client go the the user account and navigate to about and select version. As you can see in the picture below, the session is optimized (VMware Media Optimized) which means offloading works.\nConclusion After configuring these settings Microsoft Teams offloading is configured. For Microsoft Teams offloading you need at least an advanced Horizon license. Microsoft Teams offloading is now available in the Horizon standard subscription license, see link .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2020/07/30/nakivo-backup-and-replication-v10-released-with-support-for-vsphere-7/",
  "title": "Nakivo Backup and Replication v10 released with support for vSphere 7",
  "description": "",
  "date": "July 30, 2020",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "backup",
  "tags": "backup",
  "content":"Nakivo Backup and Replication released last week version 10. I personally use Nakivo Backup and Replication in my lab environment because it can be installed on my NAS device. This saves me hardware resources of the backup VM (appliance or Windows/Linux) and the deployment is super fast.\nIn version 10 of Nakivo Backup and Replication the following new improvements are added:\nVMware vSphere 7 support. vSphere 7 support for Nakivo Backup \u0026amp; Replication. This is the latest version of VMware vSphere when writing this blog post. User Interface Enhancements. The user interface has a new facelift to improve the experience with the product. Physical Machine Recovery to VMware (P2V). To protect mixed physical and virtual IT environments, Nakivo Backup \u0026amp; Replication offers the Physical to Virtual Machine Recovery feature. Backup to Wasabi Hot Cloud Storage. You can create backup repositories in Wasabi buckets for backing up and storing virtual and physical machines. Linux Workstation Backup. Perform app-aware, incremental backups of Linux workstations running Ubuntu 18.04 Desktop and 20.04 Desktop. Quickly recover entire workstations or restore individual files and objects directly from backups. Other improvements are:\nApplication permissions for Microsoft 365 accounts have been updated. Make sure you make the necessary changes to prevent backup and recovery jobs from failure. Refer to Obtaining Microsoft 365 credentials (item 10) for details. CentOS v7.0-7.6 support Improvements for Backup to Amazon S3 The release notes can be found here: link and a free trial can be found here: link .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2020/07/07/quick-tip-disable-memory-warnings-on-vms-with-nvidia-gpu-profiles/",
  "title": "Quick Tip: Disable memory warnings on VMs with NVIDIA GPU profiles",
  "description": "",
  "date": "July 7, 2020",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "",
  "content":"When using PCI passthrough devices such as for example NVIDIA GPUs with VMware vSphere and configure the VMs with a GPU profile, the full memory is reserved (100% Memory Active). When the VM is active, a red “Virtual Machine memory usage” alarm is displayed in the vCenter for every VM.\nI see this behavior in a lot of VDI environments with PCI passthrough GPU cards. Customers I work for ask me to disable this annoying alarm. This can be easily done in the vSphere Client by disabling the \u0026ldquo;Virtual machine memory usage\u0026rdquo; alarm:\nWhen using PowerCLI this can be done with the following command:\nGet-AlarmDefinition -Name ‘Virtual machine memory usage’ | Set-AlarmDefinition -Enabled:$false "},{
  "section": "Blog",
  "slug": "/logbook/site/2020/05/19/problems-with-installing-modules-from-the-powershell-gallery/",
  "title": "Problems with installing modules from the PowerShell Gallery",
  "description": "",
  "date": "May 19, 2020",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "",
  "content":"Lately, on several Windows Server 2016 servers, I wanted to install a PowerShell module such as VMware PowerCLI. When trying to install the module I’ve got the following error:\nNuGet provider is required to continue PowerShellGet requires NuGet provider version \u0026lsquo;2.8.5.201\u0026rsquo; or newer to interact with NuGet-based repositories. The NuGet provider must be available in \u0026lsquo;C:\\Program Files\\PackageManagement\\ProviderAssemblies\u0026rsquo; or \u0026lsquo;C:\\Users\\Administrator\\AppData\\Local\\PackageManagement\\ProviderAssemblies\u0026rsquo;. You can also install the NuGet provider by running \u0026lsquo;Install-PackageProvider -Name NuGet -MinimumVersion 2.8.5.201 -Force\u0026rsquo;. Do you want PowerShellGet to install and import the NuGet provider now? [Y] Yes [N] No [S] Suspend [?] Help (default is \u0026ldquo;Y\u0026rdquo;): Y WARNING: Unable to download from URI \u0026lsquo;https://go.microsoft.com/fwlink/?LinkID=627338\u0026clcid=0x409' to \u0026lsquo;\u0026rsquo;. WARNING: Unable to download the list of available providers. Check your internet connection.\nPackageManagement\\Install-PackageProvider : No match was found for the specified search criteria for the provider NuGet\u0026rsquo;. The package provider requires \u0026lsquo;PackageManagement\u0026rsquo; and \u0026lsquo;Provider\u0026rsquo; tags. Please check if the specified package has the tags. At C:\\Program Files\\WindowsPowerShell\\Modules\\PowerShellGet\\1.0.0.1\\PSModule.psm1:7405 char:21 + \u0026hellip; $null = PackageManagement\\Install-PackageProvider -Name $script:N \u0026hellip; + ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ + CategoryInfo : InvalidArgument: (Microsoft.Power\u0026hellip;PackageProvider:InstallPackageProvider) [Install-Pac kageProvider], Exception + FullyQualifiedErrorId : NoMatchFoundForProvider,Microsoft.PowerShell.PackageManagement.Cmdlets.InstallPackagePro vider\nThe required modules come from the PowerShell Gallery. Windows Server 2016 has PowerShell version 5.1 installed and supports TLS 1.0 and TLS 1.1. by default. The PowerShell Gallery has deprecated and discontinuing support for TLS 1.0 and 1.1 as of April 2020! TLS 1.2 is set as default for the PowerShell Gallery.\nA temporary fix (that won\u0026rsquo;t persist) is to add the following line before installing the PowerCLI module:\n[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12 Another way is to add this line to your PowerShell profile. More information about the PowerShell TLS change can be found here, link .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2020/04/09/nvme-ssds-are-not-recognized-anymore-after-upgrading-to-vmware-esxi-7/",
  "title": "NVMe SSDs are not recognized anymore after upgrading to VMware ESXi 7",
  "description": "",
  "date": "April 9, 2020",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "home-lab, VMware",
  "tags": "homelab, VMware",
  "content":"Last week VMware released vSphere 7. The first thing I did was upgrading my homelab. My homelab has two hosts (Shuttle SH370R6 Plus and a Shuttle SH370R8 Plus). After upgrading my hosts from VMware ESXi 6.7 Update 3 to VMware ESXi 7, the NVMe SSDs are not recognized anymore. I Have the following NVMe SSD disks in the hosts:\nSamsung SSD 970 EVO 1TB NVMe Samsung SSD 950 PRO 512GB NVMe My college and fellow vExpert Jesper Alberts encountered the same problem with his Supermicro X9DRL-iF and Samsung 970 EVO MZ-V7E1T0BW NVMe SSD homelab.\nTo fix this, perform a clean installation of VMware ESXi 7. After the clean installation, the NVMe disks are recognized.\nUpdate May 16, 2020: Jeffrey Kusters experienced the same problem and was able to provide William Lam the support bundle of the host that failed the upgrade. William Lam and the VMware support team discovered quickly that we used the wrong esxcli update command (esxcli software vib update). The correct command to upgrade an ESXI host is: esxcli software profile update. William explains the commands in his blog found here, link .\nSo the steps when upgrading a standalone ESXi host are:\nStop the VMs on the ESXi host Enter Maintenance Mode Copy to VMware ESXI offline bundle to a datastore with enough space available. In this example I use the \u0026ldquo;nfs01\u0026rdquo; datastore SSH to the host and perform the following command: esxli software sources profile list -d /vmfs/volumes/\u0026lt;datastore\u0026gt;/\u0026lt;ESXofflinebundle.zip\u0026gt; [root@esxi01:~ | esxcli software sources profile list -d /vmfs/volumes/nfs01/ISO/VMware-ESXi-7.0.0-15843807-depot.zip\nName Vendor Acceptance Level Creation Time Modification Time ESXi-7.0.0-15843807-standard VMware, Inc. PartnerSupported 2020-03-16T10:48:54 2020-03-16T10:48:54 ESXi-7.0.0-15843807-no-tools VMware, Inc. PartnerSupported 2020-03-16T10:48:54 2020-03-16T10:48:54 This list the image profiles available from the offline bundle Execute the command: esxcli software sources profile update -d /vmfs/volumes/\u0026lt;datastore\u0026gt;/\u0026lt;ESXiOfflineBundle.zip\u0026gt; -p \u0026lt;Image profile\u0026gt; esxcli software sources profile update -d /vmfs/volumes/nfs01/ISO/VMware-ESXi-7.0.0-15843807-depot.zip -p ESXi-7.0.0-15843807-no-tools When the upgrade is completed successfully, reboot the ESXi host Log in and exit the maintenance mode on the ESXi host Thanks, to Jeffrey and William for solving this problem. Great community work!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2020/04/02/check-the-hardware-acceleration-settings-of-the-default-applications-in-youre-vdi-environment/",
  "title": "Check the hardware acceleration settings in you&#39;re VDI environment",
  "description": "",
  "date": "April 2, 2020",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "windows-10",
  "tags": "windows-10",
  "content":"When having for example Windows 10 VDIs it important to know the hardware acceleration setting of you’re applications. When there isn’t a GPU (such as NVIDIA M10 or a NVIDIA Tesla T4) installed and hardware acceleration is enabled in the application this can introduce strange problems such as black screens and performance issues.\nWhen no GPU is installed: disable hardware acceleration and when a GPU is installed: enable the hardware acceleration in the application.\nI created a script to check the GPU hardware acceleration registry keys for the following applications: – Office 2016/365 (For Office 2013 and 2019 you need to change the script)\n– Google Chrome\n– Mozilla Firefox\n– Internet Explorer 11\n– Microsoft Edge based on Chromium\nIf you have other applications to check let me know. The script can be found on my GitHub page found here .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2020/03/10/whats-new-in-vmware-vsphere-7/",
  "title": "What&#39;s new in VMware vSphere 7",
  "description": "",
  "date": "March 10, 2020",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vSphere",
  "tags": "vSphere",
  "content":"vSphere 7 is built for supporting modern applications and the hybrid cloud. In the coming years, enterprises will build more and more applications using cloud-native tools and methods. There is a lot more complexity in deploying and managing modern applications. vSphere 7 with Kubernetes (formerly known as Project Pacific) is based on VMware Cloud Foundation 4 (VCF) and will help with this complexity. The developer doesn’t need to deal with infrastructure anymore and the VI Admin can provision and manage the infrastructure workloads with the same tools they already known.\nVMware Cloud Foundation 4 is a full Software-defined infrastructure with compute (vSphere 7), network (NSX-T), storage (vSAN 7), and management (vRealize 8.1). This modern infrastructure is for deploying Kubernetes at cloud scale.\nBesides Kubernetes on VMware Cloud Foundation, vSphere 7 adds improvements on these three keys areas:\nSimplified Lifecycle Management Intrinsic Security Application Acceleration Here an overview of the new improvements in these three key areas:\nvCenter Server vCenter Server Profiles. Profiles can import and export vCenter Server configuration via REST APIs (management, network, authentication and user configurations). This is not the same as Host Profiles. These are the settings you can make in the vCenter Server Appliance Management Interface (VAMI). With this, you can maintain version control between vCenter Servers (max 100 vCenter Servers are supported). vCenter Server Multi-Homing is now officially supported. It has a maximum of 4 NICs that are supported per vCenter Server. vCenter Server NIC1 is reserved for vCenter HA (vCHA). vCenter Server Scalability Enhancements. The scalability is improved as in each new release (for more information you can refer to the configmax.VMware.com website). vCenter Server CLI tools. The vSphere SSO domain consolidation tool (cmsso-util) has been simplified. The repointing option is gone, now you have the \u0026lsquo;unregister\u0026rsquo; and \u0026lsquo;domain-repoint\u0026rsquo; arguments for that. Content Library VM templates versioning. Check-in/Check-out and versioning. When editing a VM template you can check-out the template and make changes and check-in the template. After that, you see the versioning (history) information. Automatic migration of a vCenter Server external Platform Services Controller (PSC). When migrating a vCenter Server with an external Platform Services Controller (PSC), it will be automatically converged to a vCenter Server with an embedded Platform Services Controller. The vCenter Server converged tool is no longer available from the ISO. vCenter Server Update Planner. vCenter Server Update Planner is a new tool that helps with discovering, planning and upgrading a vCenter Server. In the vSphere client you receive notifications when an upgrade or update is available. The cool thing is that it detects installed VMware products and if they are compatible or not. vSphere Lifecycle Manager (vLCM) Single cluster Image Manager. This is all about consistency across ESXi hosts in a cluster. The desired state of cluster can be managed with this model also known as single image management. When a host is not compliant (anymore) you can remediate it to the desired state. The host firmware management can be done from within vSphere and works in conjunction with vendor management tools like Dell OpenManage and HPE OneView. The VMware Compatibility Guide (VCG ) and Hardware Compatibility List (HCL) checks remove the risks of unsupported drivers and firmware levels. Single image cluster management is available in the GUI and REST API. vSphere Lifecycle Manager includes desired state vSAN management. Hardware \u0026amp; Performance Improved Distributed Resource Scheduler (DRS). In earlier releases of vSphere DRS was based on a cluster-wide standard, equally utilized across the cluster. With vSphere 7, DRS is improved and based on a workload centric standard so it ready for the modern application. In the screenshot, you see the old DRS and the improved DRS standard with the VM DRS score. The VM DRS score is the new metric that migrate or balance the workload across the cluster. The VM DRS score is calculated using the following metrics such as performance, capacity, and migration: CPU %RDY (Ready) time Memory swap (overcommit) CPU cache behavior Headroom for the workload to burst Migration cost DRS Scalable shares: Relative resource entitlement to other resource pools depending on a number of VMs in the resource pool. Setting a share level to \u0026lsquo;high\u0026rsquo; ensures prioritization over lower share VM entitlements. The share allocation dynamically changes when spinning up more VMs. This is not enabled by default in vSphere 7. Assignable Hardware. It\u0026rsquo;s a framework that allows Dynamic DirectPath I/O (supports NVIDIA GRID vGPU devices) to use vSphere HA and DRS for initial placement. In earlier releases of vSphere, the VM was stuck on the host. A VM with a pass-thru device. Assignable hardware requires hardware version 17 of the VM. When powering on a VM with a NVIDIA vGPU profile DRS will look if it can place that VM with the vGPU profile on a other host. DRS load balancing of Dynamic DirectPath I/O devices is not available yet. So only for the initial placement of the VM. vMotion. vMotion is improved so that it reduces the performance impact on large (monster) VMs during a vMotion**.** This brings back vMotion capabilities for large workloads like SAP HANA or Oracle. Enhanced vMotion Compatability (EVC). In vSphere 7 there is support for the Intel Cascade Lake and AMD Zen2 generation. Virtual Machine Hardware version 17. VM hardware version 17 is needed when using Assignable Hardware. Other new features in HW v17 are: Watchdog Timer: Without a watchdog timer guest OSes and applications don\u0026rsquo;t know they are crashed. A watchdog timer helps by resetting the VM if the guest OS is no longer responding. This is important for clustered applications like databases and filesystems. Precision Time Protocol (PTP): This is for applications that require sub-millisecond accuracy such as financial and scientific applications. PTP requires both the in-guest device and ESXi service to be enabled. Choose between NTP or PTP for the entire ESXi host. Security \u0026amp; Compliance vSphere Software Guard Extensions (vSGX). This is called hardware protection for secrets. It allows applications to work with hardware to create a secure enclave that cannot be viewed by the guest OS or hypervisor. Applications can move sensitive logic \u0026amp; storage into this enclave. This is only support by Intel. Improved Certificate Management. In vSphere 6.x you have a lot of certificates. In vSphere 7 the certificate management is much simpler. And you can manage the vCenter Server certificates programmatically by using APIs. vSphere Trust Authority (vTA). This is all about secure the vSphere infrastructure, how do we trust that our hosts are configured correctly. vTA takes care of this. Identify Federation. Standard-based federation authentication with an enterprise provider (idPs) such as ADFS. This reduces the audit scope and vSphere admin workload. SSO still exists. vSAN 7.0 Simpler Lifecycle Management. See the vSphere Lifecycle Manager (vLCM) paragraph above for more details on this. Native File Services. This integrated File Services is built-in the hypervisor and provides support for NFS v3 and 4.1 protocols. It is managed in vSAN and provides file shares within the vSAN cluster. The purpose for the integrated file services is for addressing file share needs from traditional and cloud-native workloads on vSAN cluster. So it is not built for replacing a large filer. Enhanced Cloud Native Storage. Integration of Kubernetes running on vSphere and vSAN using file-based persistent volumes. Besides these main improvements, there are dozens of other great enhancements on operations, efficiency, and management level. My favorite vSphere 7 improvement is the vSphere Lifecycle Manager (vLCM) enhancement because it makes updating and maintaining vSphere clusters (with vSAN) a lot easier using the desired state model.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2020/02/07/vmware-homelab-build-of-materials-and-configuration/",
  "title": "VMware homelab build of materials and configuration",
  "description": "",
  "date": "February 7, 2020",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "home-lab",
  "tags": "homelab",
  "content":"William Lam has started a great initiative. William asked (link ) everyone who owns a homelab to share there build of materials (BOM) and configuration so the vCommunity can benefit and learn from. I have a simple homelab configuration, the materials I used and configuration are listed below:\nInternet\nCable modem in bridge mode with 250 Mbit/s down and 25 Mbit/s upload.\nRouter\nUbiquiti EdgeRouter Lite 3-Port router\nAccess Point\nUbiquiti UniFi AP AC PRO\nLayer 2 switches\n2 x HP ProCurve 1810G (8 x 1GbE) manageable switches.\nCompute\nShuttle SH370R6 Plus and a Shuttle SH370R8 Plus. Each barebone has:\n500 W Plus Silver PSU Intel Core i7 8700 with 6 cores and 12 threads 64 GB memory Samsung 970 EVO 1 TB m.2 Kingston datatraveler 100 G3 32 GB USB disk 2 x 1 GbE Network cards Network Attached Storage (NAS)\nQNAP TS-251+ NAS with two Western Digital (WD) Red 8 TB disk in a RAID-1 configuration.\nSoftware\nVMware vSphere (ESXi, vCenter) VMware vSAN VMware Horizon VMware NSX-V and NSX-T vRealize products IoT stuff Build of materials (BOM)\nComponentsCosts ~\u0026nbsp;Links to blog postsUbiquiti EdgeRouter Lite 3-Poort Router€ 93Ubiquiti UniFi AP AC PRO€ 136HP ProCurve 1810G€ 75 each. Not available anymore.Shuttle SH370R6 Plus€ 1200LinkShuttle SH370R8€ 1200LinkQNAP TS-251+€ 3142 x Western Digital (WD) Red 8 TB€ 258 each. Total € 516\rAn overview of all the submitted community homelabs can be found here, link. "},{
  "section": "Blog",
  "slug": "/logbook/site/2020/01/16/controlup-8-1-native-vmware-horizon-integration/",
  "title": "ControlUp 8.1 Native VMware Horizon integration",
  "description": "",
  "date": "January 16, 2020",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "controlup",
  "tags": "controlup, VMware-horizon",
  "content":"In part 2 we highlight the native support for VMware Horizon 7 and higher environments in ControlUp 8.1. The integration is based on the SOAP API. Adding a VMware Horizon environment is easy, click on the Add EUC environment and enter the name a Horizon Connection Server and click ‘OK’. ControlUp discovers Horizon components such as Connection Servers, Cloud Pod Architecture (CPA), desktop pools and sessions automatically.\nHorizon Connection Servers On the top level, you see the stress of all the Horizon Connection Servers and in the view below that each individually Horizon Connection Server is listed with there metrics.\nFor all the Connection Servers, the following metrics are added to the view:\nHorizon Pods Stress Level Connection Servers Connection Server health Connection Server Max connections Average machine memory Machine disk IO average latency Machine Disk Transfers/sec Machine Net Total Per Horizon Connection Server, the following metrics are added such as:\nConnection server Health Amount of connection Servers Active connections Connection Server health External URL Connection Server certificate valid Connection Server certificate expiration date License model Connection Server version Horizon Pod Horizon Site When installing the ControlUp agent on the Connection Servers or VDI desktop, the hypervisor and in-guest metrics are combined with the Horizon metrics.\nDesktop Pools Below the Connection Servers, the desktop pools are displayed.\nEach Desktop pool in the Horizon environment is displayed with metrics such as:\nPool name Pools type Stress level Pool state Provisioning enabled Number of machines Number of machines enabled Sessions Disconnects Problem machines Default protocol Power policy Logoff timeout Per Horizon pool you can view the VDI desktop and Horizon Session with metrics such as:\nPool name Session type Machine name State Session start time Protocol Desktop source Client name Horizon client version Horizon agent version And from the Horizon session, you can dive deeper into the processes view to troubleshoot further.\nThe Virtual Expert in ControlUp includes Horizon specific suggestions such as for example the available desktops remaining in a desktop pool.\nAs you can see, the Horizon integration adds a lot of Horizon specific metrics. All these metrics gives great insight into what happens in the Horizon environment.\nAutomation ControlUp can use automation to solve Horizon issues for you. For example, it is possible the check the Horizon agent state of each VDI desktop. If the Horizon agent state goes bad (such as agent unreachable, error, unknown and already used for example) an automated action can be configured to resolve the problem. To configure automated actions, triggers are used in ControlUp.\nIn this example (demoed by Trentent Tyle ), 3 automation triggers are created:\nTrigger 1 operate at 10 minutes, action: Horizon Agent restart if the horizon state is wrong Trigger 2 operate at 15 minutes, action: VM restart if the horizon state is wrong Trigger 3 operate at 20 minutes, action: Cold Boot VM if the horizon state is wrong Trigger 1: operate at 10 minutes When the VDI machine boots up it has 10 minutes to register the Horizon agent state in the Horizon Connection server. A normal VDI desktop has a READY state and is available. After 10 minutes, the trigger looks if the Horizon agent reports the wrong state such as:\nUNKOWN *ERROR ALREADY USED DOMAIN FAILURE AGENT UNREACHABLE If the Horizon agent state is wrong, the following action is executed: Restart the VMware Horizon Agent.\nThe restart VMware Horizon Agent is a PowerShell script that restarts the VMware Horizon Agent service.\nIt\u0026rsquo;s easy to create scripts such as PowerShell, VBS, BAT, and CMD. ControlUp itself offers a huge library of predefined/community scripts that can be used also.\nTrigger 2: operate at 15 minutes This trigger looks at the same wrong Horizon Agent states used in the 10 minutes trigger. As an action, the VDI desktop VM is restarted using a simple command.\nTrigger 3: operate at 20 minutes This trigger looks at the same wrong Horizon Agent states used in the 10 minutes trigger. As an action, a hard reboot (cold boot) is executed using a simple command on the VDI Desktop.\nBecause of all the Horizon metrics available, it is possible to check and repair the Horizon agent states. For IT departments, morning checks can be easily automated to ensure the VDI desktops are ready for accepting connections.\nBesides the example above, there is a huge list of other Horizon items/metrics that can be used for automated actions. Here is a short overview of some:\nThis huge list of Horizon metrics/items in combination with custom scripted actions that can be used makes ControlUp very powerful.\nConclusion ControlUp 8.1 adds support for VMware Horizon integration and discovers Horizon components such as Connection Servers, Cloud Pod Architecture (CPA), pools and sessions automatically. This integration gives great insight into what happens in the Horizon environment. Using automated actions (triggers) with the Horizon metrics and scripted actions makes it a very powerful tool for automating actions and solve specific issues as displayed for example in the example above.\nMore information and a trail can be found here, link .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2020/01/14/controlup-8-1-monitor-cluster/",
  "title": "ControlUp 8.1 Monitor Cluster",
  "description": "",
  "date": "January 14, 2020",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "controlup",
  "tags": "controlup",
  "content":"Today ControlUp version 8.1 is released with two new major features:\nMonitor Cluster. This new cluster model adds support for monitoring more VDI endpoints per site. VMware Horizon integration. ControlUp has now native integration with VMware Horizon environments. In this part of the blog post, I explain the basics of the new Monitor Cluster.\nMonitor Cluster The new cluster monitor model enables adding more active monitor nodes to the monitor cluster to increase VDI scalability. Each node can support up to 5000 VDI endpoints. The amount of supported VDI endpoint depends on the processes that are active in the VDI. Below is a simple overview of the new cluster monitor model.\nMonitors that belong to the same site automatically balance monitoring loads. With this new model, more VDI endpoints per site can be monitored than previous versions.\nAdding extra sites allows monitors to monitor resources on an isolated network or on remote networks with low bandwidth links. All monitors deployed to these sites must be able to route back to the initial site to receive instructions.\nFor a monitor node with support up to 5000 VDI endpoints ControlUp recommends the following sizing:\nWindows Server OS with 8 vCPUs 32 GB memory for up to 5000 VDI endpoints. When designing for High Availability, use the N+1 rule. For example, a customer with 8000 VMs needs three monitor nodes. The amount of VDI endpoints a monitor node supports depends on the processes that are active in the VDI endpoint. For example, a Windows 7 VDI has an average of 120 processes. For Windows 10 an average is 200 processes.\nMore information on sizing ControlUp can be found here, link. In the screenshots below an extra monitor node is added to the monitor cluster. After adding it you see two dedicated monitor nodes in the same site. The loads is automatically balanced between the nodes.\nIn the Manage ControlUp monitors (see right screenshot above) you have now the ability to manage monitors and sites.\nData Collector A Data Collector is responsible for collecting metrics from VMware vCenter, VMware Horizon, Citrix Delivery Controllers, XenServer Poolmasters, AHV Clusters, and NetScaler appliances. By default, the ControlUp Monitor/Console will be the Data Collector. In the screenshot below we see that the Data Collector for the VMware Horizon environment is the ControlUp Console / Monitor.\nThis means when having more Data Collectors for example to the VMware Hypervisor the console initiates several API requests each interval. In larger environment the traffic can be substantial. When managing over 500 VDI endpoints it\u0026rsquo;s recommended to use dedicated Data Collector(s). Per data collector, you can designate another machine on your network to gather data from the VMware Horizon environment for example. More on sizing Data Collectors can be found here, link .\nFor a Data Collector make sure the ControlUp agent (including the .NET framework) is installed on the machine(s).\nAfter adding the new Data Collector remove the ControlUp Console/Monitor.\nMore information on the data collector can be found here, link .\nConclusion With ControlUp 8.1 it is now possible to add more VDI endpoints with the new Monitor Cluster model. Because of this, it\u0026rsquo;s now possible to monitor large VMware Horizon environments with ControlUp. In part 2 of this blog post, I will highlight the new VMware Horizon integration.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2020/01/09/vmware-tools-pvscsi-and-vmxnet3-drivers-delivered-by-windows-update/",
  "title": "VMware Tools pvscsi and vmxnet3 drivers delivered by Windows Update",
  "description": "",
  "date": "January 9, 2020",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware, vSphere",
  "tags": "",
  "content":"Today I was updating a Windows Server 2016 template VM with Windows Updates. During the update, I notice that the pvscsi and vmxnet3 drivers are updated by the Windows Updates process.\nIn 10.3.10 of VMware Tools, the pvscsi and vmxnet3 drivers available through Windows Update for Windows Server 2016 and Windows Server 2019 Operating Systems. This means that the pvscsi and vmxnet3 drivers are updated as part of the Windows Updating process. This reduces the number of reboots needed.\nSo make sure that all the Windows Server 2016 and 2019 VMs have at least version 10.3.10 (or higher) of the VMware Tools installed to reduce the number of reboots.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2019/12/12/export-vmware-horizon-pool-settings/",
  "title": "Export VMware Horizon pool settings",
  "description": "",
  "date": "December 12, 2019",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "VMware, VMware-horizon",
  "content":"I created a simple PowerShell script that exports all the pool settings on a Horizon Connection Server and saves them in a separate JSON file. To run this script follow the requirements below:\nDownload the Export-pools.ps1 script from my GitHub page. Edit the script script and enter the correct file location in the \u0026lsquo;$fileloc\u0026rsquo; variable. The default file location is c:\\temp Download the VMware.Hv.Helper module (link ) Copy the VMware.Hv.Helper module to the module location. Use the \u0026lsquo;$env:PSModulePath\u0026rsquo; PowerShell command to list the module path(s) Run the \u0026lsquo;Export-HorPool.ps1\u0026rsquo; script in PowerShell After the \u0026lsquo;Export-HorPool.ps1\u0026rsquo; scrript has run all the pool settings are exported to a JSON file.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2019/11/18/enable-logon-as-current-user-and-the-ad-domain-list-after-a-vmware-horizon-upgrade/",
  "title": "&#34;Logon As Current User&#34; and the &#34;AD domain list&#34; options default disabled after a VMware Horizon upgrade",
  "description": "",
  "date": "November 18, 2019",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "VMware-horizon",
  "content":"When upgrading a VMware Horizon Connection server to version 7.8 or higher the following message appears during the upgrade.\nThis means the following settings are disabled after the upgrade:\nLogin As Current User will no longer work when selecting the \u0026ldquo;Log in as current user\u0026rdquo; in the Horizon Client List of user domains will be withheld from Horizon clients With this option, the Active Directory domain name is not visible and replace *DefaultDomain*\nThese settings are disabled to improve security but sometimes after a Horizon environment upgrade one or more settings needs re-enabled again. Here are the steps to enable these settings:\nEnabling Login As Current User Allow the Connection Server to accept logon as current user authentication\nOpen: https://fqdn/admin Enter the user name and password Click on \u0026ldquo;View Configuration\u0026rdquo; and select Servers Select the Connection Servers tab Select the Connection Server and click on Edit Select the Authentication tab Scroll down the bottom and select \u0026ldquo;Accept logon as current user\u0026rdquo; Click on OK Repeat steps 5-8 for each VMware Horizon Connection Server.\nEnabling the domain list in the Horizon Client Open: https://fqdn/admin Enter the user name and password Click on \u0026ldquo;View Configuration\u0026rdquo; and Edit the \u0026ldquo;Global Settings\u0026rdquo; Scroll down and select \u0026ldquo;Send domain list\u0026rdquo; Click on OK After enabling this global setting the Active Directory domain is visible again and it is possible to select another AD domain.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2019/09/30/quick-tip-determine-the-vmware-horizon-agent-options-for-a-silent-unattended-installation/",
  "title": "Quick tip: Determine the VMware Horizon Agent options for a silent/unattended installation",
  "description": "",
  "date": "September 30, 2019",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "",
  "content":"When performing a silent/unattended installation of the Horizon Agent client you must specify MSI properties and Horizon Agent options to define the configuration of the agent. When a new version of the Horizon Agent comes available the documentation is not always available yet or up to date. When using a silent install of the VMware Horizon Agent with wrong options can result in a setup failed 1603 error.\nA quick way to determine what options are available for the Horizon Agent that can be used is to install the Horizon Agent and manually select/deselect the options. After the installation and reboot open Regedit an browse to the following location:\nHKEY_LOCAL_MACHINE\\Software\\VMware, Inc.\\Installer\\Features_HorizonAgent Al the options/features are listed and have a value of:\nLocal = Installed/enabled Absent = Not Installed/disabled These options can be used for silent installing the VMware Horizon Agent. Here is an example that install the Horizon Agent:\nVMware-Horizon-Agent-x86_64-7.10.0-14590940.exe /s /v\u0026#34;/qn VDM_VC_MANAGED_AGENT=1 VDM_FLASH_URL_REDIRECTION=1 RDP_CHOICE=1 INSTALL_VDISPLAY_DRIVER=1 ADDLOCAL=BlastUDP,Core,HelpDesk,NGVC,PerfTracker,ClientDriveRedirection,RTAV,RDP,ThinPrint,TSMMR,USB,V4V,VMWMediaProviderProxy,VmwVaudio,VmwVdisplay,VmwVidd REBOOT=Reallysuppress\u0026#34; In this example the following MSI properties are installed:\nRDP is enabled The agent is installed is a vCenter Managed desktop Flash URL redirection is enabled Installs the WDDM display driver For the VMware Horizon Agent options refer to the following link .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2019/09/18/upgrading-to-esxi-6-7-update-3-results-in-shutting-down-firmware-services-error/",
  "title": "Boot error: Shutting down firmware services... error after upgrading to VMware ESXi 6.7 Update 3",
  "description": "",
  "date": "September 18, 2019",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi",
  "tags": "esxi-2, VMware",
  "content":"After upgrading one of my home lab servers to VMware ESXi 6.7 Update 3, I’ve got the following error when trying to boot:\nShutting down firmware services\u0026hellip;\nPage allocation error: Out of resources\nFailed to shutdown the boot services.\nUnrecoverable error\nAfter changing the boot mode from UEFI to \u0026ldquo;legacy only\u0026rdquo; in the BIOS, the ESXi host booted without the error.\nVMware has confirmed that this is a bug. There is VMware community thread (link ) about this bug and two other workarounds. When there will be a permanent fix available is unclear at the moment.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2019/09/09/vmware-tools-installation-and-upgrade-tips-and-tricks/",
  "title": "VMware Tools installation and upgrade tips and tricks",
  "description": "",
  "date": "September 9, 2019",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware, VMware-tools",
  "tags": "powercli, VMware-tools",
  "content":"The VMware Tools package provides drivers (such as VMXNET3, PVSCSI, SVGA etc.) and services that enhance the performance of virtual machines and make several vSphere features easy to use. Here are some tips and tricks when working with VMware Tools:\nAn overview of the VMware Tools versions mapping can be found here, link The latest VMware Tools versions can be downloaded from the following links: link and link Within VMware ESXi, the VMware Tools are located under: /vmimages/tools-isoimages The latest VMware Tools version 10.3.10 is compatible with ESXi 6.0.0 to 6.7 U3 To view what VMware Tools components are installed on a Windows operating system: open Regedit and browse to the following location. HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\Installer\\Features\\10176710886A59A4C938D6DEE96B37D5 Names with a squire or minus are not installed. Another method in Windows 10 for example is going to the Apps \u0026amp; Features and select: modify VMware Tools\nA silent or unattended default installation can be done using the following command. This command does not installed the NSX components: Setup64.exe /s /v \u0026#34;/qb REBOOT=R\u0026#34; /l c:\\windows\\temp\\vmware_tools_install.log Use the ADDLOCAL and REMOVE option to define what components to install. The following command installs all the components expect the Hgfs, SVGA,VSS, AppDefense and the NetworkIntrospection component. This VMware Tools configuration can be used for example for a Horizon View Golden image. setup64.exe /s /v\u0026#34; /qb REBOOT=R ADDLOCAL=All REMOVE=Hgfs,SVGA,VSS,AppDefense,NetworkIntrospection\u0026#34;\u0026#34; /l c:\\windows\\temp\\vmware_tools_install.log The following VMware Tools component values can be used:\nComponent ValuesComponentDescriptionDriversAudioAudio driver for 64-bit Operating SystemsBootCampDriver for Mac BootCamp SupportMemCtlVMware Memory control driver for memory managementMouseVMware mouse driverPVSCSIVMware Paravirtual SCSI adapterSVGAVMware SVGA driverSyncFilesystem Sync driver, which enables backup applications to create application-consistent snapshots. This driver is used if the guest operating system is earlier than Windows Server 2003. Newer operating systems use the VSS driver.ThinPrintDriver that enables printers added to the host operating system to appear in the list of available printers in the virtual machine. VMware Tools does not support ThinPrint features for vSphere 5.5 and later.VMCIVirtual Machine Communication Interface driver. This driver allows virtual machines to communicate with the hosts on which they run without using the networkHgfsVMware shared folders driver. Use this driver if you plan to use this virtual machine with VMware Workstation, Player, or Fusion. Excluding this feature prevents you from sharing a folder between your virtual machine and the host system.VMXNetVMware VMXnet networking driver.VMXNet3Next-generation VMware VMXnet networking driver for virtual machines that use virtual hardware version 7 and higher (ESX(i) 4.x and higher)FileIntrospectionNSX File Introspection driver, vsepflt.sys.NetworkIntrospectionNSX Network Introspection driver, vnetflt.sys.VSSDriver for creating automatic backups. This driver is used if the guest operating system is Windows Vista, Windows Server 2003, or other newer operating system. Linux and older Windows operating systems use the Filesystem Sync driver.AppDefenseVMware AppDefense component. The AppDefense components consists of glxgi.sys kernel mode driver and gisvc.exe user mode service.ToolboxPerfmonDriver for WMI performance logging.\rThe latest version of the VMware Tools component values can be found here, link Extract the VMware ISO for drivers Sometimes is handy to extract the VMware ISO to get the VMXnet3 and PVSCSI drivers.\nMount the ISO setup64.exe /A /P C:\\Folder to extract PowerCLI To identify and upgrade the VMware Tools versions PowerCLI is your friend. First install the PowerCLI module, link . After the module is installed, connect to the vCenter Server.\n$vcsa = \u0026#34;vcsa03.lab.local\u0026#34; Import-Module VMware.PowerCLI Connect-VIServer -Server $vcsa Identify VMware Tools versions\nTo get the VMware Tools versions of the running VMs use the following PowerCLI command:\nGet-VM | Get-VMguest | Where {$_.State -eq \u0026#39;Running\u0026#39;} | Select VmName, ToolsVersion Get all the running VMs that don\u0026rsquo;t have VMware Tools version 10.3.10 installed: Get-VM | Get-VMguest | Where-Object {$_.State -eq \u0026#39;Running\u0026#39; -and $_.ToolsVersion -notlike \u0026#39;10.3.10\u0026#39;} | Select VmName, ToolsVersion Get all the running VMs that have an outdated version of VMware Tools: Get-VM | Get-VMguest | where-object {$_.State -eq \u0026#39;Running\u0026#39; -and $_.ExtensionData.ToolsversionStatus -eq \u0026#39;GuestToolsNeedUpgrade\u0026#39;} | Select VmName Update VMware Tools\nOnce you have an overview of all the VMware Tools versions that are outdated is easy to upgrade them to the latest version. In this example, the -NoReboot option is used so the OS will not be rebooted. Make sure when using -NoReboot option that the reboot will be planned in a maintenance window. This stops for example installing Windows Updates because there is a pending reboot action that needs to be performed first.\nFirst export all the VMs to a CSV file that will be saved under c:\\temp\\vms.csv\nGet-VM | Get-VMguest | where-object {$_.State -eq \u0026#39;Running\u0026#39; -and $_.ExtensionData.ToolsversionStatus -eq \u0026#39;GuestToolsNeedUpgrade\u0026#39;} | Select VmName | export-csv c:\\temp\\vms.csv -NoTypeInformation Verify the CSV file and make sure only the VMs are listed that need to be upgraded. After that import the CSV and update the VMware Tools using the following commands:\n$vms = Import-Csv c:\\temp\\vms.csv $vms | % { get-vm -name $_.VmName | Update-Tools -NoReboot} "},{
  "section": "Blog",
  "slug": "/logbook/site/2019/08/13/runecast-analyzer-makes-hardware-checking-against-the-vmware-hcl-easy/",
  "title": "Runecast Analyzer makes hardware checking against the VMware HCL easy",
  "description": "",
  "date": "August 13, 2019",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "review, reviews, runecast",
  "tags": "hcl, VMware",
  "content":"Runecast Analyzer is a tool that helps VMware administrators to proactive manage there vSphere environment. It discovers potential risks in the VMware environment before they can cause a major outage. It uses best practices, security hardening guides (VMware, DISA STIG, PCI-DSS v3.2.1 and HIPAA) and known issues found in the VMware Knowledge Base to protect the Software Defined Data Center (SDDC). Runecast Analyzer supports the following VMware products:\nVMware vSphere VMware vSAN VMware NSX-V VMware Horizon Runecast Analyzer introduced a new feature called \u0026ldquo;Automated VMware HCL\u0026rdquo; and \u0026ldquo;ESXi Compatibility Simulation\u0026rdquo;. The \u0026ldquo;Automated VMware HCL\u0026rdquo; feature checks the VMware ESXi host hardware, driver and firmware versions against the VMware Hardware Compatibility List (HCL). The VMware Hardware Compatibility List (HCL) lists all the physical hardware components, driver and firmware versions that are supported by VMware. Keeping the hardware aligned with the VMware HCL is essential for a healthy, stable and supported VMware environment but can be difficult to perform. For example see the blog post below how to identify a networkcard and the supported driver.\nhttps://www.ivobeerens.nl/2014/04/15/identify-nic-driver-and-supported-driver-version-for-esxi-server/ Within the \u0026ldquo;Automated VMware HCL\u0026rdquo; feature you can enable \u0026ldquo;ESXi Comparability Simulation\u0026rdquo;. ESXi comparability simulation checks the existing hardware against a newer VMware ESXi version before upgrading to this new version so you can verify if the hardware, driver and firmware levels are supported.\nAutomated Hardware Compatibility\nAfter deploying the Runecast Analyzer appliance and connecting to one or more vCenter Servers, the first scan can be performed by clicking on the purple \u0026ldquo;Analyze Now\u0026rdquo; button. When the scan is completed select \u0026ldquo;HW Compatibility\u0026rdquo; on the left menu bar. By default all ESXi hosts are listed. In the action pane you can specify a specific clusters or one or more host(s).\nThe screenshot shows the host, ESXi release, hardware summary and the compatible status of the BIOS and I/O devices. The BIOS and I/O Devices are red in this example which means they need attention. All the hardware, firmware and driver results can be exported to a CSV file. Per ESXi host you can drill down to the server hardware.\nThe BIOS state needs an update, it\u0026rsquo;s reported as possible incompatibility \u0026ldquo;Not Found\u0026rdquo; in the HCL Data field. When clicking on the \u0026ldquo;HCL online\u0026rdquo; button we\u0026rsquo;ve got redirected to the VMware Compatibility List (HCL).\nThe VMware HCL tells that the BIOS level that matches is version 1.2. After the BIOS view we go to the I/O devices by clicking on the I/O Devices tab\nThe Intel I350 Gigabit and the Samsung NVMe SSD Controller needs attention. When looking at the Intel I350 in the HCL we see that the the firmware level is okay and that the installed driver version is 0.1.1.0 is old. The HCL reports that version 1.4.1 is needed.\nESXi Compatibility Simulation\nWith the Hardware Compatibility Overview there is another feature called \u0026ldquo;ESXi Compatibility Simulation\u0026quot;. ESXi Compatibility Simulation checks the existing hardware against a newer VMware ESXi version before upgrading to this new version so you can verify if the hardware, driver and firmware levels are supported.\nAfter turning on the ESXi Compatibility Simulation feature and selecting the ESXi version to upgrade to you can fire the simulation. In this environment I want to upgrade to ESXi 6.7 U2 and it shows that the BIOS not compatible.\nConclusion\nIt can be difficult and time consuming for VMware admins to check if the server hardware is aligned with the VMware Hardware Compatibility List (HCL) for maintaining a healthy, stable and supported environment. Runecast Analyzer makes this very easy and fast by performing a simple scan and see if the hardware of the VMware environment is complaint with the VMware HCL.\nAnother great feature is the ESXi Compatibility Simulation. Again with a simple scan you check if the hardware is compatible against a newer version of ESXi before actually upgrading to this version. The Automated Hardware Compatibility and ESXi Compatibility Simulation are great new features that saves a lot of value time investigating if the VMware environment is compliant.\nYou can download a 30 day full trial version of Runecast Analyzer and try it yourself.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2019/07/16/powercli-installation-updating-and-troubleshooting-tips/",
  "title": "PowerCLI help install, update and troubleshooting tips",
  "description": "",
  "date": "July 16, 2019",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "PowerCLI, Automation",
  "tags": "PowerCLI, Automation",
  "content":"PowerCLI is a must-have tool for every VMware Administrator when you want to automate something in your VMware environment. In this blog, I highlight the installation, updating, and some troubleshooting tips for deploying and running PowerCLI on Windows OSes.\nPowerCLI installation Uninstall PowerCLI 6.x and earlier from the Add/remove programs or Programs and Features if exist. Make sure you have an internet connection. Check if Windows Management Framework 5.1 is installed for Windows 7,8 and Windows Server 2012 R2 and earlier OSes. Open PowerShell en enter: $PSVersionTable PS C:\\$PSVersionTable Name Value ---- ----- PSVersion 5.1.17763.592 PSEdition Desktop PSCompatibleVersions {1.0, 2.0, 3.0, 4.0...} BuildVersion 10.0.17763.592 CLRVersion 4.0.30319.42000 WSManStackVersion 3.0 PSRemotingProtocolVersion 2.3 SerializationVersion 1.1.0.1 If WMF 5.1 is not installed. Install the WMF 5.1 can be downloaded here, link . Windows 10, Windows Server 2016, and above have PowerShell version 5.1 already installed. Installation PowerCLI Install-Module -Name VMware.PowerCLI PowerCLI installation with admin rights:\nInstall-Module VMware.PowerCLI -AllowClobber -SkipPublisherCheck Use the -AllowClobber when you get: A command with the name Export-VM is already available on this system.\nInstall-Module VMware.PowerCLI -AllowClobber Update PowerCLI\nUpdate-Module -Name VMware.PowerCLI These modules are installed in the following location:\n%homepath%\\Documents\\WindowsPowerShell\\Modules Allow the execution of local scripts Admin rights needed: Set-ExecutionPolicy RemoteSigned Disable certificate checking and CEIP Set-PowerCLIConfiguration -InvalidCertificateAction Ignore -Confirm:$false -ParticipateInCeip $false PowerCLI upgrade fails with a certificate error. The following error can occur when try to upgrade VMware.PowerCLI. Install-Module VMware.PowerCLI -Force -SkipPublisherCheck Install the VMware Horizon Module Download the Horizon modules from GitHub: Link Extract it Copy the VMware.Hv.Helper folder to the modules path Updating PowerCLI The following steps can be used to update a PowerCLI 10 or 11 installation\nMake sure you have a internet connection. Check the PowerCLI version Get-Module VMware\\* -ListAvailable Update the existing PowerCLI version Update-Module -Name VMware.PowerCLI Check the version of PowerCLI Get-Module -Name VMware.PowerCLI -ListAvailable Troubleshooting PowerCLI The following troubleshooting options can be used when having problems with the installation and running of PowerCLI such as:\nCould not load file or assembly……………….\nDisable the Anti Virus. Uninstall PowerCLI 6.x and earlier from the Add/remove programs or Programs and Features if exist. Uninstall PowerCLI. Get-Module VMware.PowerCLI -ListAvailable | Uninstall-Module -Force Check the paths for VMware modules entries in the path. Remove VMware folder if exist. $env:PSModulePath.Split(\u0026#39;;\u0026#39;) List All the VMware modules and remove VMware modules. Get-Module -Name VMware\\* -ListAvailable Check for old PowerCLI modules and installations such as: C:\\Program Files (x86)\\VMware\\Infrastructure\\PowerCLI\\Modules List registered snapins. Get-PSSnapin -registered Delete the registry keys of the old PS snapins. [\nReboot the Windows system. Try to install the PowerCLI module using a clean install as described above.\nThe PowerCLI page can be found here: VMware Developer Documentation "},{
  "section": "Blog",
  "slug": "/logbook/site/2019/06/04/using-the-shuttle-sh370r8-as-home-lab-server-with-vmware-esxi/",
  "title": "Using the new Shuttle SH370R8 as home lab server with VMware ESXi",
  "description": "",
  "date": "June 4, 2019",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "homelab",
  "tags": "homelab, VMware",
  "content":"In January 2019 I did a review of the Shuttle SH370R6 (link ) using VMware ESXi. A couple of weeks ago the new Shuttle SH370R8 is released. The main differences between the Shuttle SH370R6 and SH370R8 are:\nUpdate October 19, 2020: Supports up to 128 GB of RAM! Memory compatibility list: link Ready for the 8th/9th Gen Intel Coffee Lake processors Dual Intel Gigabit Ethernet An extra fan in front of the chassis for a better airflow Front panel (Microphone input (3.5 mm), Headphones output (3.5 mm), 2x USB 3.0 (Type A, USB 3.1 Gen 1), Power button, Power indicator (Blue LED) and Hard disk drive indicator (Yellow LED). Supports four 3.5\u0026quot; hard drives (with an optional 2.5\u0026quot; kit available) The recommended retail price from Shuttle for the SH370R8 is € 317.00 (ex VAT).\nInstallation The Shuttle SH370R8 comes with a Black aluminium chassis, a motherboard and a 500W Power Supply Unit (PSU)\u0026quot; that also the cooling is included. The only hardware you need to add is a CPU, Memory and disk(s) that match.\nI\u0026rsquo;m using the following hardware (same as in the Shuttle SH370R6 review) for testing the Shuttle SH370R8:\nIntel Core i7 8700 with 6 cores and 12 threads 65W 4 x 16 GB Kingston ValueRAM KVR26N19D8/16 Samsung 970 EVO 1 TB M.2 SSD Samsung 250 and 500 GB SATA SSD Kingston Datatraveler 100 G3 32 GB USB stick for booting VMware ESXi The 16 GB memory modules are now much cheaper as in January 2019 when i did the SH370R6 review. With four 16 GB module you can save around € 160,00. The documentation describes the installation steps very clear which makes the hardware installation easy.\nVMware ESXi After installing the hardware and swapping the USB stick from the G6 to the G8, it\u0026rsquo;s time to press the power button. First thing is to enter the BIOS and change the boot order so that the VMware ESXi hypervisor can boot. After a short time VMware ESXi 6.7 Update 2 is up and running.\nThe two onboard Intel Corporation I211 Gigabit NICs are recognized by default in ESXi 6.7. In my configuration one NIC is used for VM and management traffic and the other for NFS traffic to my QNAP storage. The optional wireless LAN adapter is not recognized in ESXi.\nThe USB, NVMe and 4x SATA 3.0 (6G) controllers are recognized by default in ESXi.\nMost of my VMs are running from the NVMe SSD storage which makes them fast de power up. The power consumption is the same as the SH370R6 Plus, 20-24w with ESXi booted (no VMs active) and between 35-70w when 10 VMs are running.\nConclusion The differences between the Shuttle SH370 R6 and R8 are minimal but I really like the dual Intel Gigabit NICs and the extra space for placing 4x 3.5\u0026quot; hard drives. For 2.5\u0026quot; drives there is a optional adapter available. With the support for 4x 3.5\u0026quot; hard drives you can host a lot of storage.\nWith the Shuttle SH370R6 I uses one PCI-E slot for a NIC. With the onboard dual Intel Gigabit I have an extra PCIe slot available for an extra NVMe controller or a 10 Gigabit NIC for example. The PCI-E x 16 slot can be used for a large dual-slot graphics card (up to 280 mm). The Shuttle has great expansion possibilities with the two PCIe slots and support for 4x 3.5\u0026quot; hard drives.\nThe Shuttle SH370R8 with VMware ESXi is running 24/7 for a couple weeks now without any problems and the performance is great with the Intel i7 CPU, 64 GB memory and NVMe storage. I like to welcome the Shuttle SH370R8 to the VMware ESXi homelab club :-).\nSpecifications The Shuttle SH370R8 specifications:\nChassis: Black aluminium chassis (33.2 x 21,5 x 19.0 cm) CPU: Based on the Intel H370 chipset, the XPC Barebone SH370R8 supports all the latest Intel Core processors of the “Coffee Lake” series for socket LGA1151v2 with up to 95 W TDP, including the top model Core i9-9900K with eight cores and 16 threads Cooling: A special passive heatpipe I.C.E. (Integrated Cooling Engine) cooling system ensures cooling of the barebone. Memory: Four memory slots, up to 128 GB of DDR4-2400/2666 memory. Intel Optane Ready which boosts speed of one hard disk through data caching. LAN: Dual Intel Gigabit Ethernet. Slots: M.2 2280M slot for a NVMe SSD. M.2 2230E slot for WLAN cards. 1x PCIe-x16 slot for powerful dual-slot graphics cards ((Max. size: 280 x 120 x 40 mm) 1x PCIe-x4 slot for an expansion card Optional accessories include a WLAN/Bluetooth module (WLN-M), an RS-232 port (H-RS232), and a bracket for two 2.5-inch drives (PHD3). PSU: A 500 Watt, 80-PLUS-Silver-certified power supply unit with the following connectors: ATX main power 2x10 and 2x2 pins Graphics power connector: 6 pins and 8 pins 4 x SATA, 2x Molex and 1x floppy Ports: 4x Serial ATA 6G connector onboard (rev. 3.0, max. 6 Gbit/s) 4x USB 3.1 Gen 2, 4x USB 3.1 Gen 1, 4x USB 2.0 Supports four 3.5\u0026quot; hard drives Official Operating system compatible: Windows 10 and Linux 64-bit The recommended retail price from Shuttle for the SH370R8 is EUR 317.00 (ex VAT) More information about the Shuttle SH370R8 can be found here, link .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2019/04/24/blue-circle-in-the-vsphere-client-after-upgrading-to-vcenter-server-6-7-update-2/",
  "title": "Blue circle in the vSphere client after upgrading to vCenter Server 6.7 Update 2",
  "description": "",
  "date": "April 24, 2019",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware, vSphere",
  "tags": "vcenter-server, vcsa, VMware",
  "content":"After upgrading the vCenter Server Appliance (VCSA) to version 6.7 Update 2, I tried to log in using the vSphere Client. After entering the credentials an endless blue running circle appears.\nIn the VAMI interface (https://vcsa-fqdn:5480) of the VCSA, the health statistics of all the components are green (okay) so I decided to reboot the VCSA.\nAfter the VCSA reboot I encountered the same blue running circle when trying to log in using the vSphere Client. I tried Firefox and Google and the Internet Explorer browser. The only browser that worked was Internet Explorer. I never used Internet Explorer before so I tried to clear the cache of Google Chrome and Firefox using the following methods:\nClear cache, cookies and history of Google Chrome:\nOpen Chrome. At the top right, click More Click More tools and then Clear browsing data Time range: All time Select Browser history, cookies and cache images and files Click Clear data Clear cache and cookies of Firefox browser:\nOpen firefox In the address bar enter: about:preferences Click Privacy \u0026amp; Security Under Cookies and Site Data select Clear Data Check Cookies and Site Data and Cached Web Content Click Clear and select Clear Now After clearing the cache I was able to log in using the vSphere Client without the endless blue circle. So make sure to clear the cache of the browser(s) when experiencing the circle problem.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2019/04/03/installing-home-assistant-hass-io-as-virtual-machine-vm-on-vmware-esxi/",
  "title": "Install Home Assistant Hass.io as Virtual Machine (VM) on VMware ESXi",
  "description": "",
  "date": "April 3, 2019",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi, hass-io, home-assistant",
  "tags": "esxi-2, home-assistant",
  "content":"I started exploring Home Assistant Hass.io on a Raspberry Pi. After several SD card crashes I decided to installed Hass.io as Virtual Machine (VM) on VMware ESXi. There is a VMDK version available (link ) that can attached (this involves manual steps) but I prefer a clean installation. VMware ESXi is installed on my Shuttle SH370R6 plus home lab server (link ).\nUpdate: June 2021: Ubuntu is not supported anymore as Operating System for Home Assistant. See my blog post about installing the Debian for Home Assistant for more information.\nhttps://www.ivobeerens.nl/2021/06/21/run-home-assistant-supervised-as-virtual-machine-vm-on-VMware-esxi/ Other advantages of running Hass.io as VM on VMware ESXi are for example:\nThe Raspberry PI has limited hardware resources and can be a performance bottleneck when using more and more sensors and installing Hass.io add-ons. A home lab server offers more CPU power, memory and storage performance. Snapshot functionality. Quickly make a Virtual Machine snapshot before upgrading the add-ons or Hass.io itself. When something went wrong during the upgrade, simply revert the snapshot and everything works again within seconds. The installation of Hass.io in a Ubuntu VM on ESXi is simple. USB sticks like Z-Wave or Zigbee2MQTT can be attached to the Hass.io VM using ESXi USB pass-through. Here are the steps outlined how-to install an Ubuntu VM and install Hass.io.\nConfigure the Virtual Machine hardware specifications Download Ubuntu 18.04.2 LTS (Long-Term Support), link. Make a connection to the ESXi host: https:///ui Upload the Ubuntu ISO to a datastore Create a new virtual machine with the following specifications: Name: HA-01 Compatibility: ESXi 6.7 virtual machine Guest OS family: Linux Guest OS version: Ubuntu Linux (64-bit) Storage: datastore with 30 GB free space CPUs: 2 Memory: 2048 MB Hard disk 1: 30 GB Disk Provisioning: Thin provisioned SCSI Controller 0: VMware Paravirtual USB controller 1: USB 2.0 or 3.0 depending on the ESXi hardware Network adapter 1: Select the portgroup Adapter type: VMXNET 3 CD/DVD Drive 1: Datastore ISO file Browse to the Ubuntu ISO Connect: checked Video Card: Default settings Next Finish Power on the VM Open a console session The VM has a paravirtualized SCSI controller (PVSCSI) and Virtual NIC (VMXNET3)\nInstall Ubuntu on ESXi Language: English Select: Install Ubuntu Server Choose your preferred language: English Keyboard configuration: Select the layout and variant: English US ( Installation: Install Ubuntu Networking connections: The VMXNET3 NIC of the VM is displayed. Select for the IPv4 method DHCP or a manual fixed IP address Configure proxy: leave this blank Ubuntu mirror: Use the mirror address suggested Filesystem setup: Use an Entire Disk Choose the disk to install to: /dev/sda 30.00G Filesystem summary: Done Confirm destructive action. Are you sure you want to continue: Continue Profile setup: Fill in the following fields (remember the username and password) Your name: Your server\u0026rsquo;s name: Pick a username: Choose a password: Confirm a password: SSH Setup: Install OpenSSH server Import SSH identity: No Featured Server Snaps: Select none The installation of Ubuntu begins The installation is complete! Reboot the system Remove the attached Ubuntu ISO from the VM and press enter After the reboot it\u0026rsquo;s time to install Hass.io in the VM The Open VM Tools is already installed by default so there no need to install this package.\nInstall Hass.io Because we installed OpenSSH we are using a SSH session for the Hass.io configuration. Connect to the IP address of thje Ubuntu VM using SSH (i\u0026rsquo;m using putty) for the connection. Packages requirements (link ) for Hass.io: apparmor-utils apt-transport-https avahi-daemon ca-certificates curl dbus jq network-manager socat software-properties-common (already installed in Ubuntu 18.04) As docker package Docker-CE must be installed. Use the following commands to install all the required packages and install Hass.io sudo -i\radd-apt-repository universe\rapt-get update\rapt-get install -y apparmor-utils apt-transport-https avahi-daemon ca-certificates curl dbus jq network-manager socat\rcurl -fsSL get.docker.com | sh\rcurl -sL https://raw.githubusercontent.com/home-assistant/hassio-installer/master/hassio_install.sh | bash -s After the installation check if there are two containers running using the following command: root@ha-01:~# docker ps\rCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES\r8def326c0ce7 homeassistant/qemux86-64-homeassistant \u0026#34;/bin/entry.sh pytho…\u0026#34; About a minute ago Up About a minute homeassistant\r47945d4fe0f4 homeassistant/amd64-hassio-supervisor \u0026#34;python3 -m hassio\u0026#34; 2 minutes ago Up 2 minutes hassio_supervisor\rroot@ha-01:~# Connect to Hass.io: http://:8123 Home Assistant Hass.io is now running as VM on VMware ESXi.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2019/03/11/easily-monitor-vsan-with-controlup/",
  "title": "Monitor vSAN with ControlUp",
  "description": "",
  "date": "March 11, 2019",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "controlup, review, reviews, vsan",
  "tags": "review, reviews-2, vsan",
  "content":"One of the new enhancements of ControlUp 7.3 is vSAN monitoring support. ControlUp will detect the vSAN cluster(s), objects and displays real-time vSAN specific metrics and metadata. In this blog post I highlight the features of the new vSAN integration in ControlUp 7.3.\nInstallation The vSAN cluster is automatically recognized by ControlUp when the following requirements are met:\nPowerShell minimum Version 5.0 VMware PowerCLI 10.1.1.x .NET framework version 4.5 vSAN Performance service should be turned on on the cluster The user account configured for the hypervisor connection requires the “storage.View” permission. Running ControlUp is easy, no installation is needed, simple execute a single executable (ControlUpConsole.exe). After starting ControlUp, add the vCenter server and the vSAN cluster(s) are automatically recognized. When clicking on the vSAN cluster you see real-time metadata and performance metrics.\nViews There are several preset views available with vSAN metrics such as:\nvSAN Performance. Includes vSAN performance metrics such as IOPS, latency, cache and buffers. vSAN Health. Includes the vSAN health checks vSAN Host Network. Includes vSAN network I/O and packet loss metrics. You can easily switch between predefined views in the \u0026ldquo;Colum Preset\u0026rdquo;. Here is an overview of vSAN metrics used by ControlUp:\nDatastores: Name, Type, Capacity, Read/Write IOPS, Read/Write Rate, Read/Write Latency, Compression, Capacity Deduplication, Congestion, Outstanding IO, Disk Configuration, Total Used Capacity, Total Used – Physically Written, Total Used – VM Overreserved, Total Used – System Overhead, vSAN Free Capacity, vSAN Health, vSAN Cluster Health, vSAN Network Health, vSAN Physical Disk Health, vSAN Data Health, vSAN Limits Health, vSAN Hardware Compatibility Health, vSAN Performance Service Health, vSAN Build Recommendation, vSAN Online Health. Datastores on Hosts: Name, Type, Capacity, Read/Write IOPS, Read/Write Rate, Read/Write Latency, Compression, Capacity Deduplication, Congestion, Outstanding IO, Local Client Cache Hit IOPS, Local Client Cache Hit Rate, vSAN Max Read Cache Read Latency, vSAN Max Write Buffer Write Latency, vSAN Max Read Cache Write Latency, vSAN Max Write Buffer Read Latency, vSAN Min Read Cache Hit Rate, vSAN Write Buffer Min Free Percentage, vSAN Host Network Inbound/Outbound I/O Throughput, vSAN Host Network Inbound/Outbound Packets Per Second, vSAN Host Network Inbound/Outbound Packet Loss Rate\nWhen navigating you see all those metrics available on the vSAN cluster, vSAN datastores on hosts, virtual disks and vSAN Host network utilization views. You can easily drill down by double clicking from the vSAN datastore to the diskgroup(s) on each ESXi host and then drill down to the the virtual disk(s). From the virtual disk(s) you can drill down to the Windows process.\nExample: Find the root cause of high IOPS load on the vSAN cluster. In the following example we will identify a Windows process that is causing high IOPS stress on the vSAN cluster. We drill down from the vSAN cluster to the vSAN diskgroup of the ESXi host to the virtual disk to the process level in the VM to find the root cause of the high IOPS.\nIn the vSAN Performance view we see the stress level has changed and a high IOPS load. In the IOPS we see that the threshold of 2000 is crossed. This threshold is default and can be adjusted. The Virtual Expert suggest to navigate to the \u0026ldquo;Datastore on Hosts (IOPS detailed View). When double clicking on the \u0026ldquo;Datastore on Host\u0026rdquo; we see that \u0026ldquo;esxin04.lab.local\u0026rdquo; is generating the IOPS load. The vSAN diskgroup of the \u0026ldquo;esxin04.lab.local\u0026rdquo; host has a virtual disk that belongs to the \u0026ldquo;ControlUp-vSAN-Test\u0026rdquo; VM that is causing the high IOPS load. When double clicking on the virtual disk we go the the \u0026ldquo;Processes\u0026rdquo; view and see that \u0026ldquo;diskspd.exe\u0026rdquo; process is causing the high IOPS load. Optional: Right click on the process and select kill to end the \u0026ldquo;diskspd.exe\u0026rdquo; process. This stops the IOPS load on the vSAN cluster. This example shows how easy it is to identify what process is causing stress on the vSAN cluster.\nAlerting and reporting For alerting you can add triggers in ControlUp to notify you when something happens on the vSAN cluster such as a change in the stress level for a period of time.\nWhen using the triggers you\u0026rsquo;re able to start investigating it right away when something happening on the vSAN cluster. All the vSAN data is transferred to ControlUp Insight for historical reporting and analytics. This is great for analyzing data and trends over time and can be very useful when investigate issues and understanding what is going on you\u0026rsquo;re environment.\nConclusion ControlUp is easy to set-up and great for fast troubleshooting. In version 7.3 is vSAN support added. As shown in the this blog post with a couple of double clicks you\u0026rsquo;re able to perform a root cause analysis and find what process is causing the high IOPS on the vSAN.\nThere is a free trail available. Give it a try here: link "},{
  "section": "Blog",
  "slug": "/logbook/site/2019/02/13/vmware-unified-access-gateway-uag-3-4-radius-license-change/",
  "title": "VMware Unified Access Gateway (UAG) 3.4 RADIUS license change",
  "description": "",
  "date": "February 13, 2019",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "horizon, VMware",
  "tags": "horizon, VMware",
  "content":"The VMware Unified Access Gateway (UAG) acts as reverse proxy and tunnels sessions (PCoIP and Blast) to desktops and remote apps. Besides Horizon support, new features are added for AirWatch and Identity Manager. With version 3.4, the VMware Unified Access Gateway is offered in three editions based on the Horizon or Workspace ONE licenses:\nStandard Advanced Enterprise Per edition the following features are supported:\nOne of the new features is high availability support for the Unified Access Gateway. Without the use of load balancers a UAG high availability environment can be created. This makes the environment less complex and is available as enterprise feature.\nAnother feature is RADIUS support. RADIUS is not a new feature and is available for a very long time. RADIUS offers two-factor authentication and is always a requirement for production environments. When looking at the editions table you see that this is now an advanced feature. Before version 3.4 of the UAG, with VMware Access Point and VMware Security Server, RADIUS was supported in all the editions!\nIn my opinion RADIUS is not a advance feature and belongs to all the editions of Horizon. This was always the case!\nI\u0026rsquo;ll have a lot of customers who are using Horizon Standard with RADIUS support for two-factor authentication. Now they are stuck with the UAG 3.3.1 appliance or must heavily invest ($$$$$) in the advanced (or higher) edition of Horizon.\nI\u0026rsquo;ll hope VMware will judge again and make RADIUS support available in all the editions of Horizon.\nUpdate: March 13, 2019: VMware Unified Access Gateway 3.5 is released. In this version there is no license requirement anymore based on the edition. All the features have been made available for all the Workspace ONE or Horizon editions. This is great news! RADIUS support is available for all editions in version 3.5 of the UAG. More information: link .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2019/01/30/home-lab-extension-with-a-shuttle-sh370r6-plus/",
  "title": "Using the Shuttle SH370R6 plus as home lab server",
  "description": "",
  "date": "January 30, 2019",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "home-lab",
  "tags": "home-lab, VMware",
  "content":"For my home lab I needed a new host that replaces my Intel NUC (link ) that act as management host. The hardware resources (CPU and memory) on the NUC were limiting my lab activities.\nI had the following requirements for the new home lab host:\nAbility to run the latest VMware ESXi 6.7 U1 version Support for 64 GB memory Fast storage support (M.2 NVMe SSD) Room for PCI-Express add-on cards Run nested environments Low power consumption Limited budget (around 1300 euro). I did some research for a new home lab host and investigated hosts such as the Intel NUC, Apple Mac Mini 2018, Supermicro and Shuttle. In my searching journey I\u0026rsquo;ll ended having the following Bill Of Materials (BOM) shopping list:\nParts~Price (€)Link\u0026nbsp;Barebone System: Shuttle XPC cube barebone\u0026nbsp;SH370R6 Plus (500 Watt (80 PLUS Silver) PSU.\u0026nbsp;291,00\u0026nbsp;LinkCPU: Intel Core i7 8700 with 6 cores and 12 threads 65W\u0026nbsp;333,45\u0026nbsp;LinkMemory: 4 x 16 GB, Kingston ValueRAM KVR26N19D8/16\u0026nbsp;488,00LinkDisk: Samsung 970 EVO 1 TB M.2\u0026nbsp;217,99LinkUSB stick: Kingston Datatraveler 100 G3 32 GB\u0026nbsp; \u0026nbsp;7,30LinkTotal1337,74\rUpdate May 13, 2019: _ A new Shuttle SH370R8 is released. The Shuttle SH370R8 has the following new enhancements:\n9th generation Intel Core i9 processor support (The latest BIOS of the SH370R6 Shuttle also supports the 9th generation of Intel Core CPUs). Dual Intel Gigabit Ethernet onboard NICs Support for four 3.5\u0026quot; hard drives A review can be found here, link .\nBarebone System\nA barebone is pre-installed system with a mainboard, GPU, Power Supply Unit (PSU), CPU cooler and cables in a small form factor. You\u0026rsquo;ll need to pick certain parts such as CPU, memory and disk(s) to match you\u0026rsquo;re needs. The Shuttle XPC cube barebone SH370R6 Plus has the following specifications:\nChassis: black aluminium (33.2 x 21.5 x 19 cm) Bays: 1 x 5.25 and 2 x 3.5\u0026quot; CPU: Socket LGA 1151 v2. Supports 8th and 9th generation Intel Core \u0026ldquo;Coffee Lake\u0026rdquo; processors such as Core i9 / i7 / i5 / i3, Pentium or Celeron Shuttle has a I.C.E. heatpipe cooling system. A CPU with a maximum of 95 Watt Thermal Design Power (TDP) is supported. Integrated Graphics: Intel UHD graphics 610/630 (in the processor). Supports three digital UHD displays at once Chipset: Intel H370 PCH Memory: up to 4 x 16 GB DDR-2400/2666 DIMM modules. Max 64 GB Slots: 1 x PCIe X16 (v3.0) supports dual-slot graphics cards up to 273 mm length, 1 x PCIe X4 (v3.0), 1 x M.2-2280 (SATA / PCIe X4) supports M.2 SSDs, 1 x M.2-2230 supports WLAN cards SATA: 4 x SATA 3.0 (6 Gb/s) supports RAID and RST Video: HDMI 2.0a and 2 x DisplayPort 1.2 Connections: 4 x USB 3.1 Gen 2, 4 x USB 3.1 Gen 1, 4 x USB 2.0, Audio: 5 x Audio (2 x front, 3 x rear) Network: Intel Gigabit I211 adapter PSU: Integrated 300 Watt (80 PLUS Bronze) in the SH370R6 or 500 Watt (80 PLUS Silver) in the SH370R6 plus version. The Shuttle SH370R6 plus has a 500 W Power supply so a GPU can be added if needed. For now I will use the onboard GPU. There is one Intel Gigabit I211 NIC onboard.\nSlots\nThe Shuttle has two slots available for add-on cards:\n1 x PCIe X16 (v3.0) supports dual-slot graphics cards up to 273 mm length, 1 x PCIe X4 (v3.0) I will use both slots with spare sparts, one slot for a Intel Gigabit NIC and the other slot for an extra M.2 slot. In the future I can change the 1 Gigabit NIC for a 10 Gigabit NIC for example.\nCPU\nAs CPU i decided to use an Intel Core i7 8700 8th generation Intel Core \u0026ldquo;Coffee Lake\u0026rdquo; processor with 6 cores and 12 threads. It has a Thermal Design Power (TDP) of 65 W. The decision was based on pricing, horse power and power consumption.\nMemory\nThe maximum memory the Shuttle can handle is 64 GB. This is very unique for a barebone system on the moment. There a 4 DIMM slots for 4 x 16 GB. I used Kingston ValueRAM KVR26N19D8/16 that is not on the Shuttle hardware compatibility list (*1) but can be found in the Kingston compatibility list.\nStorage\nThe Shuttle has one M.2 2280 slot. The Samsung EVO 970 1 TB NVMe SSD will be used as local datastore for storing VMs. Besides the SSD I use an existing QNAP NAS with a NFS connection to this host. ESXi will be installed in the USB stick.\n(*1) Shuttle has a hardware compatibility list available (link ).\nHardware installation Once all the hardware parts were delivered it was time to build the Shuttle XPC SH370R6 Plus. Shuttle provides step by step documentation that describes every step.\nOpen the barebone Shuttle by removing 3 screws on the back and the move the aluminium case away. Install the Intel CPU and add some thermal paste. Shuttle has a own Integrated Cooling Engine (I.C.E.) heatpipe technology that delivers cooling for the CPU with a 92 mm fan. Mount the I.C.E. heatpipe cooler on the CPU and attach the fan. The Shuttle supports up to 64 GB DDR4 memory. Insert the 4 memory modules in the DIMM slots. Attach the Samsung EVO 970 1 TB NVMe SSD in the M.2 2280 slot. The mainboard has two slots for PCI-e cards, 1 x PCIe X16 (v3.0) supports dual-slot graphics cards up to 273 mm length for example and 1 x PCIe X4 (v3.0). I added the following spare parts that are lying around: Intel Gigabit NIC (dedicated for my storage connection to my QNAP NAS). PCIe to M.2 adapter (Lycom DT-120 M.2 PCIe to PCIe 3.0 x4 Adapter) and installed a Samsung 950 Pro 512 GB M.2 SSD. The documentation that Shuttle provides is very clear so the hardware installation went without any problems. Once the hardware parts are installed it was time for the first power-on. After the power-on I entered the BIOS and modified some settings such as:\nBoot order Disabled some hardware devices you don\u0026rsquo;t use such as audio Use Smart FAN mode for controlling the FAN speed Modify the power management by enabling \u0026ldquo;Power-On after Power-Fail\u0026rdquo; Operating Systems The Shuttle has no remote management functionality so you\u0026rsquo;ll need a physical monitor, mouse and keyboard physically connected for the software installation. Once the installation is done, remote management in the software can be enabled. Windows Server 2019 with the Hyper-V role and VMware ESXi 6.7 U1 is installed on the Shuttle SH370R6 plus. Both OSes are not officially supported. Here are my installation experiences:\nWindows Server 2019 As test I installed Windows Server 2019 on the Samsung EVO 970 1 TB. The installation of Windows Server 2019 is finished within a couple of minutes. The onboard Intel Gigabit I211 NIC is not recognized by the Windows. The Intel driver is only for Windows 10 and won’t install on a server OSes by default. This issue is there for a long time (see link ). Intel does not want that desktop NICs are being used on Windows Server OSes. With some hacking (link ) it is possible to enable the NIC. The add-on Intel Gigabit NIC is recognized by default in Windows Server 2019. Enabled the Hyper-V role and installed some VMs without problems. The user experience is fast, very fast!\nVMware ESXi After the Windows Server 2019 test, it was time to create an USB stick (link ) and install VMware ESXi 6.7 U1. The installation is a piece of cake. The onboard Intel Gigabit I211 NIC is recognized by ESXi and will be used for management and VM traffic in my config. The add-on Intel 1 GbE NIC is configured as NFS connection to my existing QNAP NAS. After some initial configuration (network and storage connection, NTP, and licensing) I migrated all the VMs from my old NUC to the new Shuttle. Most VMs are placed on the NVMe SSDs. I really like to performance boost of the VMs when they are running on the new hardware. When the load increases on the Shuttle the fan will make more noise (Smart FAN mode ). This can be annoying when you\u0026rsquo;re in the same room. In the BIOS you can tweak the FAN speed. For me this is not a problem because i\u0026rsquo;ll have a separate room were my home lab servers resides.\nThe onboard SATA controller is recognized by ESXi. I attached two single SSDs to the controller and created a VMFS-6 partition.\nvSAN\nBy adding a PCIe to M.2 adapter and a 10 Gigabit NIC it\u0026rsquo;s possible (not tested yet) to create a All Flash NVMe vSAN node. I added a PCIe to M.2 adapter and added a NVMe SSD and having two NVMe SSDs that are recognized by ESXi (see storage screenshot above).\nPower Consumption\nWhen the Shuttle is booted with ESXi and the two add-on cards are added without any VMs powered-on, the power consumption is around 20-24 W. The power consumption is depending on the amount resources that are being used. In my configuration, running 10 VMs that are using between 35 and 70 W.\nConclusion The Shuttle SH370R6 Plus home lab host is now running for a couple of weeks. Here are my findings:\nDepending on your requirements (such as budget) you can customize the SH370R6 Plus for you\u0026rsquo;re needs. The hardware installation was easy and without problems. The documentation that Shuttle provides is very clear. There two version of the Shuttle: the SH370R6 and the SH370R6 Plus. The PSU is the difference, the plus version has a 500 W PSU (for adding a GPU). The Shuttle barebone has a lightweight aluminium case (33.2 x 21.5 x 19 cm). This is a lot bigger than a Intel NUC but gives more extensible by adding hardware. Using a 8th generation Intel I7 8700 with 6 cores and 12 threads with a TDP of 65 W is cost efficient and consumes less power but still having a powerful CPU (VMs with 12 vCPU are possible to create). The Shuttle Barebone System supports up to 64 GB memory. For a barebone is every unique on the moment. Most barebone systems supports a maximum of 32 GB on the moment! There is one M.2-2280M SSD slot for a NVMe SSD on the mainboard. By adding a PCIe to M.2 adapter you can add an extra NVMe SSD. Great for a vSAN All Flash (AF) use cases. There is room for two 3.5\u0026quot; HDDs. I didn\u0026rsquo;t test if the SATA controller are recognized by ESXi because I use M.2 SSDs and NFS storage. Two PCI-Express slots are available: 1 x PCIe X16 (v3.0) and 1 x PCIe X4 (v3.0). This makes it possible to add a GPU and 10 Gigabit adapter for example. When the load increases on the Shuttle the fan will make more noise (Smart fan mode ). This can be annoying when you\u0026rsquo;re in the same room. In the BIOS you can tweak the fan speed. For me this is not a problem because i\u0026rsquo;ll have a separate room the the home lab servers. The Shuttle is not officially certified and supported by VMware and Microsoft The performance and user experience are fast, very fast! More information about the Shuttle SH370R6 Plus can be found here, link . I\u0026rsquo;m happy with my new home lab member, the Shuttle SH370R6 Plus because all my requirements are met and I really like to performance boost of the VMs.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2019/01/15/install-home-assistant-hass-io-in-vmware-workstation/",
  "title": "Install Home Assistant Hass.io as VM in VMware Workstation",
  "description": "",
  "date": "January 15, 2019",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hass-io, home-assistant",
  "tags": "hass-io, home-assistant",
  "content":"There a multiple ways to install Home Assistant Hass.io on different platforms. The instructions for deploying Hass.io as Virtual Machine (VM) are not very clear when using VMware Workstation or VMware ESXi. In this blog post I highlight the steps needed to deploy Hass.io as VM using VMware Workstation 15 Pro.\nHere are the steps:\nDownload the VMDK image of Hass.io (link) and save it to a folder were the VMware Workstation Virtual Machine will be stored Unzip the downloaded VMDK file with 7zip Open VMware Workstation Choose a custom (advanced) configuration For the VM hardware comparability select: ESXi 6.5 Select: I will install the operating system later As Guest Operating System select: Other 64-bit Give the Virtual Machine a name and browse to the location the VMDK file stored. The will be a warning that there already resides a Virtual Machine in the same location. Select: Continue Select the number of processors and cores. A minimum is 1 processor and 1 core. Assign memory to Hass.io VM. A minimum is: 1024 MB. Select as network type: NAT Select as I/O controller: LSI Logic (Recommended) Select as disk type: SATA Select a disk: Use an existing virtual disk Browse to the VMDK file downloaded earlier There will be a question to convert the existing virtual disk to a newer format, select: Convert The Hass.io VM is ready to be created, select Finish Before starting the VM, edit the Virtual Machine settings and modify to following:\nThe disk is only 6 GB, expand the disk to 32 GB or higher. Remove the Sound Card in the hardware configuration. Change the firmware from BIOS to UEFI. Do not select \u0026ldquo;Enable secure boot\u0026rdquo;! Select OK and Power On the VM. When the boot is completed press \u0026ldquo;enter\u0026rdquo; in the console and the login prompt appears. To log in, use \u0026ldquo;root\u0026rdquo; without a password. The Hassio console prompt appears, enter \u0026ldquo;login\u0026rdquo; for host access. To find the IP address assigned, use the \u0026ldquo;ip a\u0026rdquo; command in the console and look for the IP address on the enp2s0 nic. Open a browser session and use the following format: http://ip-address:8123 Now you\u0026rsquo;re ready to update Home Assistant and let\u0026rsquo;s start playing.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2019/01/09/vmware-esxi-dependencyerror-when-trying-to-upgrade/",
  "title": "VMware ESXi Dependency Error when trying to update",
  "description": "",
  "date": "January 9, 2019",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "update-2, VMware",
  "content":"When trying to update a VMware ESXi 6.7 build 9484548 host to the latest ESXi 6.7 Update 1 build I’ve got the following error:\n[DependencyError] VIB VMware_bootbank_esx-base_6.7.0-1.28.10302608 requires esx-update \u0026laquo; 6.7.0-1.29, but the requirement cannot be satisfied within the ImageProfile. VIB VMware_bootbank_esx-base_6.7.0-1.28.10302608 requires esx-update \u0026gt;= 6.7.0-1.28, but the requirement cannot be satisfied within the ImageProfile. Please refer to the log file for more details.\nWhen searching around it looks like there are more people who experiencing this problem (link ) when trying to update to 6.7U1. Using these steps I was able to update the ESXi 6.7 host from build 9484548 to the latest version (10764712):\nSSH to the ESXi host Put the ESXi host in Maintenance Mode esxcli system maintenanceMode set --enable true\nOpen the ESXi firewall for HTTP traffic. The ESXi host must have internet access. esxcli network firewall ruleset set -e true -r httpClient\nFind the latest ESXi release name in the VMware build numbers overview, link . When writing this blog post the latest release name/patch is \u0026ldquo;ESXi670-201811001\u0026rdquo; which has build number 10764712. The VMware patch depot contains a huge list of builds, to make it easier filter and find the right profile using the following command: esxcli software sources profile list -d https://hostupdate.VMware.com/software/VUM/PRODUCTION/main/vmw-depot-index.xml | grep ESXi-6.7.0-201811\nThis results in two profiles: ESXi-6.7.0-20181104001-no-tools VMware, Inc. PartnerSupported 2018-11-08T08:39:18 2018-11-08T08:39:18 ESXi-6.7.0-20181104001-standard VMware, Inc. PartnerSupported 2018-11-08T08:39:18 2018-11-08T08:39:18\nUpdate the host by adding the \u0026ldquo;ESXi-6.7.0-20181104001-standard\u0026rdquo; profile and point to to the VMware patch depot using this command: esxcli software profile update -p ESXi-6.7.0-20181104001-standard -d https://hostupdate.VMware.com/software/VUM/PRODUCTION/main/vmw-depot-index.xml\nCheck if the update completed successfully Disable the HTTP client in the ESXi firewall esxcli network firewall ruleset set -e false -r httpClient\nReboot the ESXi hosts reboot\nWhen the ESXi hosts is rebooted exit maintenance mode by using SSH vim-cmd hostsvc/maintenance_mode_exit\nCheck the update completed successfully VMware -v\nWhen all the steps are successfully the build version of VMware ESXi 6.7.0 is 10764712.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2019/01/03/extend-the-evaluation-period-of-windows-server-2012-2016-and-2019/",
  "title": "Extend the evaluation period of Windows Server 2012/2016 and 2019",
  "description": "",
  "date": "January 3, 2019",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "windows",
  "tags": "windows",
  "content":"In my lab environment I use evaluation versions of Windows Server 2012, 2016 and 2019 (if available). The evaluation versions of Windows Server are valid for 180 days by default and can be extended.\nIn this example below, the Windows Server 2016 evaluation has only 10 days remaining . To extend the evaluation period the following steps can be used:\nOpen an elevated command prompt (cmd) Enter the following command: cscript.exe %windir%\\system32\\slmgr.vbs /dlv\nThere are 6 remaining rearms available. This means the Windows Server evaluation version can be used for 3 years. To rearm use the following command: cscript.exe %windir%\\system32\\slmgr.vbs /rearm\nRestart the system After the restart the evaluation period is extended for another 180 days "},{
  "section": "Blog",
  "slug": "/logbook/site/2018/12/13/vmware-workstation-device-credential-guard-are-not-compatible/",
  "title": "VMware Workstation Device/Credential Guard are not compatible",
  "description": "",
  "date": "December 13, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "workstation",
  "tags": "VMware Workstation",
  "content":"When using VMware Workstation 15 Pro with on Windows 10 with the Hyper-V role enabled I’ve got the following error when trying to install or start Windows 10 in VMware Workstation:\nVMware Workstation and Device/Credential Guard are not compatible. VMware Workstation can be run after disabling Device/Credential Guard. Please visit http://www.VMware.com/go/turnoff _CG_DG for more details.\nIn 2013 I did a post about using VMware Workstation and Hyper-V together on Windows 8, link . The bottom line that the Hyper-V role conflicts with VMware Workstation. It looks like this is still the case. The same solution can be used to disable the Hyper-V role in Windows 10.\nTo disable Hyper-V from starting the following command can be used:\nbcdedit /set hypervisorlaunchtype off\nA reboot of Windows 10 is necessary. After the reboot I was able to boot the Windows 10 VM.\nTo enable the Hyper-V role again use the following command:\nbcdedit /set hypervisorlaunchtype auto\nA reboot of of the Windows 10 is necessary.\nVMware/Microsoft has a KB article how to disable Windows Defender Credential Guard, link and link . I did not try this because the solution in this worked for me.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2018/11/12/using-the-apple-mac-mini-2018-as-vmware-esxi-homelab-host/",
  "title": "Using the Apple Mac Mini 2018 as VMware ESXi homelab host",
  "description": "",
  "date": "November 12, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "home-lab, mac-mini",
  "tags": "esxi-2, mac",
  "content":"Begin November Apple released there new Apple Mini 2018 models. The last Mac Mini was from 2014. My first question: Is it possible to use the new Mac Mini 2018 as VMware ESXi host? So I’ve borrowed a Mac Mini 2018 model with the following specifications:\nMac Mini 2018, CPU: Intel Core i3 3.6 GHz 4-core 6MB shared L3 cache Memory: 8 GB Disk: 128 GB SSD storage 1 Gb Ethernet adapter The new Apple Mini 2018 comes in two basic configurations. The basic configurations can be changed (CPU, memory, disk and Ethernet adapter) during the ordering process.\nModel comparison:\nModelsModelsProcessorIntel Core i3 3.6 GHz 4-core 6MB shared L3 cacheconfigurable to:Intel Core i7 3.2 GHz 6-core Turbo Boos 4.6 GHz 12MB shared L3 cache.Intel Core i5 3.0 GHz 6 core\u0026nbsp;Turbo Boost up to 4.1GHz 9MB shared L3 cacheconfigurable to:Intel Core i7 3.2 GHz 6-core Turbo Boos 4.6 GHz 12MB shared L3 cache.MemoryTwo user-accessible slots for\u0026nbsp;8,16,32 or 64 GB of 2666MHz DDR4 SO-DIMM (*1)Two user-accessible slots for\u0026nbsp;8,16,32 or 64 GB of 2666MHz DDR4 SO-DIMM (*1)Storage128,256, 512, 1 TB or 2 TB GB PCIe- based SSD512, 1 TB or 2 TB GB PCIe- based SSDGraphicsIntel UHD Graphics 630Intel UHD Graphics 630Networking1 x Gigabit Ethernet port802.11ac Wi-FI wireless networkingIEEE 802.11a/b/g/n compatibleOptional:10 Gb Ethernet (optional)1 x Gigabit Ethernet port802.11ac Wi-FI wireless networkingIEEE 802.11a/b/g/n compatibleOptional:10 Gb Ethernet (optional)Connections and ExpansionFour Thunderbolt 3 (USB-C) port with support for:DisplayPortThunderbolt (up to 40 Gbps)USB 3.1 Gen 2 (up to 10 Gbps)Thunderbolt 2, HDMI, DVI and VGA supportedTwo USB 3 portsHDMI 2.0 port3.5 mm headphone jackFour Thunderbolt 3 (USB-C) port with support for:DisplayPortThunderbolt (up to 40 Gbps)USB 3.1 Gen 2 (up to 10 Gbps)Thunderbolt 2, HDMI, DVI and VGA supportedTwo USB 3 portsHDMI 2.0 port3.5 mm headphone jackDimensions19,7 x 19,7 x 3,6 cm19,7 x 19,7 x 3,6 cmWeight1.3 kg1.3 kgWarrantyYour Mac mini comes with 90 days of complimentary technical support and a one-year limited warranty.Your Mac mini comes with 90 days of complimentary technical support and a one-year limited warrantyRemote ManagementNoNoListed in the VMware Compatibility GuideNo. So there no official support from VMware.No. So there no official support from VMware.Starting price€ 899\u0026nbsp;(*2)€ 1.249\u0026nbsp;(*3)\r(*1) There are two memory slots available.\n(*2) The 2018 Mac mini starts at € 899,00 with an i3 processor, 8 GB RAM and 128 GB SSD storage and 1 Gb Ethernet adapter.\n(*3) The 2018 Mac mini starts at € 1249,00 with an i5 processor, 8 GB RAM and 256 GB storage and 1 Gb Ethernet adapter.\nInstallation of VMware ESXi on the Mac Mini 2018 model Is it possible to install and run VMware ESXi on the Mac Mini 2018? Yes with some caveats such as hardware that is not recognized. The Mac Mini 2018 model is installed with VMware ESXi 6.7 Build 10302608 (ESXi 6.7 U1). Creating a VMware ESXi USB stick is explained in the following blog post, link .\nConfiguration steps:\nThe PCIe-based SSD is not recognized by VMware ESXi. Create an USB key with ESXi installed. The Mac Mini 2018 includes a T2 Security Chip, the T2 chip prevents booting booting non legitimate trusted operating systems using secure boot. For ESXi secure boot needs to be disabled. To disable secure boot, boot in the \u0026ldquo;macOS Utilities\u0026rdquo;: Turn on your Mac and press and hold the Command (⌘)-R key immediately after you see the Apple logo Select the \u0026ldquo;Startup Security Utility\u0026rdquo; in the Utilities menu. Choose \u0026ldquo;No Security\u0026rdquo; and select \u0026ldquo;Allow booting from external media\u0026rdquo;. In the \u0026ldquo;Startup Security Utility\u0026rdquo; menu select the Apple icon and select \u0026ldquo;Shut down\u0026rdquo; Insert the USB drive in one of the USB ports on the back of the Mac Mini 2018 Press the power button on the back of the Mac Mini and keep the Option (⌥) key pressed for the Startup Manager. Select \u0026ldquo;EFI Boot\u0026rdquo; to boot the USB key. The USB key will start with the ESXi installation. Overview Here is a quick overview of screenshots from ESXi 6.7 U1 on the Mac Mini 2018:\nSome considerations VMware ESXi 6.7 U1 is tested on the Mac Mini 2018 model with a USB stick to boot ESXi. The new Apple Mini 2018 model includes a T2 security chip that use secure boot. Disable secure boot to run VMware ESXi. Around 50% CPU and 67% memory load will use around 35 watt. The Mac Mini 2018 comes assembled from Apple. The CPUs that Apple uses in the Mac Mini 2018 are based on Intel Coffee Lake 8th generation. The CPU is embedded and not upgradeable! The new Mac mini allows for memory upgrades up to 64GB on two slots. The memory is it not soldered on the motherboard and is SO-DIMM based. 16 GB cost € 240,00, 32 GB cost € 720,00 and 64 GB cost € 1680,00 extra. To save money go for third-party memory from Kingston or Corsair for example. On iFixit a Mac Mini 2018 memory replacement guide can be found, link . The Apple storage in the Mac mini is PCIe-based and not upgradeable. So size the SSD for the future! The PCIe-based SSD is not recognized by VMware ESXi! The 1 Gb Ethernet NIC is recognized by ESXi as \u0026ldquo;Broadcom Corporation NetXtreme BCM57766 Gigabit Ethernet\u0026rdquo; adapter. The 10 GbE NIC is not recognized by VMware ESXi. The NIC is an Aquantia AQC107 and there are no ESXi driver on the moment. The Thundebolt controllers are not recognized by ESXi. The USB ports are redirected to VMware ESXi. A Teardown of the Mac Mini 2018 model can be found here, link. Pros \u0026amp; Cons ProsConsManagementNo remote management includedForm factorGreat looks and form factorNoise levelVery lowPower consumptionLow. Between ~11w and ~40w with the i3 4-core CPU, 8 GB RAM and 128 GB SSD config and ESXi installed with 1 VM.MemoryUp to 64 GB (2 memory banks) memoryThe memory from Apple is expensive (32 GB will cost € 720,00 and 64 GB will cost € 1680,00 extra). Go for third-party memory memory to save costs. Adding third-party memory\u0026nbsp; means you need to dissemble the Mac Mini!UpgradeabilityOnly the memory can be upgraded.The CPU and SSD are embedded, soldered and not upgradeable.PortsThe USB\u0026nbsp;controller and ports are recognized by ESXi.The Thunderbolt controllers are not recognized by VMware ESXi. When the Thunderbolt controllers are regornized great Direct Access Storage (DAS) solutions can be build.ExtensionThere no room for adding add-on cards and extra disks inside the Mac Mini 2018 box.Ethernet1 GbE Ethernet NIC is recognized by ESXiOnly one Ethernet adapter as port available.The 10 GbE adapter is not recognized by VMware ESXiVMware ESXi supportIs tested with ESXi 6.7 U1 when booting from USB key. The 1 GbE NIC is recognized by ESXi. The VM runs from a NAS device over the 1 GbE adapter.Not on the HCLStorageUse an USB stick to boot ESXi and use remote storage such as a NAS to boot VMs.The\u0026nbsp;PCIe-based SSD is not recognized by ESXi.PricingFor a new homelab host I'll need at least 32/64 GB memory. When buying the memory from Apple the pricing gets extremely high on the Apple Mac Min 2018.\rConclusion The new Mac Mini 2018 hardware specifications are a great refreshment compared to the old Mac Mini 2012 model, but it comes with a very high price for the most homelabers. The PCIe-based SSD, 10 Gb Ethernet adapter and Thunderbolt controllers are not (yet) recognized by VMware ESXi. I think there are better homelab options available on the moment for less money.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2018/11/06/announcements-made-at-vmworld-2018-europe/",
  "title": "Announcements made at VMworld 2018 Europe",
  "description": "",
  "date": "November 6, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware, vmworld",
  "tags": "VMware, vmworld",
  "content":"In Augustus I did a blog post (link ) about the announcements made at VMworld 2018 US. This week it’s time for VMworld Europe in Barcelona with 12000 attendees. The vision of VMware is still the same as the last years: any cloud, any application, any device.\nIn this blog post an overview of new announcements made from VMworld Europe 2018:\nvCloud Suite Platinum announced. vCloud Suite platinum is a bundle with vRealize Suite and vSphere Enterprise Plus that includes now VMware AppDefense. VMware AppDefense is a security product that learn the application behavior, with this knowledge secure the application. More information can be found here, link .\nVMware Cloud Foundation 3.5 announced. VMware Cloud Foundation is an integrated software stack with compute, storage, networking with cloud management and monitoring software to built a SDDC. VCF 3.5 has greater deployment options and support for example vSphere 6.7 U1 and Kubernetes. More information can be found here, link .\nVMware and AWS Accelerate Global Roll Out of VMware Cloud on AWS. VMware announced the expansion of VMware Cloud on AWS in Europe and the United States, with expected additional new regions forthcoming in AWS EU (Ireland), AWS West (N. California) and AWS East (Ohio) in Q4 2018.\nVMware Cloud on AWS added disaster recovery options for the hybrid cloud. This enables hybrid cloud disaster recovery options with Site Recovery Manager that eliminates costs because there no need for pre-provisioning the entire cloud. It\u0026rsquo;s called a elastic cloud model for disaster recovery.\nAnnouncing Project Dimension Beta. Project Dimension delivers edge and data center infrastructure as-a-service, combining VMware\u0026rsquo;s compute, storage, networking solutions with hyper converged hardware, managed by VMware.\nPivotal Container Service (PKS) will be available as cloud service.\nExpanding the VMware PKS portfolio with a new acquired partner called Heptio. Heptio helps organizations to deploy and operationalize Kubernetes. More information can be found here: link VMware blockchain beta program. More information can be found here, link .\nVMware ESXi on a Raspberry PI as prototype. How cool is this for the IoT edge space! I\u0026rsquo;m interested in the use cases for ESXi on Arm.\nWorkspace One. With the following new enhancements: Workspace ONE Intelligence Automation Connector Workspace ONE Sensors for macOS. Dell Provisioning for VMware Workspace ONE More information can be found here, link .\nHorizon 7 on VMware Cloud on AWS: General availability of Horizon 7 (VDI and RDSH, Full Clones and Instant Clones) and App Volumes on VMware Cloud on AWS with the upcoming releases of Horizon 7.7 and App Volumes 2.15. Second, we are enhancing Horizon 7 on-premises and on VMware Cloud on AWS by integrating with the Horizon Cloud Service and taking the first step to extend Horizon 7 with cloud-based management service. This will help consolidate and simplify management of global hybrid and multi-cloud deployments. With this announcement, we will be releasing unified visibility, health monitoring, and helpdesk services delivered from the Horizon Cloud Service for Horizon 7 deployments for both on-premises and on VMware Cloud on AWS. And specifically, for Horizon 7 on VMware Cloud on AWS, we will be previewing the automated installation of the Horizon 7 infrastructure. More information can be found here, link .\nStreams and breakout sessions overview VMworld 2018 Europe Day 1 General Session, Link "},{
  "section": "Blog",
  "slug": "/logbook/site/2018/11/02/nakivo-backup-replication-v7-5-editions-and-licensing/",
  "title": "Review NAKIVO Backup &amp; Replication - Multi-Tenancy, licensing and conclusion",
  "description": "",
  "date": "November 2, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "backup, reviews",
  "tags": "backup",
  "content":"In the last part of the NAKIVO Backup \u0026amp; Replication review I highlight the Multi-Tenancy option, licensing and the final conclusion.\nMulti-Tenancy and branding NAKIVO supports multi-tenancy to deliver Backup-as-a-Service (BAAS) and Disaster-Recovery as a Service (DRaas). The tenants are isolated from each other and cannot access other tenants. Each tenant can access their own environment through a self-service portal and perform all data protection of recovery tasks.\nFor each tenant custom branding can be used.\nA single copy of NAKIVO can create and manage up to 1000 tenants providing a single pane of glass. The multi-tenancy option is available in the Enterprise Essentials en Enterprise license.\nLicensing The following licensing options are available for NAKIVO Backup and Replication for VMware and Hyper-V.\nNumber of licenses available per\u0026nbsp; organizationSupportPrice (€) per socketDescriptionBasic41 year included84Basic backupPRO EssentialsFrom 2 to 61 year included169Basic backup including backup copy and Backup to Cloud services for small environments up to 6 socket licenses.Enterprise EssentialsFrom 2 to 61 year included249All the backup options are included such as Disaster Recovery and Multi-Tenancy (BAAS and DRaaS) for small environments up to 6 socket licenses..ProUnlimited1 year included329Same as the Pro Essentials edition with unlimited licenses.EnterpriseUnlimited1 year includedRequest priceSame as the Enterprise Essentials edition with unlimited licenses.\rMore information about the editions, options and pricing can be found here, link .\nAnother licensing option is the NAKIVO Cloud Provider Edition for cloud providers who host multiple customers. With this edition you can buy a pool of licenses per Virtual Machine. All the license are pooled together and can be used over the tenants.\nFinal conclusion In the last months I did multiple blog posts about NAKIVO Backup \u0026amp; Replication v7.5 and v8. I highlighted the following topics:\nReview NAKIVO Backup \u0026amp; Replication v7.5 released, link Installation and basic configuration, link Backup and Recovery, link Replication, link Multi-Tenancy, editions and licensing and the final conclusion (this post). The installation, configuration and management of NAKIVO Backup \u0026amp; Replication is very simple. I really like the the Virtual Appliance option and the possibility to install NAKIVO B\u0026amp;R on a NAS device. This saves licensing and hardware costs. The management is done by web browser so no extra software is needed to install.\nThe backup, restore and replication jobs are wizard based. Within a couple of minutes the configuration is done. There a multiple ways to recover data such as individual files, objects such as Active Directory and SQL, complete VMs and recover VMs cross platform.\nReplication of VMs can be done for Disaster Recovery. In version 8 a new feature is added called \u0026ldquo;Site Recovery\u0026rdquo;. With this new feature you build automated recovery workflows with one-click failover, failback, and datacenter migration. The recovery workflows can be tested non-disruptive to make sure you meet the RTOs.\nFor cloud providers who offers Backup-as-a-Service (BAAS) and Disaster-Recovery as a Service (DRaas) there is a multi-tenancy option with custom branding for each tenant. Per VM licensing is available for cloud providers.\nAnd as final the licensing and pricing of NAKIVO is very competitive and attractive when comparing them to other data protection solutions.\nIn short my final conclusion about NAKIVO Backup and Replication: Simple, fast, lots of great features and competitive pricing.\nNext week VMworld Europe 2018 in Barcelona will start. NAKIVO will show at VMworld some new enhancements that will be available in NAKIVO Backup \u0026amp; Replication v8.1.\nMore information about NAKIVO can be found here: link "},{
  "section": "Blog",
  "slug": "/logbook/site/2018/10/24/what-windows-10-version-for-my-vdi-desktop/",
  "title": "What Windows 10 version for my VDI desktop?",
  "description": "",
  "date": "October 24, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "vdi, windows-10",
  "content":"In a VDI project one of the questions in the design phase is always: “What version I use for my Windows 10 VDI desktop?”. Before Windows 10, the Operating System release cycle was approximate 3 to 5 years. With Windows 10 a new release management concept is introduced called “Windows as a Service (WaaS)”. WaaS includes:\nFeature updates: Twice a year new feature updates to Windows 10 will be released Quality updates: Deliver both security and non-security fixes every month on patch Tuesday such as: Security updates Critical updates Servicing stack updates Driver Updates Servicing channels: Allow organizations to choose when to deploy new features. The following channels are available: Semi-Annual Channel (SAC): This is also known as the Current Branch. Receive feature updates twice a year (Around March and September/October) with a 18/30 months support cycle. SAC releases numbers are for example: 1703, 1709, 1803 and 1809. (1809 stands for 18 = 2018, 09 = September). Long Term Servicing Branch (LTSB) that is now called the Long Term Servicing Channel (LTSC). LTSC shares the same codebase as Windows 10 IoT and is only available when having a Windows 10 Enterprise license. The typical use cases are embedded systems such as manufacturing or medical equipment and KIOSK systems that don\u0026rsquo;t run Office and receive new feature updates every 2 to 3 years. LTSC comes with 10 years support cycle and looks like an Operating System release cycle before Windows 10 such as Windows 7 for example. The new announced LTSC version is called: Windows 10 2019 LTSC build 1809. Deployment rings: are groups of devices used to initially pilot, and then to broadly deploy, each feature update in an organization So we can choose between two servicing channels. Here is a quick comparison table between the two channels:\nLTSB/LTSCSemi-Annual Channel (SAC)Support10 years18/30 months (Windows 10 Support lifecycle, link.)Latest new features or security enhancementsNoYesSupport for new hardware (silicon) and SurfaceNoYesDefault browser(s)Internet Explorer 11Internet Explorer 11, Microsoft EdgeOfficeLTSC only supports Office 2019.On January 14, 2020 , Office 365 ProPlus will be no longer supported on LSTC or the older LTSB version (link)YesUpdates and Security updatesYesYesOffice supportYesYesUniversal Apps SupportYesYesCortana supportNoYesWindows StoreNoYesWindows Ink and MS camera supportNoYesIncludes non-business apps like Xbox, Minecraft, Candy crushNoYesConfigMgr Express UpdateNoYesOneNoteOneDrive files on demand that is introduced in release 1709 is not included in LTSB 1607.NoYes\rThe advice from Microsoft is to use SAC channel over a LTSB/LTSC channel. Ask yourself the question: Why do I use a Windows OS? My personal answer on this question is: Because I need to run legacy Windows apps. So a stable OS that requires less patching and overhead can be more relevant than having the latest features which involves more management, testing and overhead. But more and more customers are migrating to Office 365. Office 365 ProPlus delivers cloud-connected and always up-to-date versions of Office desktop apps. This requires Windows Update OS requirements for Office 365 ProPlus which means you\u0026rsquo;re stuck with the SAC channel.\nFor choosing between the Professional and the Enterprise edition there is a comparison table available link . Windows 10 Enterprise has for example more advanced security and management functions and support for LTSC.\nWhen deciding what channel and Windows 10 version release to use, ask yourself the following questions:\nDefine the business scope, requirements, constrains, assumptions and risks. What Windows 10 versions are supported by my VDI brokers and software such as Citrix XenDesktop, VMware Horizon, App Volumes and NVIDIA for example? Are we going to use Office 365? Do my applications support the channel and version? Ask the software vendors. Define a update and patch management plan. Perform a Proof of Concept (PoC). I hope this blog post makes it easier to choose the right Windows 10 version for the VDI desktop.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2018/09/16/quick-tip-create-a-bootable-vmware-esxi-key/",
  "title": "Quick tip: Create a bootable VMware ESXi stick",
  "description": "",
  "date": "September 16, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi",
  "tags": "bootable, esxi-2, usb",
  "content":"There are multiple tools available to create a bootable VMware ESXi USB stick/drive/key such as:\nUNetbootin, link Rufus, link My favorite tool to create a VMware ESXi USB stick/key is Rufus. I use Rufus because it\u0026rsquo;s small, fast, Windows-based, open-sourced and the tool is updated frequently.\nRequirements Requirements for creating a VMware ESXi key:\nWindows Operating System (Windows 7 or later) Rufus download VMware ESXi ISO download. Create a USB Stick To create a VMware ESXi stick is easy. Perform the following steps:\nStart Rufus Select the USB device Select the ESXi ISO Press Start Data on the USB key will be destroyed. When the progress status bar is READY, the VMware ESXi bootable is created and ready to boot. I tested the creation of the ESXi USB stick with the latest version of VMware ESXi 6.7 and VMware ESXi 7.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/blog/2018/09/vcenter-server-appliance-vcsa-failed-to-send-http-data-error/",
  "title": "vCenter Server Appliance (VCSA) Failed to send http data error",
  "description": "",
  "date": "September 12, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "VMware",
  "content":"When trying to upgrade the vCenter Server Appliance (VCSA) to version 6.7 using the GUI wizard, I’ve got the following error:\nFailed to send http data.\nI checked the logs but didn\u0026rsquo;t find any clue. When installing the VCSA using the CLI I\u0026rsquo;ve got the same \u0026ldquo;Failed to send http data\u0026rdquo; error (link ). The FQDN of the ESXi host was revolvable by DNS and reverse lookup worked. After changing the ESXi FQDN to the IP address of the ESXi host, the deployment finished without errors. I changed the \u0026ldquo;ESXi host or vCenter Server name\u0026rdquo; in the wizard step 3 and 4 to fix the problem.\nI couldn\u0026rsquo;t find what causes the \u0026ldquo;Failed to send http data\u0026rdquo; error. I had this error during installs and upgrades in different environments. Hopefully someone can explain what happen or it is a bug that will be solved in future releases.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2018/09/07/vmware-tools-10-3-0-recalled-check-youre-vsphere-environment/",
  "title": "VMware Tools 10.3.0 recalled, check you&#39;re vSphere environment!",
  "description": "",
  "date": "September 7, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vSphere",
  "tags": "powercli, VMware, VMware-tools",
  "content":"Yesterday VMware released a Knowledge Base article that VMware Tools version 10.3.0 is recalled because issues with the VMXNET3 network driver for Windows on ESXi 6.5. The issues can cause a Purple Diagnostic Screen (PSOD) or guest network connectivity loss. Because of these issues, VMware Tools 10.3.0 is recalled and no longer available.\nUpdate: September 12, 2018: VMware Tools 10.3.2. is released that fixes the VMXNET3 issue. More information can be found here, link .\nAction is required if VMware Tools 10.3.0 is deployed and the following is true:\nvSphere ESXi 6.5 hosts VM Hardware Version 13 Windows 8/Windows Server 2012 or higher guest OSes If this is the case uninstall VMware Tools 10.3.0 and reinstall VMware Tools 10.2.5 from the VMware Downloads page, link . For other configurations, no immediate action is required.\nI created a simple PowerCLI script to identify VMware Tools version 10.3.0 and display the Hardware Version and Operating System. With this script you can do quick check if you\u0026rsquo;re vSphere 6.5 environment contains VMware Tools 10.3.0 with Hardware Version 13 and Windows 8/Windows 2012 or higher VMs.\nThe script \u0026lsquo;\u0026ldquo;identVMwaretools.ps1\u0026rdquo; can be found on my GitHub repository, link . The KB can be found here, link .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2018/09/05/new-enhancements-in-runecast-analyzer-2-0/",
  "title": "New enhancements in Runecast Analyzer 2.0",
  "description": "",
  "date": "September 5, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "review, reviews, runecast",
  "tags": "review, VMware",
  "content":"Runecast Analyzer provides proactive management for VMware environments. It discovers potential risks in the VMware environment before they can cause a major outage. In 90% of the outages with VMware environments, the root cause is based on a known issue that is already available in the VMware knowledge base. Runecast Analyzer uses information from the VMware knowledge base, security hardening guides (VMware, DISA STG and PCI-DSS), and best practices to proactively identify problems or outages before they occur.\nIn my last review of Runecast Analyzer I tested version 1.7 (link ) with vSphere and vSAN support. The next version (1.8) included NSX-V support and a couple of weeks ago version 2.0 is of Runecast Analyzer is released. This version includes the following new enhancements.\nNew User Interface (UI) Runecast Analyzer 2.0 has a complete redesigned User Interface(UI) that includes new widgets such as:\nHistorical Trending Host with Most Issues History trending\nIt includes historical trending for at least 3 months of vSphere, vSAN and NSX-V scan results. By default every day (this can be changed) a scan is performed against one of more vCenter environment(s). The scans contains the description, IP address and why the issues was detected. The trending information is showed in widgets in the UI.\nWith this functionality you can keep track how compliant you are and what progress you made to solve issues. All the detected issues are summarized in the \u0026ldquo;Issue History\u0026rdquo; widget per day or weeks.\nHosts with Most Issues\nAnother new widget in the UI is the \u0026ldquo;Hosts with Most Issues\u0026rdquo;. It shows which ESXi host that has the most issues and deserves the most priority to investigate.\nHistory Analysis History Analysis is a new functionality that helps with isolating the root cause of the reported incident as quick as possible.\nThe first section shows a chart with a trend of detected and fixed issues over time. There are interactive dots in the chart trend that shows issues and details of the scan. The second section shows a table with detailed descriptions of the issues.\nWithin the history analysis there can be filtered on:\nSeverity (Critical, Major, Medium or Low) Source ( PCIDSS, SH, BP or KB) Applies to (Network, Compute, vCenter, Management or VM) Products (NSX-V or vSphere) The issue results can be compared with previous scan results and the differences are showed.\nThis makes the new history analysis very powerful for finding issues in the vSphere environment for example after a maintenance window when performing configuration changes.\nvSphere 6.7 with vSphere HTML5 client support Runecast Analyzer supports vSphere 6.7 and has a HTML5 web-plugin for the vSphere Client and even integrates in the NSX dashboard.\nPCI-DSS compliance Runecast Analyzer 2.0 includes a new profile with 226 different checks for the Payment Card Industry Data Securiy Standard (PCI-DSS). The profile can be enabled and automatically checks if you are compliant with the PCI-DSS profile (Runecast Analyzer supports PCI DSS 3.2.1).\nThis helps with becoming PCI-DSS compliant and very helpful for companies in the financial space.\nThe PCI-DSS results can be easily filtered and exported in different formats (PDF, CSV or clipboard copy). This can be useful when having for example an audit.\nLatest VMware Knowledge Base updates When there are new knowledge definitions available the definition database can be (automated) updated. For example with the Spectre, Meltdown and L1TF vulnerabilities, Runecast Analyzer can quickly identify those vulnerabilities when VMware releases the KB articles.\nAppliance Update In version 2.0 of Runecast Analyzer the internal components of the appliance are updated to the latest versions (such as Ubuntu, 14.04.05 LTS, PostgreSQL 10, Apache Tomcat 9.0.10 and TLS 1.2 is used). The appliance meets the latest security compliance. The appliance and knowledge definitions can be easily updated when a new version is available.\nFor new users deploying a new appliance (OVF) is a piece of cake. Runecast Analyzer is installed en operational within a couple of minutes. A free Runecast Analyzer trail or demo can be requested by using the following link .\nVersion 2.0 of Runecast Analyzer adds great new enhancements that helps better to proactively identify problems or outages before they occur and easily check the compliance of the VMware vSphere, vSAN en NSX-V environment.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2018/08/27/whats-announced-at-vmworld-2018-us/",
  "title": "What&#39;s announced at VMworld 2018",
  "description": "",
  "date": "August 27, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vmworld",
  "tags": "VMware, vmworld",
  "content":"This blog post will be updated with the latest and greatest VMworld 2018 US announcements. At VMworld, VMware is celebrating there 20th anniversary! Congrats for this awesome journey! VMworld 2018 US (Las Vegas) is the biggest (over 21000 attendees) event of the year for VMware. In November there is a VMworld in Barcelona (Europe). But for now we focuses on the announcements made at VMworld 2018 US.\nBesides announcements, links to the general and breakout sessions are listed below and some vendor updates.\nDay 1, August 27, 2018 vSphere Platinum. vSphere Platinum is a new offering that includes VMware vSphere Enterprise plus and VMware AppDefense. VMware AppDefense is a data center endpoint security product that protects applications running in virtualized environments. This bundle comes with a own AppDefense vCenter plugin that is built for the Platinum version. More information can be found here link . vSphere 6.7 Update 1. With this update it is possible to upgrade from vSphere 6.5 U2 to vSphere 6.7 U1. The General Availability is planned later this year! So what are they enhancements: vMotion for NVIDIA Quadro vDWS and Intel FPGA Support. NVIDIA demonstrated this last year at VMworld. In vSphere 6.7 the suspend and resume options were introduced.With vSphere 6.7U1 it is possible to perform maintenance operations on the underlying GPU accelerated VDI or VMs with a vMotion. So no downtime is involved. I have a lot NVIDIA GPU customers who will be very happy with this. More information can be found here, link . Fully Featured HTML5-based vSphere Client. The Sphere Client (HTML5) will include all administrative functions! No more switching between the vSphere Web Client and vSphere Client. One fast client that does the job. Hooray! vCenter Server Converge Tool. Allows you to migrate from an external Platform Services Controller (PSC) to an embedded PSC architecture. Enhancements for HCI and vSAN. Includes workflow based configuration wizard called \u0026ldquo;Cluster Quickstart\u0026rdquo;. With \u0026ldquo;Cluster Quickstart\u0026rdquo; it\u0026rsquo;s possible to create a fully functional vSAN cluster in minutes. Another improvement is that vSphere Update Manager (VUM) can perform I/O controller firmware updates. This version will be called vSAN 6.7U1. Enhanced Content Library. Importing of OVA templates from a HTTPS endpoint and local storage, as well as syncing content from OVA templates to other vCenter Servers. More information can be found here link .\nvSAN Private Beta. You can subscribe to the vSAN Private Beta by signing a NDA. This beta will include Data Protection by using snapshots, file services and persistent storage for containers. Subscribe here link . ESXi on 64-bit Arm. Bring the power of ESXi virtualization to 64-bit Arm devices. For example run ESXi on a Raspberry Pi (don\u0026rsquo;t know if VMware is supporting the PI). Great for IoT devices. ESXi on 64-bit ARM will be available as Tech Preview. vRealize Operations (vROps) 7.0. More information can be found here link . vRealize Automation 7.5. More information can be found here link . VMware vCloud Director 9.5. More information can be found here link . VMware Cloud on AWS (VMWonAWS). Today it\u0026rsquo;s the 1 year anniversary of the VMware Cloud on AWS with the following enhancements: New Regional Expansion. With Australia and New Zealand. Below is an overview of available regions: 50% lower entry-level price. A 3-host SDDC minimum is now possible as starting point (instead of the original 4-host). VMware is currently offering the 3-Host SDDC environment for the cost of a two-host configuration. In addition, for a limited time period, customer could take advantage of a new promotion that offers three hosts at the price of two. For the start, duration and terms and conditions of the promotion. More information about the costs can be found here link . Custom CPU core counts: Customers can now configure their environments with the number of physical cores per host they want to be enable in a cluster. This is useful for applications that are licensed per physical core (for example Oracle). VMware NSX with AWS Direct Connect integration. This integration eliminates the need for using separate VPN tunnels when using applications that needs to be migrate or operate in a hybrid manner. VMware NSX Hybrid Connect. Migrate VMs live without downtime using vMotion and vSphere replication technology. It\u0026rsquo;s now possible to perform bulk VM migrations. Real-time log management. More information can be found here link .\nAmazon Relational Database Service (RDS) on VMware. Amazon Relational Database Service (RDS) on VMware makes it easy for you to set up, operate, and scale databases in on-premises and hybrid environments, and to migrate them to AWS**.** Supported database are for example Microsoft SQL Server, Oracle, PostgreSQL and MySQL.Are there coming more awesome AWS services available on-premises? RDS on VMware will be available as Tech Preview. More information can be found here link . For a Tech Preview register here link . Project Magna. This Tech Preview is about the self-driving Data Center using machine learning. Products that are used in Project Magna are for example: Wavefront, AppDefense and Workspace ONE Intelligence. Project Magna will make managing the data center infrastructure much easier. Project Dimension. Project Dimension will extend VMware Cloud to deliver SDDC infrastructure and hardware as-a-service to on-premises locations. Because this is will be a service, it means that VMware can take care of managing the infrastructure, troubleshooting issues, and performing patching and maintenance. This in turn means customers can focus on differentiating their business building innovative applications rather than spending time on day-to-day infrastructure management. So Project Dimension delivers VMware Cloud simplicity (such as VMware Cloud on AWS) to the data center and edge with: VMware-Operated End-to-End Hybrid Cloud Control Plane VMware Cloud Foundation in a Hyper-Converged Appliance (DellEMC and Lenovo) More information can be found here link .\nThree new cloud services are announced: Cloud Assembly. This is a multi cloud provisioning service. More information can be found here link . Service Broker. Aggregate native content from multiple clouds and platforms into a single catalog with role-based policies. More information can be found here link . Code Stream. Speed software delivery and streamline troubleshooting with release pipelines and analytics. More information can be found here link . Intent to Acquire CloudHealth Technologies to provide Multi-Cloud Operations at Global Scale. More information can be found here link . Day 2, August 28, 2018 Pulse IoT Center 2.0 announced. Pulse IoT center offers infrastructure management for the device Edge. More information can be found here link . VMware Cloud Foundation (VCF) 3.0. VMware Cloud Foundation brings together the different virtualization technologies – compute, storage, networking and management – to enable customers to build and operate a private or hybrid cloud as a single entity in an automated fashion. More information can be found here link . WorkSpace ONE: WorkSpace ONE Unified Endpoint Management (UEM) enhancements. More information can be found here link . Workspace ONE Intelligent Hub. More information can be found here link . Horizon announcements. The innovations are at the VDI management and cloud delivery level. More information can be found here link . Streams and breakout sessions overview VMworld General Session \u0026ldquo;Technology Superpowers\u0026rdquo; day 1 replay, link . VMworld General Session \u0026ldquo;Pioneers of the Possible\u0026rdquo; day 2 replay, link . VMware VMworld YouTube videos, link . Lamw VMworld 2018 breakout sessions Github, link . vBrownBag Techtalks stream link . VMworld 2018 US (breakout) session videos, link . VMware Code Power sessions, link . theCUBE VMworld 2018 Las Vegas talks, link . Vendor updates NAKIVO Backup \u0026amp; Replication version 8. Today version 8 of NAKIVO Backup \u0026amp; Replication is Generally Available (GA). This version includes the Business Continuity and Site Recovery Orchestration Solution. With v8 can automate and orchestrate the entire site recovery process. Perform scheduled non-disruptive disaster recovery testing, planned failover, emergency failover, failback, and datacenter migration. More information can be found here link . RuneCast Analyzer 2.0. I will dedicate a blog about version 2.0 soon. More information can be found here link . Veeam Hyper-Availability Platform on Cisco HyperFlex. More information can be found here link . "},{
  "section": "Blog",
  "slug": "/logbook/site/2018/08/23/review-nakivo-backup-replication-v7-5-replication/",
  "title": "Review NAKIVO Backup &amp; Replication v7.5 - Replication",
  "description": "",
  "date": "August 23, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "nakivo, review, reviews",
  "tags": "backup, replication, VMware",
  "content":"In this part of the NAKIVO Backup \u0026amp; Replication review I highlight the replication feature. With the replication feature you can replicate VMs. The source VMs are copied, a VM replica is created of each and replicated to the target VMware environment (also known as the recovery site).\nVM Replication protects for example against the following type of disasters:\nNatural disasters (earthquakes, floods, tornados etc.) Data center problems such as power losses, fire and water damage Hardware problems such as host, network and storage failures Human errors VM failures caused by updates or patches, virus or manually removal The replication feature can be used for business continuity as part of you\u0026rsquo;re disaster recovery plan. When a disaster occurs, the protected VM(s) can be quick failed over from the primary site to the recovery site.\nWhen the primary site is restored the VM(s) can be failed back to the primary site.\nAnother use case it to use replication for migrating the VMs to a new VMware environment for example when moving from on-premises to a cloud provider.\nConfiguration\nThe configuration of the replication job can be done by using a 7 step wizard:\n1. VMs. Select the VM(s) that will be replicated.\n2. Destination. Select the destination host(s) and datastores the VM(s) will be replicated to.\n3. Networks. If the VM on the primary site has another network than on the recovery site you can make a mapping between them. In my test environment I have an stretched L2 network so the source and target network are the same.\n4. Re-IP. With this option the replicated VMs will be mapped to a new IP address. In my test environment I have an stretched L2 network so the IP address will not change.\n5. Schedule.Select the scheduling for the replication job. The VM replication will be executed at the schedules. So note that the VM(s) in primary site are not synchronous replicated.\n6. Retention. Set the retention for the replicated VMs. Per VM you can have up to 30 recovery points.\n7. Options. Set the options for the job.\nClick on Finish \u0026amp; Run to start the first replication job. The VM will be replicated to the recovery site in a powered off state in the vSphere client.\nPerform a VM Failover.\nIf a disaster occurs at the primary site or something happen with one or more protected VMs you can perform a failover from the primary to the recovery site. To perform a VM failover follow these steps using the following wizard:\nIn the recover menu select VM failover to replica.\n1. Source. Select the VM and recovery point to use.\n2. Networks. If the VM on the primary site has another network than on the recovery site you can make a mapping between them. In my test environment I have an stretched L2 network so the source and target network are the same.\n3. Re-IP. With this option the replicated VMs will be mapped to a new IP address. In my test environment I have an stretched L2 network so the IP address will not change.\n4. Options. In the options section enter the job name. I checked the \u0026ldquo;Power off source VMs\u0026rdquo; box to prevent IP conflicts.\nClick on the \u0026ldquo;Finish \u0026amp; Run\u0026rdquo; button to start the recovery job. The VM in the primary site is powered off and the replica VM is powered on in the recovery site. In the vSphere client, the replica VM is running after the failover.\nVM Failback.\nAfter the disaster, the protected VMs are at the recovery site. When the infrastructure at the primary is restored you may want to return these VMs back. With the replication feature these VMs can be transferred back to the primary site. Transferring the VMs back involves performing some manual steps such as deleting the recovery job (with the keep recovered VMs option) and create a new replication job.\nIn a next release of NAKIVO Backup \u0026amp; Replication a new feature called \u0026ldquo;site recovery\u0026rdquo; will be introduced. Site recovery will enhance the replication feature with for example automated testing and workflow options. With these options you can test for example if the disaster recovery plan works as expected in a isolated environment.\nUpdate: August 27, 2018. NAKIVO announced today version 8 with Site Recovery feature. This powerful new feature allows you to:\nBuild automated recovery workflows Run one-click failover, failback, and datacenter migration Perform non-disruptive recovery testing Make sure you meet your RTOs More information about the Site Recovery feature can be found here link .\nIn the next NAKIVO Backup \u0026amp; Replication review I will highlight the editions, licensing and conclusion of my four reviews.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2018/08/20/vcenter-server-appliance-vcsa-automated-unattended-deployment/",
  "title": "vCenter Server Appliance (vCSA) automated/unattended deployment",
  "description": "",
  "date": "August 20, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "vcsa, VMware",
  "content":"Installing the vCenter Server Aplliance (vCSA) automatically using an unattended scripted deployment can be done by command line (CLI) in combination with a JSON config file. In this example an embedded vCenter Server Appliance with the Platform Service Controller (PSC) and vCenter Server role will be deployed.\nPrerequisites:\nThis example is based on a Windows Operating System. Using a Linux or MAC OS is also possible but not highlighted in this blog. Make sure the FQDN of the vCSA is resolvable by a DNS server and check if reverse lookup works. Steps to perform:\nDownload the vCenter Server Appiance (VCSA) ISO (version 6.5 or 6.7) Mount the ISO The CLI installer for Windows requires a Microsoft Visual C++ Redistributable version 14.0. This requirement can be checked with the following command: \\vcsa-cli-installer\\win32\\check_windows_vc_redist.bat Navigate to the JSON templates. The vCSA ISO contains template JSON files that can be used for deploying the vCSA. The templates can be found on the ISO in the following map: \\vcsa-cli-installer\\templates\\install The types of templates are avalable:\nembedded_vCSA_on_*.json: Platform Services Controller (PSC) and vCSA\rtogether on one system\rPSC_on_*.json: Only a PSC\rvCSA_on_*.json: Only a vCSA\r*_on_ESXi.json: Install onto the ESXi host specified in the JSON\rfile\r*_on_VC.json: Install onto a host managed by the vCenter\rinstance specified in the JSON file Edit a template \u0026ldquo;embedded_vCSA_on_ESXi.json\u0026rdquo; or use the example below with you\u0026rsquo;re favorite editor (I use Notepad ++) and save it to a writable location (in the CLI syntax you need to point to this modified JSON file). The template contains the minimal parameters needed to deploy the embedded vCSA. The vCSA will deployed as tiny (2 vCPU, 10 GB memory, 300 GB storage). An overview of all parameters that can be used are found here, link . Example JSON file to deploy an embedded vCenter Server Appliance with the PSC and vCenter components:\n{\r\u0026#34;__version\u0026#34;: \u0026#34;2.13.0\u0026#34;,\r\u0026#34;__comments\u0026#34;: \u0026#34;Sample template to deploy a vCenter Server Appliance with an embedded Platform Services Controller on an ESXi host.\u0026#34;,\r\u0026#34;new_vcsa\u0026#34;: {\r\u0026#34;esxi\u0026#34;: {\r\u0026#34;hostname\u0026#34;: \u0026#34;192.168.11.10\u0026#34;,\r\u0026#34;username\u0026#34;: \u0026#34;root\u0026#34;,\r\u0026#34;password\u0026#34;: \u0026#34;VMwaaare01!\u0026#34;,\r\u0026#34;deployment_network\u0026#34;: \u0026#34;vlan13-srv\u0026#34;,\r\u0026#34;datastore\u0026#34;: \u0026#34;SSD-M2-01\u0026#34;\r},\r\u0026#34;appliance\u0026#34;: {\r\u0026#34;__comments\u0026#34;: [\r\u0026#34;You must provide the \u0026#39;deployment_option\u0026#39; key with a value, which will affect the VCSA\u0026#39;s configuration parameters, such as the VCSA\u0026#39;s number of vCPUs, the memory size, the storage size, and the maximum numbers of ESXi hosts and VMs which can be managed. For a list of acceptable values, run the supported deployment sizes help, i.e. vcsa-deploy --supported-deployment-sizes\u0026#34;\r],\r\u0026#34;thin_disk_mode\u0026#34;: true,\r\u0026#34;deployment_option\u0026#34;: \u0026#34;tiny\u0026#34;,\r\u0026#34;name\u0026#34;: \u0026#34;vcsa03.lab.local\u0026#34;\r},\r\u0026#34;network\u0026#34;: {\r\u0026#34;ip_family\u0026#34;: \u0026#34;ipv4\u0026#34;,\r\u0026#34;mode\u0026#34;: \u0026#34;static\u0026#34;,\r\u0026#34;ip\u0026#34;: \u0026#34;192.168.13.13\u0026#34;,\r\u0026#34;dns_servers\u0026#34;: [\r\u0026#34;192.168.13.101\u0026#34;\r],\r\u0026#34;prefix\u0026#34;: \u0026#34;24\u0026#34;,\r\u0026#34;gateway\u0026#34;: \u0026#34;192.168.13.254\u0026#34;,\r\u0026#34;system_name\u0026#34;: \u0026#34;vcsa03.lab.local\u0026#34;\r},\r\u0026#34;os\u0026#34;: {\r\u0026#34;password\u0026#34;: \u0026#34;VMware01!\u0026#34;,\r\u0026#34;ntp_servers\u0026#34;: \u0026#34;pool.ntp.org\u0026#34;,\r\u0026#34;ssh_enable\u0026#34;: true\r},\r\u0026#34;sso\u0026#34;: {\r\u0026#34;password\u0026#34;: \u0026#34;VMware01!\u0026#34;,\r\u0026#34;domain_name\u0026#34;: \u0026#34;vsphere.local\u0026#34;\r}\r},\r\u0026#34;ceip\u0026#34;: {\r\u0026#34;description\u0026#34;: {\r\u0026#34;__comments\u0026#34;: [\r\u0026#34;++++VMware Customer Experience Improvement Program (CEIP)++++\u0026#34;,\r\u0026#34;VMware\u0026#39;s Customer Experience Improvement Program (CEIP) \u0026#34;,\r\u0026#34;provides VMware with information that enables VMware to \u0026#34;,\r\u0026#34;improve its products and services, to fix problems, \u0026#34;,\r\u0026#34;and to advise you on how best to deploy and use our \u0026#34;,\r\u0026#34;products. As part of CEIP, VMware collects technical \u0026#34;,\r\u0026#34;information about your organization\u0026#39;s use of VMware \u0026#34;,\r\u0026#34;products and services on a regular basis in association \u0026#34;,\r\u0026#34;with your organization\u0026#39;s VMware license key(s). This \u0026#34;,\r\u0026#34;information does not personally identify any individual. \u0026#34;,\r\u0026#34;\u0026#34;,\r\u0026#34;Additional information regarding the data collected \u0026#34;,\r\u0026#34;through CEIP and the purposes for which it is used by \u0026#34;,\r\u0026#34;VMware is set forth in the Trust \u0026amp;amp;amp;amp;amp;amp; Assurance Center at \u0026#34;,\r\u0026#34;http://www.vmware.com/trustvmware/ceip.html . If you \u0026#34;,\r\u0026#34;prefer not to participate in VMware\u0026#39;s CEIP for this \u0026#34;,\r\u0026#34;product, you should disable CEIP by setting \u0026#34;,\r\u0026#34;\u0026#39;ceip_enabled\u0026#39;: false. You may join or leave VMware\u0026#39;s \u0026#34;,\r\u0026#34;CEIP for this product at any time. Please confirm your \u0026#34;,\r\u0026#34;acknowledgement by passing in the parameter \u0026#34;,\r\u0026#34;--acknowledge-ceip in the command line.\u0026#34;,\r\u0026#34;++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\u0026#34;\r]\r},\r\u0026#34;settings\u0026#34;: {\r\u0026#34;ceip_enabled\u0026#34;: true\r}\r}\r} The first deployments failed when using the FQDN ESXi hostname in the JSON file, with the following error:\nOVF Tool: Transfer Failed OVF Tool: Error: Failed to send http data Deployment failed. OVF Tool return error code: 1\nI checked the logs but didn\u0026rsquo;t find any clue. The FQDN of the ESXi host was revolvable by DNS but after changing the ESXi FQDN to the IP address of the ESXi host in the JSON file the deployment finished without errors.\nPerform a template JSON verification without installing: vcsa-deploy install --accept-eula --verify-template-only \u0026lt;JSON file path\u0026gt; Perform the actually deployment vcsa-deploy.exe install --accept-eula --acknowledge-ceip --terse --no-ssl-certificate-verification \u0026lt;JSON file path\u0026gt; When the unattended deployment finished, an embedded vCenter Server Appliance with the Platform Service Controller (PSC) and vCenter Server role is ready to rumble.\nI created a GitHub repository for the deployment and parameters, link .\nVMware documentation about the CLI deployment can be found here, link .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2018/08/16/review-nakivo-backup-replication-v7-5-backup-and-recovery/",
  "title": "Review NAKIVO Backup &amp; Replication v7.5 - Backup and Recovery",
  "description": "",
  "date": "August 16, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "nakivo, reviews",
  "tags": "backup",
  "content":"In this part of the NAKIVO Backup \u0026amp; Replication review the backup and recovery options will be highlighted.\nBackup To begin with backup and recovery we first need a backup job. Configuring a backup job contains the following five steps:\n1. VMs: Select the VMs to backup from the inventory of the vCenter Server or ESXi host. 2. Destination: Select the destination to store the VMs. Select the onboard repository with deduplication and compression enabled for storage space savings. 3. Schedule: Create one or more backup schedules 4. Retention: Define the retention period for each Virtual Machine (VM). Each VM will have one or more recovery points were individual files, application object or the the entire VM can be recovered. A Grandfather-Father-Son (GFS) backup rotation scheme can be used. 5. Options: Select the options for the backup job: App-aware mode: Use this option for applications that require that the data is consistent such as Microsoft SQL and Exchange. Change tracking: Only the blocks that are changed since the last backup will be backup ed. This will increase the backup speed. Screenshot verification: After the backup of each VM it will be recovered (with the network disconnected) and a screenshot will be made after the OS is started. The screenshot will be included in the email notification or in the job report. Email notifications: When the job completes the status is send by Email. Transport Mode: Hot Add, SAN, LAN or automatic can be selected Bandwith throttling: With bandwidth throttling you can control the amount of bandwidth that is consumed by NAKIVO Backup and Replication. The are more options to configure, refer to the following link for all the options to configure.\nIn 5 easy wizzard based steps a backup job is be configured.\nReports There are several reporting functions available such as:\nLast run report. Provides the status of the last run backup. Point-in-time report. Provides data on a particular job run. Job history report. Provides data on job runs that occurred during a specified time period. Protection coverage report. Contains information about all VMs and instances protected by backup and/or replication jobs, as well as about all unprotected VMs and instances. The \u0026ldquo;last run\u0026rdquo; report is includes information about the backup such as:\nSummary Virtual Machines Target Storage Alarms \u0026amp; Notifications This report can be created manually or in the backup job you can specify the email address of one or more recipient(s) were the report will be send to.\nWhen screenshot verification is used, the screenshot is also included in the report.\nRestore / Recover Appliance backup\nThe configuration of the NAKIVO Backup \u0026amp; Replication server /appliance can be secured by using the Self-backup feature. When something happen with the NAKIVO Backup \u0026amp; Replication server the configuration can be quickly restored on another server.\nAfter the first backup job is finished there a multiple ways to recover VM data. The following options are available to recover data from the backups:\nIndividual files. You can recover files or folders directly from compressed and deduplicated repository. Microsoft SQL Server objects. Enables browsing, searching, and recovering Microsoft SQL Server objects. Microsoft Active Directory objects. Enables browsing, searching, and recovering Microsoft Active Directory objects**.** Microsoft Exchange objects. Enables browsing, searching, and recovering Microsoft Exchange emails. Export Backups. This is called \u0026ldquo;Cross-Platform Recovery\u0026rdquo; and will be handled in the next paragraph. Flash VM boot. Enables to run VMware and Hyper-V VMs directly from repository without the need to recover the VMs first. VM recovery from backup. Full VM recovery. When you recover a VM, a new VM is created and the \u0026ldquo;old\u0026rdquo; VM is retained. I tested several recover options:\nIndividual files. Individual files per VM can be restored. The files can be recovered on a server (for example on the same location as deleted), downloaded to the browser or emailed. I tested to recover two PowerShell files from a VM and selected the download to browser option. The files recovery is performed in seconds. VM recovery from backup. With this option one or more full VMs are recovered. The original VM will be retained so the recovering VM will not overwrite the original VM. The recovering VM name will append \u0026ldquo;-recovered\u0026rdquo; in the end. The recovery is fast. VM Flash boot. With the VM Flash boot option it\u0026rsquo;s possible to boot VMs directly from the compressed and deduplicated repository without recovering the VMs first. This saves time and can be used for example for testing software updates. VM Flash boot uses iSCSI technology to connect VM disks stored in the backup to a target to the ESXi host. In this test I recovered two VMs in isolated network and performed a software update for testing. The changes are not written to the recovery point that i\u0026rsquo;m using. When i\u0026rsquo;m finished with testing i can discard the VMs with a single click so that all the changes are lost. Cross-Platform Recovery. Cross-Platform Recovery allows exporting virtual disks to other formats such as: VMDKs for VMware VHD for Hyper-V VDHX for Hyper-V This allows you to recover VMs in different environments (VMware to Hyper-V and Hyper-V to VMware). In this testI exported a VMware Virtual Machine with two VMDK disks to VHDX disks with the Backup Export Wizard. The \u0026ldquo;Export backups\u0026rdquo; wizzard is used and by selecting the VM and recovery point, disks and options to start the export job.\nWhen the export completed, I created a new VM in Hyper-V Manager and pointed to the restored VDHX disks. Then i was able to start a Hyper-V VM with the exported disks attached. Cross-Platform Recovery can be used for recover VM disks from between hypervisor such as VMware vSphere to Hyper-V and to VMware Workstation and VirtualBox.\nIn this part of the NAKIVO Backup \u0026amp; Replication review I highlighted the backup and recovery features. It was a pleasure to test the backup and recovery features because they were easy, quick and they worked out of the box without any troubleshooting skills needed. In the next review I will highlight the replication feature.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2018/08/03/nakivo-backup-replication-v7-5-installation/",
  "title": "Review NAKIVO Backup &amp; Replication v7.5 - Installation",
  "description": "",
  "date": "August 3, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "nakivo, reviews",
  "tags": "backup",
  "content":"In this part of the NAKIVO Backup \u0026amp; Replication review I highlight the installation and basic configuration.\nFor the installation of NAKIVO Backup \u0026amp; Replication you have several options. NAKIVO Backup \u0026amp; Replication can be installed as\nWindows or Linux installation package Virtual Appliance for VMware (OVF) In the Amazon AWS cloud Directly installed on NAS devices such as QNAP, Synology and NETGEAR In my test environment I installed NAKIVO Backup \u0026amp; Replication as Virtual Appliance (VA) on my VMware vSphere 6.7 environment. This is the latest available version of VMware vSphere when writing this blog. The installation of the virtual appliance can be deployed using the vSphere Client (HTML5) or the vSphere Web Interface.\nAfter specifying the name, ESXi host/cluster, storage and selecting the right network, the VA is ready to be deployed. The appliance uses the following resources as VM:\nOSUbuntu Linux (64-bit) Virtual ApplianceCPU2 vCPUMemory4 GBHard Disk 130 GBHard Disk 2520 GB (repository)Network Adapter1\rAfter the deployment the appliance is ready to start. In the console of the Virtual Appliance several settings can be adjusted such as: networking, security (SSH and root password), time and services using a menu interface.\nThe next step is the basic configuration.\nNetwork Attached Storage (NAS) Support\nAnother test i did is to install NAKIVO Backup \u0026amp; Replication directly on my QNAP NAS. The installation is straight forward. Download the NAKIVO QNAP package and install this using QNAP AppCenter. After the installation you\u0026rsquo;re ready to perform the basic configuration.\nBasic config\nAfter the installation is complete, you can log into NAKIVO Backup \u0026amp; Replication by opening the following URL:\nhttps://\u0026lt;IP_address_of_QNAP_NAS\u0026gt;:4443\nThe fist time create an user and you\u0026rsquo;re able to log in. In a three step wizard the following is configured:\nInventory: On what virtual/cloud environment are my VMs running (VMware, Hyper-V or AWS)? Transporter: That\u0026rsquo;s the component that performs the actual backup, replication and recovery as well the data compression, deduplication and encryption of the data. Repository: Where will the data stored. Inventory\nBecause I have a VMware vSphere environment, I connect to an ESXi or vCenter Server in the inventory tab.\nTransporter\nThe Virtual Appliance acts as transporter. The maximum load is default 6 concurrent tasks. It\u0026rsquo;s always possible to add extra transporters when needed.\nRepository\nFor the repository I use the onboard repository (uses hard disk 2) that is attached to the Virtual Appliance. The onboard repository compression and deduplication is configured by default.\nOther repositories options are: CIFS, NFS and Amazon EBS.\nUpdating\nWhen new updates are available they are displayed in the web interface.\nFor the Virtual Appliance (VA) download the updated installer and upload it the VA (/opt/nakivo/updates) folder. Open the console of the VA and select \u0026ldquo;Software Update\u0026rdquo; in the menu. It would be great when the upgrade process of the VA can be automated without any manually actions in feature releases.\nThis was the last step of the 3 step wizard. After approximately 15 minutes i\u0026rsquo;m ready with the installation and basic configuration of the Virtual Appliance. I can conclude the following after the installation and basic configuration of NAKIVO Backup \u0026amp; Replication test:\nThe installation of the Virtual Appliance and NAS option are simple and can be deployed very fast (minutes) without the need of a extra Windows licensing costs. When installing NAKIVO Backup \u0026amp; Replication on a NAS device. There is no need for VM resources or physical hosts which saves money Management via done by Web Browser, no software installation is needed "},{
  "section": "Blog",
  "slug": "/logbook/site/2018/08/01/nakivo-backup-replication-v7-5-released/",
  "title": "Review NAKIVO Backup &amp; Replication v7.5 released",
  "description": "",
  "date": "August 1, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "nakivo, review, reviews",
  "tags": "backup, VMware",
  "content":"NAKIVO announced today that NAKIVO Backup \u0026amp; Replication v7.5 is out of beta and available. This new version includes the following new features:\nSupport for VMware vSphere 6.7: It\u0026rsquo;s now officially compatible with the latest version of VMware vSphere. Cross-Platform Recovery: With the Cross-Platform Recovery feature, users can export VM data from VMware and Hyper-V backups into VMDK, VHD, or VHDX format. The exported files can then be used for recovery across different hypervisors, cross-platform VM data migration, long-term archival, or sandbox testing. Advanced Bandwidth Throttling: Allow you to set speed limits during data protection jobs to avoid network overload for example during business hours. Dell EMC Data Domain Boost Support: Dell EMC Data Domain: Integrates with the BoostFS plugin, combining benefits of the VM backup software with the source-side deduplication offered by Dell EMC Data Domain Boost. As a result of this integration, VM backup size can be reduced by up to 17X while VM backup speed can be improved by as much as 50%. NETGEAR ReadyNAS VM Backup Appliance: can be installed directly on NETGEAR ReadyNAS devices, creating a cost-effective VM backup appliance. The ReadyNAS-based appliance is a 5-in-1 solution featuring backup hardware, software, storage, built-in global data deduplication, and backup-to-cloud functionality. This is already possible with QNAP and Synology NAS devices. NAKIVO develops data protection solutions for VMware, Hyper-V, and cloud environments such as Amazon and Azure. I was asked to do an independent review of NAKIVO Backup \u0026amp; Replication. In a series of blog posts I will look closer to existing and new features of NAKIVO Backup \u0026amp; Replication v7.5. I\u0026rsquo;ll will be highlight the following topics:\nInstallation and basic configuration, link Backup and Recovery, link Replication, link Multi-Tenancy, editions and licensing and the final conclusion, link . Update: Augustus 27, 2018: Today version 8 of NAKIVO Backup \u0026amp; Replication is Generally Available (GA). This version includes the Business Continuity and Site Recovery Orchestration Solution. With v8 of NAKIVO Backup \u0026amp; Replication you can automate and orchestrate the entire site recovery process. Perform scheduled non-disruptive disaster recovery testing, planned failover, emergency failover, failback, and datacenter migration.\nMore information can be found here:\nNAKIVO VMware Backup, link NAKIVO Hyper-V Backup, link NAKIVO AWS EC2 backup. link NAKIVO Backup \u0026amp; Replication v7.5 full-featured trial download, link NAKIVO Backup \u0026amp; Replication v7.5 release notes, link NAKIVO Backup \u0026amp; Replication v8 release notes,link "},{
  "section": "Blog",
  "slug": "/logbook/site/2018/07/18/quick-tip-powercli-invalid-server-certificate-error/",
  "title": "Quick Tip - PowerCLI Invalid server certificate",
  "description": "",
  "date": "July 18, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "powercli, VMware",
  "content":"When trying to connect with PowerCLI to a vCenter Server Appliance the following error occurred:\nConnect-vIServer : 18-7-2018 13:20:10 Connect-VIServer Error: Invalid server certificate. Use Set-PowerCLIConfiguration to set the value for the InvalidCertificateAction option to Prompt if you\u0026rsquo;d like to connect once or to add a permanent exception for this server.\nAs stated in the error, the Set-PowerCLIConfiguration command can be used to ignore the certificate check using the following syntax:\nSet-PowerCLIConfiguration -InvalidCertificateAction Ignore -Confirm:$false After this command you\u0026rsquo;re able to connect to the vCenter without the certificate error.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2018/06/04/slow-network-throughput-between-ubiquiti-edgerouter-vlans/",
  "title": "Slow network throughput between Ubiquiti EdgeRouter VLANs",
  "description": "",
  "date": "June 4, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "home-lab",
  "tags": "home-lab",
  "content":"After putting my NAS in a separate storage VLAN I noticed that my network throughput was slow to and from the NAS. The throughput of a simple file copy from a windows laptop (wired at 1 GbE) to a SMB share on the NAS was only 17,7 MB. The Windows laptop was on a different VLAN then the NAS.\nAfter some troubleshooting I noticed that the throughput within the VLAN was okay (120 MB/s on a 1 GbE network). The routing between the VLANs is done by Ubiquiti EdgeRouter Lite. I investigated the Ubiquiti EdgeRouter settings by using SSH and noticed that VLAN forwarding for IPv4 was disabled by using the following command:\nubnt@ubnt:~$ show ubnt offload\rIP offload module : loaded\rIPv4\rforwarding: enabled\rvlan : disabled\rpppoe : disabled\rgre : disabled\rIPv6\rforwarding: disabled\rvlan : disabled\rpppoe : disabled\rIPSec offload module: loaded\rTraffic Analysis :\rexport : disabled\rdpi : disabled\rversion : 1.354 The following commands enable VLAN forwarding for IPv4 and save the setting:\nubnt@ubnt:~$ configure\r[edit]\rubnt@ubnt:# set system offload ipv4 vlan enable\r[edit]\rubnt@ubnt: commit\r[edit]\rubnt@ubnt:# save\rSaving configuration to \u0026#39;/config/config.boot\u0026#39; ...\rDone\r[edit] This config change can be done without a reboot of the router. After making this change the network throughput was as expected. So make sure to do some tests and check VLAN offloading in the Ubiquiti EdgeRouter (it\u0026rsquo;s default disabled).\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2018/05/01/configure-vm-autostart-in-the-esxi-embedded-host-client/",
  "title": "Configure VM autostart in the ESXi Embedded Host Client",
  "description": "",
  "date": "May 1, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "esxi-2, VMware",
  "content":"For a standalone ESXi host I manage the host with the ESXi Embedded Host Client (HTML client). So no vCenter Server is used to manage this host. The standalone ESXi host is 24×7 up and running and has some critical infrastructure VMs for my lab and home environment. The critical VMs are automatically powered-on when when the ESXi host is booted with the autostart option in the host client.\nIn the latest versions of the Host Client (In vSphere 6.7 version 1.25 is included that already contains the autostart improvements) the autostart configuration is greatly improved what result in an easier configuration of autostart. if you are on vSphere 6.0 or 6.5 I suggest to upgrade to the latest ESXi Embedded Host Client before configuring autostart.\nThe upgrade of the Host client is easy, no maintenance mode and reboot of the ESXi host is needed. The upgrade can be done by following these steps:\nDownload the latest VIB for here, link Upload the VIB on a datastore on your ESXi host SSH to the ESXi host Enter the following command to update the host client esxcli software vib update -v /vmfs/volumes/\u0026lt;datastore\u0026gt;/\u0026lt;vibname.vib\u0026gt; Refesh the host client webpage https://\u0026lt;esxihostname\u0026gt;/ui/ Check the version information in the host client Help -\u0026gt; About Configure autostart in the ESXi Embedded Host Client\nOpen the ESXi host client by using the following URL: https://\u0026lt;esxihostname\u0026gt;/ui/ Go to: Manage -\u0026gt; System -\u0026gt; Autostart-\u0026gt;Edit Settings Enable: Yes Start delay: 60 seconds Stop delay: 60 seconds Stop action: shut down Wait for heartbeat: yes Save Below the screen are the VMs listed. First enable autostart per VM by using the \u0026ldquo;Enable autostart for this VM\u0026rdquo; button. Once the autostart is enabled per VM, the order can be configured by increase or decrease the start order. The autostart order is displayed in the \u0026ldquo;autostart order\u0026rdquo; field. Configure the autostart and order for the VMs you want to automatically start when the ESXi server is booted. Reboot the ESXi host to test the autostart With older versions of the ESXi Embedded Host Client it is \u0026ldquo;more complicated\u0026rdquo; to set the start order per VM. To set the autostart order with older versions:\nEnable autostart as described above In the Virtual Machines section, right click on the field row and \u0026ldquo;Select columns\u0026rdquo;. Select the following columns: Autostart order Start delay Stop delay Right click on the VM with the \u0026ldquo;Autostart order\u0026rdquo; status on Unset and select \u0026ldquo;increase\u0026rdquo; to enable autostart and set the order Configure the autostart and order for the VMs you want to automatically start when the ESXi server is booted. Reboot the ESXi host to test the autostart "},{
  "section": "Blog",
  "slug": "/logbook/site/2018/04/23/upgrade-the-vcenter-server-appliance-vcsa-to-version-6-7/",
  "title": "Upgrading a vCenter Server Appliance (VCSA) to version 6.7",
  "description": "",
  "date": "April 23, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware, vSphere",
  "tags": "VMware, vSphere",
  "content":"Last week VMware launched vSphere 6.7. In this blog post I show how easy it is to upgrade a vCenter Server 6.x appliance to a new vCenter Server 6.7 appliance using the graphical interface (GUI) upgrade. The GUI upgrade uses a two stage process:\nStage 1: Deploy a new vCenter Server 6.7 appliance Stage 2: Transfer the services and configuration data from the old to the new appliance Upgrading the vCenter Server Appliance includes deploying a new appliance (version 6.7). The configuration and data is transferred from old (6.0 or 6.5) appliance to the new vCenter Server 6.7 Appliance. The old appliance is still available in a powered down state in the vCenter Server inventory after the upgrade.\nvSphere 6.7 is the last release to include vCenter Server for Windows. After this release, vCenter Server for Windows will not be available! So make sure that all new deployments and upgrades are using the the vCenter Server Appliance (VCSA)!\nNew enhancements Some cool enhancements of the vCenter Server 6.7 appliance are:\nThe vCenter Server with Embedded PSC supports Enhanced Linked Mode. This gives the following benefits: No load balancer required for high availability and fully supports native vCenter Server High Availability. SSO Site boundary removal provides flexibility of placement. Supports vSphere scale maximums. Allows for 15 deployments in a vSphere Single Sign-On Domain. Reduces the number of nodes to manage and maintain. vSphere 6.7 supports repointing a vCenter Server to another external Platform Services Controller in the same SSO site and different SSO site within the same SSO domain vSphere 6.7 supports repointing a vCenter Server (Appliance only) to another external Platform Services Controller in a different SSO domain. The vSphere Appliance Management Interface (VAMI) on port 5480 has some great new enhancements: Upgraded Clarity interface Dedicated monitor tab Services tab. See the status of the VCSA services and the ability to: stop, start and restart services. So no CLI is needed for that anymore! Backup scheduler. The backup scheduler let you schedule a backup of the VCSA and select how many backups are retained. The supported protocols for backup locations are: FTP, FTPS, HTTP, HTTPS and SCP. The vSphere Client (HTML5) has updated and includes new workflows on Update Manager and vSAN for example. Before upgrading Before upgrading make sure to check this:\nCheck the compatibility of the VMware and third party products you are using. When writing this blog the following VMware products are not compatible (yet) with vSphere 6.7: NSX Horizon. Horizon 7.4 is not compatible with the Instant Clone API used in vSphere 6.7. Instant Clone support for vSphere 6.7 will be available in an upcoming Horizon release. VMware Integrated OpenStack (VIO) VMware vSphere Integrated Containers (VIC) vCloud Director For the upgrade order of multiple VMware products see the \u0026ldquo;Update sequence for vSphere 6.7 and its compatible VMware products (53710)\u0026rdquo; KB, link It\u0026rsquo;s only possible to upgrade the vCenter Server Appliance version 6.0 or 6.5 to 6.7. It\u0026rsquo;s not supported to upgrade from 6.5 U2 to 6.7! It will be provided in a future release! With vSphere 6.7 Update 1 (not available yet) it\u0026rsquo;s possible to upgrade from vSphere 6.5 U2 to vSphere 6.7 U1. For vSphere 5.5 you must first upgrade to vSphere 6 or vSphere 6.5 before upgrading to vSphere 6.7 Make sure you have enough capacity in the cluster to add an extra vCenter Server Appliance (VCSA). The old appliance can be removed when the upgrade is successful. Here\u0026rsquo;s an overview of the hardware specifications needed. In vSphere 6.7, only TLS 1.2 is enabled by default. vSphere 6.7 disables TLS 1.0 and TLS 1.1 protocols for improved security. Some applications might support only the older protocols. To revert TLS 1.0 and TLS 1.1 protocols use the TLS reconfigurator tool. The tool can be found in the appliance under: /usr/lib/VMware-TlsReconfigurator/VcTisReconfigurator. Windows 2003 and XP are no longer supported. Platform Services Controller (PSC) hardware sizing\nOptionEnvironmentvCPUMemory (GB)Default Storage (GB)Platform Services Controller2460\rvCenter Server Appliance (VCSA) hardware sizing\nOptionEnvironmentvCPUMemory (GB)Default Storage (GB)TinyUp to 10 hosts or 100 VMs210250SmallUp to 100 hosts or 1000 VMs416290MediumUp to 400 hosts or 4000 VMs824425LargeUp to 1000 hosts or 10000 VMs1632640X-LargeUp to 2000 hosts or 35000 VMs2448980\rUse a temporary fixed IP address Make sure that you have the SSO administrator and root account information of the existing VCSA Have a backup of the VCSA Disable Fully Automated DRS during the upgrade The upgrade steps In the following steps a single vCenter Server Appliance with an embedded PSC and vCenter Server role will be upgraded to version 6.7:\nMount the VCSA ISO (VMware-VCSA-all-6.7.0-8217866.iso) Navigate to the :\\vcsa-ui-installer\\win32\\ folder and open the installer.exe Choose for the upgrade option. With the option you can upgrade a PSC and vCenter Server appliance. 1. The upgrading process will enter \u0026ldquo;stage 1\u0026rdquo;, deploy the appliance. 2. Accept the End user License Agreement. 3. Connect to the source vCenter Server 6.x appliance and ESXi server. Enter the SSO and root username of the VCSA and the ESXi server that manages the source appliance. Accept the certificate warning. 4. Select the deployment target. I use the same ESXi host where the source VCSA is running. Accept the certificate warning. 5. Set up the target appliance VM name and root password. The upgrade will maintain the original FQDN name of the VCSA. This name will be used as VM name in the VCSA inventory and can be changed later! 6. Select the (new) size of the new appliance. 7. Select the datastore 8. Configure the network settings. Make sure to use an new temporarily IP address for the upgrade. After the upgrade the new appliance will use the original IP address! 9. Click finish to start stage 1 After a while the following message appears and you\u0026rsquo;re ready to continue to stage 2. 1. Introduction. Stage 2 will copy data from the source vCenter Server Appliance to the new deployed appliance. 2. A pre-upgrade check will run, after the pre-upgrade check has finished warning messages will be shown such as: Disable Fully Automated DRS during the upgrade Files that cannot be used with Update Manager 6.7 will not be copied from the source. An NSX extension has been found that may not work after the upgrade 3. The data types that needs to migrated can be selected. A new cool thing is that the amount of time that\u0026rsquo;s involved is displayed for the Configuration data. 4. Configure the VMware Customer Experience Improvement Program (CEIP) 5. Ready to start fase 2 by selecting \u0026ldquo;I have backed up the source vCenter Server and all the required data from the database. A shutdown warning is displayed, the source VCSA will be shut down. The data transfer and appliance setup is running A couple of messages will be displayed about for example Auto Deploy and that TLS 1.0 and TLS 1.1 are disabled in vSphere 6.7. Stage 2 is completed and the vCenter Server Appliance is deployed. Now you can access the vCenter Server by using vSphere Client (HTML5), the vSphere Web Client or VMware Appliance Management Interface by using the original FQDN of the vCenter Server Appliance. After the upgrade the VCSA is upgraded to version 6.7.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2018/04/16/dhcp-problems-after-ubiquiti-edgerouter-firmware-upgrade/",
  "title": "DHCP problems after Ubiquiti EdgeRouter firmware upgrade",
  "description": "",
  "date": "April 16, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "home-lab",
  "tags": "homelab",
  "content":"In my homelab I use a Ubiquiti EdgeRouter Lite 3-port and UniFi AC Access Points for some time now. After upgrading the Ubiquiti EdgeRouter to the latest firmware (EdgeOS 1.10.1) my WIFI devices where unable to get an IP address. I have different VLANs defined on the EdgeRouter for the WIFI networks. Each VLAN has it’s own DHCP scope configured.\nIn the EdgeRouter GUI I didn\u0026rsquo;t find any clue why the WIFI devices didn\u0026rsquo;t get an IP address anymore, so I opened a SSH session to the EdgeRouter and start troubleshooting. First I tried to start the DHCP service by using this command.\nsudo service dhcpd start The following error is displayed:\n[\u0026hellip;.] Cannot start the DHCP server because configuration file /opt/vyatta/etc/d [FAILconf is absent. \u0026hellip; failed!\nThe DHCP service cannot be started, that\u0026rsquo;s the problem why the WIFI devices didn\u0026rsquo;t get an IP address anymore. Then i looked in the following log files:\ncat /var/log/messages\rcat /var/log/vyatta/vyatta-commit.log In the vyatta-commit.log the following error is displayed under the [service dhcp-server] section:\n[ service dhcp-server ] Static DHCP lease IP \u0026lsquo;192.168.249.11\u0026rsquo; under static mapping \u0026lsquo;Chromecast\u0026rsquo; under shared network name \u0026lsquo;WIFI\u0026rsquo; is already is in by static-mapping \u0026lsquo;\u0026rsquo;. DHCP server configuration commit aborted due to error(s).\nIn the DHCP scope for the WIFI VLAN there was a static IP mapping called \u0026ldquo;Chromecast\u0026rdquo;. I removing the \u0026ldquo;Chromecast\u0026rdquo; static IP mapping in the GUI of the EdgeRouter. In the SSH session tried to start the DHCP service by using the following command.\nsudo service dhcpd start Starting DHCP server daemon\u0026hellip;\nThe DHCP service is started. In the vyatta-commit.log no new errors are displayed and the WIFI devices were able to get an IP address. Removing the \u0026ldquo;Chromecast\u0026rdquo; static mapping cleared the duplicate static IP error.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2018/03/06/top-vcenter-server-appliance-vcsa-troubleshooting-commands/",
  "title": "Top vCenter Server Appliance (VCSA) troubleshooting commands",
  "description": "",
  "date": "March 6, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware",
  "tags": "vcsa",
  "content":"During the configuration and troubleshooting of vCenter Server Appliances (VCSA) I maintain a list of commands that I frequently use. This list contains my top configuration and troubleshooting VCSA commands:\nEnable access the Bash shell: shell.set –enabled true Permanently configure the default Shell to BASH for Root: chsh -s /bin/bash root Log location of the VCSA: /var/log/vmware/vsphere-client/logs/ VCSA service management: Check status service-control –status –all List services service-control –list Stop all services service-control –stop –all Start all services service-control –start –all Join the AD domain from PSC: /opt/likewise/bin/domainjoin-cli join domain.nl aduser password After the AD domain join reboot the appliance\nCheck the AD domain join status: /opt/likewise/bin/domainjoin-cli query Leave AD domain join: /opt/likewise/bin/domainjoin-cli leave After the AD domain leave reboot the appliance\nCertificate Manager location: /usr/lib/vmware-vmca/bin/certificate-manager Test port connectivity from the VCSA: curl -v telnet://target ip address:port Example: curl –v telnet://mypsc.domain.local:443 Identity which PSC the VCSA is pointing to: /usr/lib/vmware-vmafd/bin/vmafd-cli get-ls-location –server-name localhost Repoint the VCSA to another PSC: cmsso-util repoint –repoint-psc \u0026#34;PSC01\u0026#34; Check the PSC replication partner: /usr/lib/vmware-vmdir/bin/vdcrepadmin -f showpartners -h localhost -u administrator -w password Check the PSC replication status: /usr/lib/vmware-vmdir/bin/vdcrepadmin -f showpartnerstatus -h localhost -u administrator -w password Output:\nPartner: psc02 Host available: Yes Status available: Yes My last change number: 4274 Partner has seen my change number: 4274 Partner is 0 changes behind. VDC Admin tool test LDAP and force replication /usr/lib/vmware-vmdir/bin/vdcadmintool "},{
  "section": "Blog",
  "slug": "/logbook/site/2018/02/27/proactively-manage-vsphere-environment-runecast-analyzer/",
  "title": "Proactively manage your vSphere environment with Runecast Analyzer",
  "description": "",
  "date": "February 27, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "reviews, runecast",
  "tags": "VMware",
  "content":"I’ve got the opportunity to test Runecast Analyzer. Runecast Analyzer Proactively use VMware KBs, best practices and security hardening guidelines to identify problems in your VMware environment. In this review you find my own experiences of testing Runecast Analyzer.\nDeployment\nThe deployment of Runecast Analyzer is easy. It\u0026rsquo;s an on-premises deployment on you\u0026rsquo;re vSphere environment. Within a couple of minutes the Runecast is up and running. First download and deploy the virtual appliance OVA in an existing vSphere 5 or higher environment. During the deployment 3 appliance configuration sizes are available:\nDeploymentvCPUMemory (GB)Storage (GB)NetworkSmall2490100Mbit=\u0026gt;Medium4890100Mbit=\u0026gt;Large83290100Mbit=\u0026gt;\rChoosing the appliance size, set the IP address and you\u0026rsquo;re ready to access the appliance using a web browser After the appliance is deployed, the updating of the KB definitions, updates, application and OS updates can be configured in the VA admin interface of the appliance. When using the automatic updating feature you\u0026rsquo;re always up-to-date.\nWhen the appliance has no internet connection, offline updates are available on the RuneCast website.\nScan the vSphere environment\nAdd one ore more vCenter Server(s) and you\u0026rsquo;re ready to fire you\u0026rsquo;re first scan of the VMware environment. The scan can be manually performed of scheduled.\nAfter the scan of the environment the issues are displayed in a dashboard. The issues are categorized in critical, major and medium.\nVersion 1.7 adds a new dashboard called \u0026ldquo;issues by layer\u0026rdquo;. This dashboard categories the issues in 5 main layers: Management, VM, Compute, Network and Storage.\nThe detected issues are added in the five layers. This dashboard is interactive. By selecting the layer and issue you can drill-down and find the affected component and root cause.\nIt is possible to integrate RuneCast in the vSphere Web client. The plugin displays all issues detected by RuneCast Analyzer with the details and their root causes.\nThe vSphere Web Client HTML5 page looks awesome.\nMeltdown and Spectre\nRunecast is continuously monitoring the VMware KB articles and is able to detect Spectre and Meltdown issues. The great thing is that when VMware is updating or adding a Spectre or Meltdown KB issue, Runecast monitors that and alert you when the vSphere environment is affected. In the following example the Spectre/Meltdown issues are found.\nYou can drill down to see what hosts are effected.\nLog Analytics\nRunecast Analyzer includes log analytics. Runecast collects the syslogs from the ESXi hosts and do a smart analytics to discover possible problems found in KBs.\nHardening\nRunecast Analyzer uses VMware Security checks (https://www.VMware.com/security/hardening-guides.html ) and DISA STIG 6 to check the compliance of the vSphere environment. The results are reports in a dashboard.\nvSAN support\nVersion 1.7 adds support for VMware vSAN environments. It scans vSAN clusters and test their configurations against VMware KB articles and best practices. When issues are found guides are added how to fix them. For example in a customer vSAN environment Runcast Analyzer found the following vSAN problem:\nWhen drilling down the guide tells me that this issue is fixed in ESXi 6.5 Update 1 (vSAN 6.6.1). After patching, the issue was solved without occurring in the vSAN environment. This is what I called \u0026ldquo;proactive management\u0026rdquo;.\nConclusion\nWith Runecast Analyzer every VMware vSphere admin can proactively identify possible (security) problems in there vSphere environment. The installation is easy and fast. Within a couple of minutes the appliance ready for the first scan. As VMware consultant I use Runecast on frequently basis which gives me a great overview of the state of the vSphere environment i\u0026rsquo;m working with.\nEvery new release adds great new features such as vSAN and vSphere Web Client (HTML5) support. The next release will contain NSX-V support.\nIn my opinion Runecast Analyzer is a must have tool for every VMware vSphere admin to proactively monitor there environment.\nWanna try?\nThere is a 14-day free trial available from this link .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2018/02/13/firefox-not-trusts-vcenter-ca-signed-certificates/",
  "title": "Firefox does not trusts vCenter signed CA certificates",
  "description": "",
  "date": "February 13, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vcenter-2",
  "tags": "certificate, vcenter, vcsa",
  "content":"For a vCenter Server environment I replaced the default SSL certificates with CA signed SSL certificates. The Platform Service Controller (PSC) is configured as VMCA subordinate CA. When opening the vSphere Web/HTML5 Client, Firefox displays the following warning: Your connection is not secure.\nThis is because Firefox does not trust root certificates in the Windows certificate store. Since Firefox 49 a new option is included which allows Firefox to trust root certificates. This option is not enabled by default.\nThe following steps illustrate how to configure Firefox to use the Windows certificate store:\nOpen Firefox In the address bar type: about:config Accept the warning Navigate to Preference name: security.enterprise_roots.enabled Set the value to: true Firefox now trust the root certificates in the Windows certificate store.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2018/01/31/installing-vmware-esxi-fails-cisco-ucs-blade-flexflash-sd-cards/",
  "title": "Installing VMware ESXi fails on Cisco UCS Blades with FlexFlash SD cards",
  "description": "",
  "date": "January 31, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi",
  "tags": "cisco-ucs, esxi-2",
  "content":"When implementing a new Cisco UCS environment I encountered the following error when trying to install VMware ESXi 6.5 on a Cisco UCS Blade server with a FlexFlash SD card:\nOperation failed This program has encountered an error: partedUtil failed with message: \u0026ldquo;Error: Can’t have a a partition outside the disk! Unable to read partition table for device /vmfs/devices/disks\u0026hellip;\u0026hellip;\u0026hellip;\u0026hellip;\u0026hellip;\u0026hellip;.\nThe solutions is simple, perform a format of the SD card in UCSM before installing VMware ESXi. The format option can be found under: Equipment -\u0026gt; Servers -\u0026gt; Select the server -\u0026gt; Inventory -\u0026gt; Storage - Controller -\u0026gt; Select the FlexFlash controller -\u0026gt; Format SD Cards\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2018/01/10/know-spectre-meltdown-vmware-environments/",
  "title": "What to know about Spectre and Meltdown with VMware environments",
  "description": "",
  "date": "January 10, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware",
  "tags": "VMware",
  "content":"You probably heard about the two massive security flaws: Spectre and Meltdown (link ). These security flaws allow attackers to access “secure” data by compromising privileged processor memory from major manufacturers, including Intel, AMD, and ARM. So the most CPUs are affected by Spectre and Meltdown security flaws! In this blogpost I highlight what to do in VMware environments.\nLast Updated:\nJanuari 14, 2018. All the patches associated with VMSA-2018-0004 have been pulled back from the online and offline portal. Intel has notified VMware of recent sightings that may affect some of the initial microcode patches that provide the speculative execution control mechanism (Intel Sightings) for a number of Intel Haswell and Broadwell processors. Link Januari 17, 2018. LoginVSI gives a free license to all companies who are in need of performance testing their VMware Horizon VDI environment regarding meltdown and spectre security patches. This special license will be valid until March 31, 2018, and offers unlimited users, unlimited locations, and includes all standard user workloads. More information can be found here Link . Januari 22, 2018. VMSA-2018-0002.3 updated. Updated security advisory after release of ESXi 5.5 patch ESXi550-201801301-BG that has mitigation against both CVE-2017-5753 and CVE-2017-5715 on 2018-01-22. This patch does NOT include the unstable microcode mentioned in KB52345. Februari 3, 2018. Added the VMware Performance Impact for CVE-2017-5753, CVE-2017-5715, CVE-2017-5754 KB. Link Februari 8, 2018. VMware Virtual Appliance updates address side-channel analysis due to speculative execution (VMSA-2018-0007) is added. Link Februari 15, 2018. VMSA-2018-0007 is updated. Link March 20, 2018. Updated KB VMSA-2018-0004.3. New patches available for vCenter Server, ESXi, Workstation and Fusion. Currently these security flaws can be divided into the following categories:\nExploit NameExploited VulnerabilityExploit Name / CVEMicrocode update required on the hostVariant 1SpectreBounds check bypassCVE-2017-5753NoVariant 2SpectreBranch target injectionCVE-2017-5715YesVariant 3MeltdownRogue data cache loadCVE-2017-5754No\rOperating System patches will protect against number variant 1 and 3. With variant 2 a CPU microcode update is required.\nWhat components needs to patched from a hypervisor perspective? With a type 1 hypervisor such as VMware ESXi or Hyper-V the following components needs to be patched:\nCPU microcode (BIOS/UEFI update) Server firmware Hypervisors Operating systems Virtual machines Virtual appliances So what\u0026rsquo;s the first step to perform? The first thing to start is to develop a patch strategy. Here\u0026rsquo;s an example of tasks to perform to develop the patch strategy:\nIdentify all the hardware components in the datacenter(s) that. Besides the hosts where the hypervisor is running there are connections to networking and storage components. There are tools available (for VMware environments) to help with this such as: RVTools, Link Verify Hypervisor-Assisted Guest Mitigation (Spectre) patches using PowerCLI, Link Document your vSphere Environment script, Link Use the Microsoft PowerShell Module \u0026ldquo;SpeculationControl\u0026rdquo; to verify that protections are enabled. See the Microsoft section below for more information. PowerCLI can be used for example to identify the VM hardware version with a simple oneliner: [code language=\u0026ldquo;PowerShell\u0026rdquo;] Get-VM | Select Name, PowerState, Version | Out-GridView [/code]\nIdentify per vendor what patches are available and how these patches needs to be installed. Identify the hardware that can\u0026rsquo;t be patched anymore. Contact the hardware vendor for a possible solution and decide what to do. Make sure your virus/anti malware solution is compatible with the new patches. Contact the antivirus software vendor for compatibility information. What\u0026rsquo;s the impact after applying those patches? Test the patches first in a separate environment. Works everything after deploying? Is there a performance impact when installing these patches? Identify what systems needs to be first patched (for example shared and multi tenant environments). The security best practices is to install all the patches available per vendor. Communicate with the vendor so you know when patches will be released. The comming days/weeks a lot of vendors will release patches against Spectre and Meltdown. Vendor patch information Here\u0026rsquo;s an overview of some vendors and there current patches available.\nVMware\nThe VMware Security Advisories webpage displays the latest remediation for security vulnerabilities . The following advisories are available when writing this blog:\nVMSA-2018-0002.2 (updated 2018-01-13), about Hypervisor-Specific remediation VMSA-2018-0004.4 about Hypervisor-Assisted Guest Remediation To protect against hardware mitigation for branch target injection issue identified in CVE-2017-5715 (See VMware Security Advisory VMSA-2018-0004.3 and Hypervisor-Assisted Guest Mitigation for branch target injection (52085) ) use the following steps:\nUpgrade the vCenter Server to: 6.5 U1g 6.0 U3e 5.5 U3h Apply the VMware ESXi patches: For ESXi 6.5: ESXi650-201803401-BG* and ESXi650-201803402-BG** For ESXi 6: ESXi600-201803401-BG* and ESXi600-201803402-BG** For ESXi 5.5: ESXi550-201803401-BG* and ESXi550-201803402-BG** The ESXi patches listed above will also automatically apply these critical CPU microcode updates if the server\u0026rsquo;s BIOS/Firmware has not already applied. The ESXi patches apply the microcode updates listed in Table 1. found in VMware KB 52085 . For each Virtual Machine (VM), enable Hypervisor-Assisted Guest mitigation via the following steps:\nPower down the VM Create a snapshot of the VM in case of issues Power on the VM Apply all security patches for your guest OS Ensure that all VMs are using Hardware Version 9 (available in ESXi 5.1 and above) or higher. Hardware version 9 is the minimum requirement for Hypervisor-Assisted Guest Mitigation for branch target injection (CVE-2017-5715). For best performance, Virtual Hardware Version 11 or higher is recommended. Virtual Hardware Version 11 (available in ESXi 6.0 and above) enables PCID/INVPCID. These features may reduce the performance impact of CVE-2017-5754 mitigations on CPUs that support those features. ESXi 6.5 uses hardware version 13. Test the VM if everything works as excepted. If not roll back to the snapshot Remove the snapshot vMotion and EVC information\nvMotion and EVC Information An ESXi host that is running a patched vSphere hypervisor with updated microcode will see new CPU features that were not previously available. These new features will be exposed to all Virtual Hardware Version 9+ VMs that are powered-on by that host. Because these virtual machines now see additional CPU features, vMotion to an ESXi host lacking the microcode or hypervisor patches applied will be prevented. The vCenter patches enable vMotion compatibility to be retained within an EVC cluster. In order to maintain this compatibility the new features are hidden from guests within the cluster until all hosts in the cluster are properly updated. At that time, the cluster will automatically upgrade its capabilities to expose the new features. Unpatched ESXi hosts will no longer be admitted into the EVC cluster.\nMore information about the vMotion and EVC changes see the KB \u0026ldquo;Hypervisor-Assisted Guest Mitigation for branch target injection (52085 )\u0026rdquo;.\nPower down and start the VM to see the new EVC capabilities! After installing all the patches check the Hyperivosr-Assisted Guest Mitigation with William Lam\u0026rsquo;s PowerCLI script (Link ). It happen that EVC must be disabled and enabled before the guest VMs get the proper EVC instructions! More information:\nVMware Security AdvisoriesLinkSign up to the Security-Announce mailing list to receive new and updated VMware Security Advisories and click ‘subscribe to article’ on the right side of this page to be alerted when new information is added to this document.LinkUpdated Advisory VMSA-2018-004.3LinkHypervisor-Assisted Guest Mitigation for branch target injection (52085)LinkVMware Performance Impact for CVE-2017-5753, CVE-2017-5715, CVE-2017-5754 (aka Spectre and Meltdown) (52337)LinkVMware Response to Speculative Execution security issues, CVE-2017-5753, CVE-2017-5715, CVE-2017-5754 (aka Spectre and Meltdown) (52245)LinkUpdated: januari 11 2018vCenter Server Appliance (and PSC) 6.5 / 6.0 Workaround for CVE-2017-5753, CVE-2017-5715, CVE-2017-5754 (aka Spectre and Meltdown) (52312)Link\rOther vendor patch information Here is an list of resources of vendors I frequently work with:\nHPE\nIt looks like HPE G6 and G7 models will not been updated anymore!\nHPE, Hewlett Packard Enterprise Product Security Vulnerability AlertsLinkBulletin: (Revision) HPE ProLiant, Moonshot and Synergy Servers - Side Channel Analysis Method Allows Improper Information Disclosure in Microprocessors (CVE-2017-5715, CVE-2017-5753, CVE-2017-5754)Link\rDell\nDell, Microprocessor Side-Channel Vulnerabilities (CVE-2017-5715, CVE-2017-5753, CVE-2017-5754): Impact on Dell EMC products (Dell Enterprise Servers, Storage and Networking)Link\rCisco\nCPU Side-Channel Information Disclosure VulnerabilitiesLink\rFortinet\nCPU hardware vulnerable to Meltdown and Spectre attacksLink\rNVIDIA\nNVIDIA,\u0026nbsp;Security Bulletin: NVIDIA GPU Display Driver Security Updates for Speculative Side ChannelsLink\rUbuntu\nCVE-2017-5754Link\rMicrosoft\nWindows Client Guidance for IT Pros to protect against speculative execution side-channel vulnerabilities.This article includes a PowerShell script to verify that protections are enabled.LinkUnderstanding the performance impact of Spectre and Meltdown mitigations on Windows Systems including performanceLinkAlternative protections for Windows Server 2016 Hyper-V Hosts against the speculative execution side-channel vulnerabilitiesLinkProtecting guest virtual machines from CVE-2017-5715 (branch target injection)Link\rCitrix\nCitrix Security Updates for CVE-2017-5715, CVE-2017-5753, CVE-2017-5754Link\rSynology\nSynology-SA-18:01 Meltdown and Spectre AttacksLink"},{
  "section": "Blog",
  "slug": "/logbook/site/2018/01/02/esxi-root-account-locked/",
  "title": "Unable to login because of a ESXi root account lockout",
  "description": "",
  "date": "January 2, 2018",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vSphere",
  "tags": "esxi-2, VMware",
  "content":"When starting one of my VMware ESXi 6.5 lab hosts I was unable to login using the vSphere Host Client. I tried to make an SSH session to the host but got an “Access Denied” message.\nUsing the Direct Console Interface (DCUI) I was able to login using the root account. In the log folder (under /var/log) I found that the root account is locked because of many failed attempt by investigate the following log files:\nvobd.log\n2018-01-02T10:57:00.003Z: [GenericCorrelator] 5612887277us: [vob.user.account.locked] Remote access for ESXi local user account \u0026#39;root\u0026#39; has been locked for 900 seconds after 58 failed login attempts.\r2018-01-02T10:57:00.003Z: [UserLevelCorrelator] 5612887277us: [vob.user.account.locked] Remote access for ESXi local user account \u0026#39;root\u0026#39; has been locked for 900 seconds after 58 failed login attempts.\r2018-01-02T10:57:00.003Z: [UserLevelCorrelator] 5612887502us: [esx.audit.account.locked] Remote access for ESXi local user account \u0026#39;root\u0026#39; has been locked for 900 seconds after 58 failed login attempts auth.log\n2018-01-02T11:02:08Z sshd[117700]: Connection from 192.168.249.23 port 63449\r2018-01-02T11:02:09Z sshd[117701]: pam_tally2(sshd:auth): user root (0) tally 72, deny 5\r2018-01-02T11:02:14Z sshd[117700]: error: PAM: Authentication failure for root from 192.168.249.23\r2018-01-02T11:02:14Z sshd[117710]: pam_tally2(sshd:auth): user root (0) tally 73, deny 5 By default the ESXi 6.x password requirements for lockout behavior are:\nA maximum of ten failed attempts is allowed before the account is locked Password lockout is active on SSH and the vSphere Web Service SDK Password lockout is not active on the Direct Console Interface (DCUI) and the ESXi Shell To view the number of failed login attempt use the following command:\npam_tally2 --user root In my example the there were 58 failed root login attempts:\nLogin Failures Latest failure From root 58 01/02/18 10:56:59 unknown The clear the the password lockout use the following command:\npam_tally2 --user root --reset After this command I was able to login the vSphere Host Client. In the vSphere Host Client I found the VM that is causing the root account lockout:\nThe VM was monitoring the vSphere ESXi host with the wrong root password. After changing the password the account lockout problem was solved.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2017/10/23/deploy-ovaovf-fails-certificate-error/",
  "title": "Deploy an OVA/OVF fails with certificate error",
  "description": "",
  "date": "October 23, 2017",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vSphere",
  "tags": "vcenter, VMware",
  "content":"When trying to deploy an OVA/OVF with the vSphere Web Client the following error is displayed:\nThe operation failed for an undetermined reason. Typically this problem occurs due to certificates that the browser does not trust. If you are using self-signed or custom certificates, open the URL below in a new browser tab and accept the certificate, then retry the operation.\nThis error occurs with vSphere 6.5 because the certificates are not trusted. The self-signed certificates are used and are not added to the trusted root certification store.\nTo deploy a OVF/OVA to the vCenter Server appliance trusted root CA must be added to the certificate store. The following steps will work with Chrome and Internet Explorer:\nOpen the vCenter URL: https://vcenter-FQDN Select the \u0026ldquo;Download trusted root CA certificates\u0026rdquo; and save the archive(ZIP) file Extract the archive (ZIP) Start – Run – MMC File – Add Snap-ins – Certificates – Computer Account – Local computer Open Trusted Root Certification Authories - Certificates Import the two *.crt certificates Close the browser and re-open the browser and navigate to the vCenter Server using the FQDN. Now the URL is marked as secure (green lock) and you\u0026rsquo;re able to import the OVA/OVF "},{
  "section": "Blog",
  "slug": "/logbook/site/2017/10/11/vmotion-two-vcenter-servers-different-sso-domains/",
  "title": "vMotion between two vCenter Servers with different SSO domains",
  "description": "",
  "date": "October 11, 2017",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "powercli, vSphere",
  "content":"Last week i did my first vMotion between two vCenter Servers with different SSO domain by using PowerCLI. This functionality is also known as “cross vCenter vMotion” and is not included in the vSphere Web Client yet. Without downtime it’s possible to live migrate VMs from one vCenter Server to another. Cool stuff!\nBefore starting the following requirements must be met:\nVMware vSphere 6.0 and later for the source and destination environment PowerCLI 6.5 and later vSphere Enterprise Plus license per ESXi host An active connection to the source and destination vCenter Server I created a simple script to vMotion the VMs between the two SSO domains. See the more information section for more advanced PowerCLI scripts from for example William Lam and Romain Decker.\nIn the script the following variables must be defined:\nSource vCenter Server, username and password Destination vCenter Server, username and password VM name will be moved Destination vSwitch Destination Portgroup Destination datastore Only VMs with one NIC are supported\nPowerCLI example script\nImport-Module VMware.PowerCLI\r#Variables\r$sourceVC = \u0026#39;sourcevc\u0026#39;\r$sourceVCUsername = \u0026#39;administrator@vsphere.local\u0026#39;\r$sourceVCPassword= \u0026#39;password!\u0026#39;\r$destVC = \u0026#39;destinationvc\u0026#39;\r$destVCUsername = \u0026#39;administrator@vsphere.local\u0026#39;\r$destVCPassword= \u0026#39;password\u0026#39;\r$destESXi = \u0026#39;destinationesxi\u0026#39;\r$vmname = \u0026#39;vmname\u0026#39;\r$Switchname = \u0026#39;destinationswitch\u0026#39;\r$NetworkName = \u0026#39;destinationvlan\u0026#39;\r$datastorename = \u0026#39;destinationdatastore\u0026#39;\r# Connect to the vCenter Servers\r$sourceVCConn = Connect-VIServer -Server $sourceVC -user $sourceVCUsername -password $sourceVCPassword\r$destVCConn = Connect-VIServer -Server $destVC -user $destVCUsername -password $destVCPassword\r$vm = Get-VM $vmname -Server $sourceVCConn\r$networkAdapter = Get-NetworkAdapter -VM $vm -Server $sourceVCConn\r$destination = Get-VMHost -name $destESXi -Server $destVCConn\r$destinationPortGroup = Get-VirtualPortGroup -VirtualSwitch $Switchname -name $NetworkName -VMHost $destination\r$destinationDatastore = Get-Datastore -name $datastorename -Server $destVCConn\rMove-VM -VM $vm -Destination $destination -NetworkAdapter $networkAdapter -PortGroup $destinationPortGroup -Datastore $destinationDatastore With this script I migrated a couple of VMs between to vSphere 6.5 environment with different SSO domains without any downtime.\nMore information:\nPowerCLI blog on the Move-VM cmdlet, link William Lam, Automation Cross vCenter vMotion, link Romain Decker Cross vMotion script from, link "},{
  "section": "Blog",
  "slug": "/logbook/site/2017/10/02/know-vmware-cloud-aws/",
  "title": "What to know about VMware Cloud on AWS",
  "description": "",
  "date": "October 2, 2017",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "aws, cloud, VMware",
  "content":"At VMworld 2017 in Las Vegas VMware Cloud on AWS (VMConAWS) is announced. This partnership between VMware and AWS makes it possible to create a VMware Software Defined Datacenter (SDDC) in Amazon Web Services (AWS). In this blogpost I highlight some information on “What is the VMware Cloud on AWS”.\nVMware Cloud on AWS is a cloud service that is fully configured and will be provisioned, operated and maintained directly by VMware. VMware handles all patching and updates. As customer you manage the VMs, not the platform. The following VMware products are included in VMware Cloud on AWS offering (compute, storage and networking): vSphere ESXi on dedicated bare-metal hardware with support for VMs and containers vCenter Server for management vSAN All Flash storage NSX for spanning on-premises and Cloud, advanced networking and security vRealize products are NOT included in this offering but can integrated In order for the on-boarding process to complete successfully there is a strict requirement that every organization be linked to an AWS account. Any services consumed within AWS will be billed through this Amazon account, while SDDC consumption will be billed through VMware. The minimal purchase is cluster of 4 ESXi hosts. The maximum cluster size is 16 hosts. It\u0026rsquo;s a dedicated platform that is not shared with other customers. You can add additional on-demand hosts and also remove hosts on-demand down to 4 ESXi hosts. Each ESXi host is has: 2 pCPU sockets, 18 cores per socket = 36 cores total and 72 with hyper-treading 512 GB RAM 14 TB NVMe RAW capacity storage (around 10 TB of usable storage per host). In a 4 node cluster 21 TB of usable storage is available with FTT=1 (RAID=1) protection The vSAN datastore is configured as a single datastore 10 Gbps+ (ENA) To extend storage you need to add extra ESXi hosts The following VMware features are enabled: vSphere HA, vMotion, DRS Elastic DRS Cluster functions are configured by VMware It\u0026rsquo;s possible to connect the on-premises VMware datacenter with VMware Cloud on AWS by using for example a L3 IPsec VPN and enable Hybrid Link Mode (HLM) between the two vCenter servers for single pane of glass hybrid cloud management. In the future a Amazon direct connect is supported (1 Gbps or more) There no need for NSX and vSAN in the on-premises datacenter. Some use cases are: Disaster Recovery (DR) and Backup. Test and Development Extend the on-premises data centers to the cloud with a consistent operational model, retaining your familiar VMware tools, policies and management. New application development and test that access native AWS services Burst capacity On the moment the are two consumption models available: On-demand/hourly consumption model 1 or 3 years reserved model. More on pricing can be found here, link The initial release has support for cold migration. Cross cloud vMotion will be available in a future release VMware Cloud on AWS is based on open API\u0026rsquo;s. Currently VMware Cloud on AWS is only available in AWS US West (Oregon) region. Other regions will follow in 2018. You can bring your own licenses because it\u0026rsquo;s a dedicated platform. More information:\nVMware Cloud on AWS website, link VMware Cloud on AWS: Live End to End Demo, link VMware on AWS from a Veeam perspective, link VMware Cloud on AWS pricing versus on-premises vSphere, link "},{
  "section": "Blog",
  "slug": "/logbook/site/2017/07/31/know-vsphere-6-5-update-1-upgrading/",
  "title": "What to know about vSphere 6.5 Update 1 before upgrading",
  "description": "",
  "date": "July 31, 2017",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "VMware, vSphere",
  "content":"vSphere 6.5 Update 1 is the first major update after the GA release of vSphere 6.5. Besides great new improvements such as vSAN 6.6.1 some nasty bugs are fixed. Here’s a short list you want to know before upgrading to vSphere 6.5 Update 1:\nUpgrade from vSphere 6.0 Update 3 is now a supported upgrade path to vSphere 6.5. Customers who are still on vSphere 5.5 will need to be on at least vSphere 5.5 Update 3b, build 3252642 in order to upgrade to vSphere 6.5 Update 1. Discontinuation of third party vSwitch. Customers using 3rd party switches such as Cisco Nexus 1000V, Cisco VM-FEX, , HPE 5900v and IBM DVS 5000v will need to migrate off those switches after vSphere 6.5 Update 1. So vSphere 6.5 Update 1 is the final release that support these 3rd party switches! General Support has been extended. This means that support for vSphere 6.5 will now end November 15, 2021. vCenter Server Foundation will support from 3 host to 4. With the vSphere 6.5 Update 1 you are prepared for the VMware Cloud on AWS (hybrid cloud) solution. The vCenter Server needs to be running 6.5 U1 before upgrading your hosts to 6.5 U1. The vSphere Client (HTML5) supports content library and OVF deployment operations (it\u0026rsquo;s still grayed out at the moment), as well as operations on roles and permissions, basic customization of the Guest OS, and additions to virtual machine, host, datastore, and network management. A new version of vSAN 6.6.1 is added with new capabilities such as vSphere Update Manager (VUM) support. Manage vSAN software upgrades through integration with vSphere Update Manager. vSAN Performance Diagnostic. This new feature is all about analyzing benchmarks and give recommendations. New vSAN Licensing for ROBO and VDI. The vSAN licensing editions are expanded with an Enterprise model that allows encryption and stretched clusters. Scalability improvements of vCenter Server: Maximum vCenter Servers per vSphere Domain: 15 (increased from 10) Maximum ESXi Hosts per vSphere Domain: 5000 (increased from 4000) Maximum Powered On VMs per vSphere Domain: 50,000 (increased from 30,000) Maximum Registered VMs per vSphere Domain: 70,000 (increased from 50,000) vSphere 6.5 no longer supports the following processors: Intel Xeon 51xx series Intel Xeon 30xx series Intel core 2 duo 6xxx series Intel Xeon 32xx series Intel core 2 quad 6xxx series Intel Xeon 53xx series Intel Xeon 72xx/73xx series More information:\nVMware ESXi 6.5 Update 1 Release Notes, link VMware vCenter Server 6.5 Update 1 Release Notes, link "},{
  "section": "Blog",
  "slug": "/logbook/site/2017/07/18/vmworld-europe-come/",
  "title": "VMworld Europe here I come!",
  "description": "",
  "date": "July 18, 2017",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "VMware, vmworld",
  "content":"In less then 54 days I’m attending VMworld Europe in Barcelona again. My first VMworld visit was in Cannes (France) in 2009. This year I visit VMworld with two other Ictivity (Dutch VMware partner) colleagues.\nHere are a couple of reasons why I\u0026rsquo;m so excited to visit VMworld Europe:\n1. General sessions In the general sessions the vision, future directions and key announcements will be presented.\nKey focus areas for the general sessions are:\nTransform your data center into real private clouds Extend into public clouds for more freedom and control Enable a new digital workforce to with technology Transform your security architecture 2. Breakout sessions Each day I Pick a couple of sessions with a maximum of 3. The session choice is based on content and the presenter. Each session is recorded so you can watch it anytime after VMworld. The session builder can be found here, link.\n3. Solution Exchange The Solution Exchange is packed (over 130) with vendors who support VMware. Learn more about the latest solutions and technologies from these vendors.\n4. Hands-on Labs During VMworld I visit the hands-on labs a couple of times. With the hands-on labs you\u0026rsquo;re able to discover one or more product(s) in short time. I really like the quality of the hands-on labs. After VMworld the new labs will be available (link ).\n5. Catch up with people VMworld is a great place to meet friends, share knowledge and network with other people. Share and extend you\u0026rsquo;re knowledge!\n6. Barcelona Barcelona guarantees great weather, food and culture. Make some spare time to explore Barcelona.\n7. Parties Each day one or more vendor parties are organized. Pick some and have a great time. Here is overview of some parties (when more information is available the list will be updated):\nEventDateRegistrationDescriptionvRockStarSunday 10 September\u0026nbsp;LinkPartner Exchange receptionMonday 11 SeptembervExpert PartyTuesday 12 SeptemberInvite onlyVMware BeNeLuxTuesday 12 SeptemberVeeam PartyTuesday 12 SeptemberVMworld Customer Appreciation PartyWednesday 13 SeptemberIncluded in a full conference pass. The headlinder this year is the Kaiser Chiefs! Last year the band Empire of the sun was the main act.\rThis year the headline of the VMworld Europe party will be the Kaiser Chiefs! A complete list of VMworld Europe gatherings can be found here, link .\nVMworld is an awesome experience! More information can be found here:\nWhen: September 11 - 14 2017 Where: BARCELONA , FIRA GRAN VIA Registration: link Special thanks to the vExpert team for providing me a bloggers pass! See you at VMworld Barcelona!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2017/05/16/horizon-access-point-unified-access-gateway-uag-implementation-tips/",
  "title": "Horizon Access Point / Unified Access Gateway (UAG) implementation tips",
  "description": "",
  "date": "May 16, 2017",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "horizon, VMware",
  "tags": "VMware-horizon",
  "content":"In 2013 I created a blog post with some tips for implementing a VMware Horizon View Security Server (link ). Now the Unified Access Gateway (UAG) is replacing the VMware Security Server. So it’s time for a new blog post with some implementation tips about VMware Access Point / Unified Access Gateway (UAG). Here’s an overview of the tips:\nThe Unified Access Gateway (UAG) provides secure access to the following environments: VMware Horizon desktops and applications VMware Identity Manager VMware AirWatch or VMware Workspace ONE per-app tunnels and tunnel proxy VMware Content Gateway service to allow VMware Content Locker access to internal file shares and Microsoft SharePoint In version 2.9 Access Point is renamed to Unified Access Gateway (UAG) UAG is included in the Horizon standard, advanced and enterprise license The use cases listed above can be mixed on the same UAG or separated on multiple UAGs UAG 2.9 supports Horizon 6.2.3, 6.2.4 and 7.1.0 UAG includes some improvements (such as blast Extreme) that are not available in the Horizon Security Server UAG is deployed in the DMZ and replaces the Horizon Security Server (Windows based) UAG is packaged as an OVF. It\u0026rsquo;s a hardened Linux appliance based on SUSE Enterprise Linux. So there no need for Windows OSes in the DMZ which improves security! Hardware specifications for the UAG are: 2 vCPU 4 GB memory 20 GB harddisk 1,2 or 3 Network adapters Create an IP pool before deploying the UAG Below is an overview of the VMware UAG firewall ports configuration: The documentation about the the firewall ports can be found here .\n(*1) When using Blast Extreme over port 443, port 8443 is not needed\nThe administration user interface (UI) can be used to set up and manage the Unified Access Gateway environment. To access to the management interface go to: https://ipaddress:9443/admin Upgrading UAG is not supported. Install a new appliance. It\u0026rsquo;s highly recommend to create a PowerShell script for the deployment that can be used everytime when installinging a new UAG. When deploying UAG using PowerShell, download the latest deployment scripts, link The following certificates can be used: Single-Server Name Certificate Subject Alternative Name (SAN) Wildcard Certificate Convert the certificate into PEM-format files for the certificate chain and the private key, then convert the .pem files to a one-line format that includes embedded newline characters If your certificate is in PKCS#12 (.p12 or .pfx) format, or after the certificate is converted to PKCS#12 format, use Openssl to convert the certificate to .pem files There is NO need to pair Horizon Connection Servers with Access Point or UAG. Uncheck the boxes in the Connection Server: Before configuring Radius authentication, first test if PCoIP and Blast access works: Test a native Horizon Client using PCoIP. Test a native Horizon Client using Blast. Test the HTML Access Client (which also uses Blast) Some browsers have problems with Client HTML access (link ). To solve this problem change the checkorigin property. On each Horizon Connection Server Add a line in the \u0026ldquo;locked.properties\u0026rdquo; file (C:\\Program Files\\VMware\\VMware View\\Server\\sslgateway\\conf) checkOrigin=false Save Restart the VMware Horizon View Connection Server service. PowerShell example\nI prefer the create a PowerShell script for the deployment of the UAG. This script deploys a single UAG with a single NIC and provide secure access to the Horizon View environment. The certificate will be generated automatically and is self-signed (in production environments use an signed certificate).\nWhen re-deploying an UAG with PowerShell there is no need to manually remove the appliance. When the config is the same the old appliance is automatically removed.\nBefore using PowerShell make sure the following requirements are met, link .\nPowerShell script:\n[General]\r#\r# UAG virtual appliance unique name (between 1 and 32 characters).\r# If name is not specified, the script will prompt for it.\r#\rname=UAG01\r#\r# Full path filename of the UAG .ova virtual machine image\r# The file can be obtained from VMware\r#\rsource=C:\\temp\\euc-access-point-2.9.0.0-5202536_OVF10.ova\r#\r# target refers to the vCenter username and address/hostname and the ESXi host for deployment\r# Refer to the ovftool documentation for information about the target syntax.\r# See https://www.vmware.com/support/developer/ovf/\r# PASSWORD in upper case results in a password prompt during deployment so that passwords do not need\r# to specified in this .INI file.\r# In this example, the vCenter username is administrator@vsphere.local\r# the vCenter server is 192.168.0.21 (this can be a hostname or IP address)\r# the ESXi hostname is esx1.myco.int (this can be a hostname or IP address)\r#\rtarget=vi://administrator@vsphere.local:PASSWORD@192.168.250.30/dc-beerens-01/host/mgnt\r#\r# vSphere datastore name\r#\rds=NFS-01\r#\r# vSphere Network names. A vSphere Network Protocol Profile must be associated with every referenced network name. This specifies\r# network settings such as IPv4 subnet mask, gateway etc.\r#\rnetInternet=dmz-vlan100\rnetManagementNetwork=dmz-vlan100\rnetBackendNetwork=dmz-vlan100\rdeploymentOption=onenic\rip0=192.168.250.32\rnetmask0=255.255.255.0\rdns=192.168.250.2\r#syslogUrl=syslog://server.example.com:514\r#\r# Setting honorCipherOrder to true forces the TLS cipher order to be the order specified by the server. This can be set on\r# UAG 2.7.2 and newer to force the Forward Secrecy ciphers to be presented first to improve security.\r#\rhonorCipherOrder=true\r[Horizon]\r#\r# proxyDestinationUrl refers to the backend Connection Server to which this UAG appliance will connect.\r# It can either specify the name or IP address of an individual Connection Server or of a load balanced alias to connect\r# via a load balancer in front of multiple Connection Servers.\r#\rproxyDestinationUrl=https://192.168.250.71\r#\r# proxyDestinationUrlThumbprints only needs to be specified if the backend Connection Servers do not have\r# a trusted CA signed SSL server certificate installed (e.g. if it has the default self-signed certificate only).\r# This is a comma separated list of thumbprints in the format shown here.\r#\rproxyDestinationUrlThumbprints=sha1:f1 c2 b8 0a 3f 7b 87 df 33 96 22 49 66 40 70 1a 11 74 9e b1\rtunnelExternalUrl=https://vdi.ivobeerens.nl:443\rblastExternalUrl=https://vdi.ivobeerens.nl:443\r#\r# pcoipExternalUrl must contain an IPv4 address (not a DNS name)\r#\rpcoipExternalUrl=31.151.8.45:4172 name_: The name of the Unified Access Gateway (UAG) source_: The location of the OVF file target_: Specifies the vCenter Server information and target ESX host. ds_: datastore to deploy the UAG vSphere Network names_: This section contains the network settings such as: Portgroup IP Address Subnetmask Amount of NICs DNS server(s) honorCipherOrder_: This allows forward secrecy ciphers to be presented first in the cipher list to improve security. proxyDestinationUrl_: URL representing the Horizon backend server (internal Connection server) proxyDestinationUrlThumbprints_: This contains the thumbprint of the Connection Server tunnelExternalUrl_: URL used by Horizon Clients to connect the secure tunnel to this UAG appliance blastExternalUrl_: URL used by HTML Access Clients to connect to this UAG appliance pcoipExternalUrl_: URL used by Horizon Clients to connect using PCoIP to this UAG appliance (external IP address) When the UAG deployment successfully executes other configuration (UI or PowerShell) options can be added such as:\nTrusted certificates Radius authentication Identity Manager "},{
  "section": "Blog",
  "slug": "/logbook/site/2017/03/21/fix-orphaned-vsan-objects/",
  "title": "Fix orphaned vSAN objects",
  "description": "",
  "date": "March 21, 2017",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware",
  "tags": "VMware, vsan",
  "content":"In the vSphere Web client an orphaned vSAN object was listed named:\n/vmfs/volume/vsanuuid From the vSphere Web Client you cannot manage orphaned vSAN objects . To check and fix orphaned vSAN objects, the Ruby vSphere Console (RVC) is needed. The \u0026lsquo;vsan.check_state\u0026rsquo; command checks if VMs and Virtual SAN objects are valid and accessible.\nAfter logging in the RVC rvc administrator@vSphere.local@localhost, execute the vsan.check_state -r command at the cluster level:\n/localhost/dc-beerens-01/computers/CL-01/vsan.check_state -r The \u0026ldquo;-r\u0026rdquo; parameter refreshes the VMX and registers the VMs.\nAfter running the vsan.check_state -r command, the vSAN object is listed as VM back again in the vSphere Web Client.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/blog/2017/03/prevent-corruption-esxi-bootable-sd-card/",
  "title": "Prevent corruption of the ESXi bootable SD card",
  "description": "",
  "date": "March 14, 2017",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi",
  "tags": "esxi-2, VMware",
  "content":"To activate this feature the following advanced settings must be changed on each ESXi host:\nSet the advanced ToolsRamdisk option to 1 by using this command:\n[code language=\u0026ldquo;text\u0026rdquo;]esxcli system settings advanced set -o /UserVars/ToolsRamdisk -i 1 [/code]\nAfter changing the setting reboot the host.\nI created a simple PowerCLI script that sets the advanced setting `toolsRamdisk` value to \u0026lsquo;1\u0026rsquo; on all the ESXi hosts.\n[code language=\u0026ldquo;PowerShell\u0026rdquo;] \u0026lt;# Author : Ivo Beerens Blog : www.ivobeerens.nl Twitter : @ibeerens Pre-requisite : ESXi 6.0 U3 Set : Set UserVars.ToolsRamdisk to the value 1 #\u0026gt;\nGet-Module -ListAvailable VMware* | Import-Module Connect-VIServer Foreach ($vmhost in Get-VMHost | where {$_.ConnectionState -eq \u0026ldquo;Connected\u0026rdquo;}) { Write-Host \u0026ldquo;Host: $($vmhost.name)\u0026rdquo; -ForegroundColor Green Get-AdvancedSetting -Entity $vmhost -Name UserVars.ToolsRamdisk | Set-AdvancedSetting -Value ‘1’ -Confirm:$false } [/code]\nAfter running this script all the ESXi hosts must be rebooted. More information: VMware KB: High frequency of read operations on VMware Tools image may cause SD card corruption (2149257), Link "},{
  "section": "Blog",
  "slug": "/logbook/site/2017/03/01/update-vcenter-server-appliance-vcsa-without-internet/",
  "title": "Update the vCenter Server Appliance (VCSA) without internet",
  "description": "",
  "date": "March 1, 2017",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "patch, vcenter-2, VMware",
  "tags": "patch, vcenter, VMware",
  "content":"In this blog post I highlight how to patch or update a single vCenter Server Appliance (VCSA) without having an internet connection. The patch will be stored on a temporarily web server that is installed on a Windows machine. In this example we update the vCenter Server Appliance version from 6.0 Update 2 to 6.0 Update 3 build 5050593.\nHere are the main steps:\n1. On a Windows machine install a temporarily web server to host the VCSA patch. As web server \u0026ldquo;Posh Server\u0026rdquo; will be used. This is a small PowerShell web server. Download the Posh Server and install it on a Windows box. After the installation (use the default settings) open PowerShell (As Administrator) and execute the following commands:\nSet-Executionpolicy unrestricted Type \u0026ldquo;y\u0026rdquo; to confirm. Go to the \u0026ldquo;C:\\Program Files\\PoSHServer\u0026rdquo; folder.\nImport-Module PoSHServer Start-PoshServer -Port 9000 The Posh web server is started and listens on port 9000\n2. Download the patch (zip file) from the VMware website.\nExtract the patch on the Windows machine in the web server folder under C:\\Program Files\\PoSHServer\\webroot\\http\\update. Besides the patch file(ZIP), two folders are extracted (manifest and package-pool).\n2. Before upgrading make sure you have a backup copy of the VCSA!\n3. Open the vCenter Server Appliance web interface https://VSCA-IP:5480. Go to the update tab and click settings, select use \u0026ldquo;Specified Repository\u0026rdquo;. Enter as location of the web server and update folder. In this example we use:\nhttp://IP-web-server:9000/update Click OK, check updates and use the \u0026ldquo;Check Repository\u0026rdquo; option. (tip: make sure to disable the proxy configuration in the VCSA)\n4.The update displayed in available updates. Install the update.\nWhen the update is finished, click OK and reboot the appliance.\n5. After the reboot check the version and build version of the new patch.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2017/02/15/patch-vmware-esxi-6-5-hosts-command-line/",
  "title": "Patch VMware ESXi hosts by command line",
  "description": "",
  "date": "February 15, 2017",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware",
  "tags": "esxi-2, VMware",
  "content":"There a several ways to patch a VMware ESXi server. vSphere Update Manager (VUM) can update for example a complete ESXi host cluster fully automatic. vSphere Update Manager requires a vCenter Server. When you don’t have a vCenter Server patching can be done from the command line.\nHere is a quick overview of how to patch an ESXi 6.x or 7.x host to the latest patch or version (from ESXi 6 to 7 for example).\nStep 1. Download the latest patch bundle from the VMware Web site, link . VMware ESXi patches are cumulative! Each patch bundle (.zip archive) includes all the updates from prior patches.\nStep 2. Upload the patch bundle (zip) to a (central) datastore with the vSphere Client (prior vSphere 6.5), vSphere Web Client, ESXi host client.\nStep 3. Enable SSH\nIn the vSphere Web client start the SSH service and make a SSH session to the ESXi host\nStep 4. Put the host in maintenance mode\nvim-cmd hostsvc/maintenance_mode_enter\nStep 5. Install the patch bundle\nUsing esxcli with the install method has the possibility of overwriting existing drivers. If you are using third-party ESXi images, VMware recommends using the update method to prevent an unbootable state. The following command will install the patch bunde:\nesxcli software vib update -d /vmfs/volumes/datastore/patchbundle.zip\nFor example install HPE ESXi 6 Update 3:\nesxcli software vib update -d /vmfs/volumes/VMFS01/VMware-ESXi-6.0.0-Update3-5050593-HPE-600.9.7.0.17-Feb2017-depot.zip After the patch bundle is installed check the message. It must say \u0026ldquo;The update completed successfully, but the system needs to be rebooted for changes to be effective.\u0026rdquo;\nStep 6. Reboot the host by entering the following command:\nreboot Step 7. Make a SSH session to the ESXi host and exit maintenance mode\nvim-cmd hostsvc/maintenance_mode_exit "},{
  "section": "Blog",
  "slug": "/logbook/site/2016/12/21/drive-mapping-not-working-user-environment-manager/",
  "title": "Drive mapping not working with User Environment Manager (UEM)",
  "description": "",
  "date": "December 21, 2016",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "horizon, VMware",
  "tags": "horizon, VMware",
  "content":"During a Horizon View implementation with User Environment Manager (UEM) 9.1 the drive mappings don’t show up for some with a Windows 10 VDI. The flexEngine log shows the drive mapping was successfully.\n2016-12-16 15:18:45.084 [INFO ] Successfully mapped drive ‘G:’ to ‘\\filesrv-01\\apps$’ (‘Applicaties.xml’)\nWhen opening an elevated command prompt and type the command net use the drive mappings where displayed and accessible. The users that didn\u0026rsquo;t get the drive mappings where local administrator in the Windows 10 VDI desktop.\nThere is a known limitation with drive mappings if the user is:\nLocal Admin and User Account Control (UAC) is enabled Changing one of them results in displaying the drive mapping in the Windows 10 VDI desktop. More information about this issue can be found here, link .\nUpdate: December 22, 2016: Pim van de Vis pointed me to the following setting to solve this issue. The VMware UEM FlexEngine Advanced ADMX template has an advanced setting that is called \u0026lsquo;Special Drive Mapping Logic\u0026rsquo;. Enabling the \u0026lsquo;Special Drive Mapping Logic\u0026rsquo; setting solves this issues. More information can be found here, link .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2016/11/21/check-upgrading-vsphere-6-5/",
  "title": "What to check before upgrading to vSphere 6.5",
  "description": "",
  "date": "November 21, 2016",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vSphere",
  "tags": "vSphere",
  "content":"Last week vSphere 6.5 was released (GA). This release has a lot of new cool features (see this link for more information). In the past I saw vSphere environments that are upgraded without proper preparation resulting in a rollback because compatibility issues with hard-or software. So I created a simple list with steps to check before upgrading to vSphere 6.5:\nCheck the hardware against the VMware Compatibility Guide, link There is a PowerCLI script to check the hardware against the VMware Compatibility Guide, link Devices deprecated and unsupported in ESXi 6.5, link Check if all vSphere products are supported by vSphere 6.5. The following product are not supported yet (when writing this blog): VMware NSX VMware Integrated OpenStack vCloud Director for Service Providers vRealize Infrastructure Navigator App Volumes Horizon Air Hybrid-Mode Integrated OpenStack vCloud Networking and Security vRealize Business for Cloud vRealize Configuration Manager vRealize Hyperic vRealize Networking Insight Check the \u0026ldquo;Important information before upgrading to vSphere 6.5 article, link Check the update sequence for vSphere 6.5 and its compatible VMware products, link Check if all the third-party products are supported by vSphere 6.5. For example last week Veeam Backup \u0026amp; Replication 9.5 is released. This release has no support yet for vSphere 6.5. Veeam Availability Suite 9.5 Update 1 will add support for vSphere 6.5. The existing vSphere 6.0 license keys are supported for vSphere 6.5. No new license key are needed. More info: link Check the vSphere 6.5 upgrade documentation, link Always install vSphere 6.5 first in non-production environments and test all the critical stuff for some time. vSphere 6.0 had some nasty Change Block Tracking (CBT) bugs that you don\u0026rsquo;t want in your production environment. Check the supported and deprecated topologies for VMware vSphere 6.5 article, more info: link The vSphere Windows (C#) Client is deprecated. Use the vSphere Web client of the new HTML5 based Client. VMFS6 is the new filesystem of vSphere 6.5. VMFS6 cannot be inline or offline upgraded from VMFS5 to VMFS6. More info: link TLS protocol versions 1.0, 1.1, and 1.2 are enabled by default in vSphere 6.5. More information about disabling TLS 1.0 can be found here: link . "},{
  "section": "Blog",
  "slug": "/logbook/site/2016/11/09/unable-remove-guest-introspection-service/",
  "title": "Unable to remove the Guest Introspection service",
  "description": "",
  "date": "November 9, 2016",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "nsx, VMware",
  "content":"In my lab environment I had problems with the Guest Introspection service. The installation was failed. Trying to remove the Guest Introspection service failed every time in the Service Deployments tab.\nAfter performing the following steps, I was able to remove the Guest Introspection service :\nPut the ESXi host in maintenance mode Drag the ESXi host outside the cluster Drag the ESXi host back to the cluster Reboot the host Exit maintenance mode Click on resolve in the Service Deployments section After performing these steps the Guest Introspection service is removed from the host.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2016/10/18/whats-new-vsphere-6-5/",
  "title": "What&#39;s New in vSphere 6.5",
  "description": "",
  "date": "October 18, 2016",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vSphere 6.5, VMworld",
  "tags": "vSphere 6.5, VMWorld",
  "content":"Today at VMworld Europe 2016, vSphere 6.5 is announced.\nUpdate: November 15, 2016 vSphere 6.5 is GA.\nIn this blog we highlight some major feature announcements on the following products and technologies:\nvCenter Server Appliance (VCSA) Virtual SAN (VSAN) Host Profiles Auto Deploy vSphere Security vSphere Fault Tolerance (FT) vSphere DRS Storage IO Control (SIOC): Content Library vSphere Operations Management vRealize Log Insight PowerCLI Here is an overview of the new feature highlights in vSphere 6.5:\nvCenter Server Appliance (VCSA):\nVMware Update Manager (VUM) for the vCenter Server Appliance (VCSA). VUM is integrated by default in the VCSA and uses the internal embedded database. Native High Availability for the vCenter Server Appliance (VCSA only). Create a High Available VCSA environment and eliminate the single point of failure. The HA configuration is active/passive with a witness in between and looks like: Improved Appliance Management. Monitoring: Built in monitoring for CPU, memory and network interface vPostgres database visibility Remote Syslog configuration vMon: Enhanced watchdog functionality. Watch the vCenter Server services Client Integration Plugin (CIP) for the vSphere Web Client is no longer required anymore vSphere Management Interfaces such as the vSphere Client (HTML 5 Web Client): Native Backup \u0026amp; Restore of the VCSA. Removes dependency on 3rd party backup solutions. Easily restore the backup to a new VCSA. The following protocols are supported: HTTP(S) SCP FTP(S) VCSA Installer improvements: Run the VCSA depolyment installeren on Windows, Mac and Linux The installer supports install, upgrade, migrate and restore VCSA Migration: Migrate from vCenter 5.5 or 6.0 tot 6.5 with the options to migrate the: Configuration only Configuration, events and tasks Configuration, events, task and performance metrics Host Profiles:\nManageability Editor enhancements: filter and favorites Bulk edit host customization using CSV files Copy settings between profiles Streamlined remediation wizard Operational Pre-check proposed changes Detailed compliance results DRS integration - rolling remediation Parallel remediation Auto Deploy:\nOperational GUI for Image Builder, Deploy rules Interactive deployment of new hosts Post-boot scripts for advanced configs EUFI and IPv6 support Performance and Resiliency Scalabillity improvements 300+ hosts VCSA HA \u0026amp; backup support Round robin reverse proxy caching Backup and restore state with PowerCLI vSphere Security:\nEnhanced Logging. Expose vCenter events to a Syslog server (such as vRealize Log Insight) without turning on verbose logging in vCenter Server and blowing up the database. VM Encryption. Encrypt the VM virtual disk(s) and VM files by using an encryption policy. The VM guest is not modified. The encryption is done at the hypervisor level. Encrypted vMotion. Virtual Machine vMotion data is encrypted during a vMotion on a per VM basis. Secure Boot for ESXi and Virtual Machines. Requires hardware that support EUFI and a secure Boot firmware. vSphere HA:\nAdmission Control. Simplified configuration workflow. It automatically calculates the % of resources to reserve. Restart Priorities: Additional restart priorities added such as highest and lowest for more flexibility and greater control. HA Orchestrated Restart. Enforce VM to VM dependency chains. This is great for multi-tier applications the require VMs to restart in a particular order. Proactive HA. vCenter plugin that connects to the hardware vendor monitoring solution (Dell Open Manage, HP Insight Manager or Cisco UCS). When there is for example a memory failure detected by the hardware vendor monitoring tools, the VMs from that hosts are migrated using vMotion to another hosts. vSphere Fault Tolerance (FT):\nImproved DRS integration. DRS will better place the secondary VM Performance Improvements: Host level network latency reduction. Allows to run more applications with FT. Multi-NIC Aggregation. It is possible to pack more NICs like (vMotion for FT) for better performance. vSphere DRS:\nNetwork-Aware DRS. Adds network bandwidth calculations in DRS. This avoids an over-subscribing host network link. Advanced DRS Policies exposed in the UI. Storage IO Control (SIOC):\nSetting IO limits in Storage Policy Based Management (SPBM) and apply the policy to the VMs. Content Library:\nMount an ISO file from the Content Library OS Customization during VM deployments from the library. Update an existing template with a new version Optimized HTTP sync between vCenter Servers Virtual SAN 6.5\n2-node Direct Connect and Witness traffic separation. Ability to connect two nodes directly using ethernet cables. Stretchen VSAN with Direct Connect is not supported at the moment. Benefits: Reducing costs (no need for 10 GbE switches). Simplicity. Separate VSAN data traffic from witness traffic. Licensing: The VSAN standard license includes the All-Flash option New VSAN advanced for ROBO licensing Virtual SAN iSCSI access. iSCSI access is built for supporting MSCS with shared storage and physical workloads that needs to have storage. There is no support in this release to targeting the VSAN storage to other ESXi clusters. vSphere Operations Management:\nvSOM is a combines of vSphere Enterprise plus with vRealize Operations Manager standard edition as a single offer. New Home dashboard New DRS Dashboard Update Workload Utilization Dashboard Other improvements are: vRealize Log Insight version 4\nNew Clarity User Interface. This new interface looks much better and cleaner Alert enhancements Other Enhancements PowerCLI\nNo more snapins are used, it\u0026rsquo;s now fully module based. Module improvements. Here are some examples: Added cross vCenter storage vMotion support The VSAN module is extended with 13 additional cmdlets Complete new Horizon View module. It is now possible to run from it from anywhere, in earlier releases it was only possible to run it from a Connection Server. On this release are only 2 cmdlets available (Connect and Disconnect). Once connected you can use the API. Microsoft open sourced PowerShell. It possible to run PowerShell from Windows, a MAC and Linux. VMware will release a PowerCLI Core version as fling. The vSphere Management Assistent is being deprecated. Use the vCLI. It has support for different OSes. Use vCLI for: ESXCLI commands vicfg- commands Other Perl Commands Datacenter CLI Conclusion\nvSphere 6.5 is packed with great new features. My top is new features are:\nHTML5 client vCenter Server Appliance (VCSA) with Update Manager integration vCenter Server Appliance (VCSA) native High Availability Virtual SAN (VSAN) Direct Connect A new PowerCLI module for Horizon View "},{
  "section": "Blog",
  "slug": "/logbook/site/2016/10/13/vmware-extends-hybrid-cloud-amazon-web-services-aws/",
  "title": "VMware extends the hybrid cloud with Amazon Web Services (AWS)",
  "description": "",
  "date": "October 13, 2016",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "aws, cloud, VMware",
  "tags": "aws, cloud, VMware",
  "content":"VMware and Amazon Web Services (AWS) will partnering together to bring a new a VMware vSphere-based service, running on the AWS Cloud, that will make it easier and faster to run applications, across a hybrid cloud environment.\nIt\u0026rsquo;s called the \u0026ldquo;VMware Cloud on AWS\u0026rdquo;. The infrastructure looks like:\nThe VMware Cloud on AWS includes the following components:\nvCenter. The environment is managed by a vCenter that is running in the cloud or on-premises. ESXi on dedicated hardware in AWS Cloud (no nesting is used!). Virtual SAN offers shared storage with replication and DR orchestration. NSX for spanning on-premises and cloud using advanced network and security services. This service is delivered, operated, sold and supported by VMware. Low level infrastructure management such as installing patches on ESXi servers and upgrading the vCenter is done by VMware.\nThe vSphere Web Client is based on HTML5 protocol. In the Web Client the on-premises datacenter and VMware AWS cloud is listed (single pane of glass).\nOther CLI tools such as PowerCLI can be used against the environment.\nWhen you want to resize a on-premises cluster you need to buy extra hardware (server, network and disk capacity) to resize the cluster. In the AWS datacenter you can simple select the \u0026ldquo;resize\u0026rdquo; option.\nThis option demonstrates the flexibility and elastic scalability of the AWS cloud.\nBelow is the location map of the AWS regions that support the VMware Cloud datacenters:\nThe on-premises datacenter can be connect to the AWS datacenters using IPsec tunnels or direct connect to create a hybrid cloud.\nSome use cases are:\nMaintain and Expand the to the VMware Cloud on AWS Consolidate and migrate to the VMware Cloud on AWS Workload Flexibility between the on-premises an AWS cloud During VMworld Europe 2016 more information wil be available on the VMware Cloud on AWS partnership.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2016/10/12/upgrading-vmware-update-manager-5-5-u3e-fails/",
  "title": "Upgrading VMware Update Manager to 5.5 U3e fails",
  "description": "",
  "date": "October 12, 2016",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware",
  "tags": "",
  "content":"When upgrading VMware Update Manager (VUM) to 5.5 Update 3e the following error occurs:\nVMware Workstation unrecoverable error: (vthread-3) GetProcAddress: Failed to resolve ENGINE_load_aesni: 127\nThis issue occurs when upgrading to VMware Update Manager to 5.5 Update 3e. I\u0026rsquo;ve seen this error when upgrading to 5.5U3e at different customer sites.\nHere is a quick workaround:\nUninstall VMware Update Manager and the VMware Update Manager plugins. The database is preserved, all the configuration data is stored in this database. Install VMware Update Manager and point to the existing VUM database Install the VUM plugin Within a couple of minutes you\u0026rsquo;re running VMware Update Manager 5.5 U3e.\nThere is also a VMTN forum post about this issue, link "},{
  "section": "Blog",
  "slug": "/logbook/site/2016/09/07/disable-virtual-san-health-check-alarms/",
  "title": "Disable Virtual SAN health check alarms",
  "description": "",
  "date": "September 7, 2016",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware, vsan",
  "tags": "virtual-san, vsan",
  "content":"When using PCIE/NVMe SSDs in the capacity layer of Virtual SAN, the SSDs are generating a warning for the “Hardware Compatibility – SCSI Controller on Virtual SAN HCL” health check, even when the devices are on the Virtual SAN HCL.\nThe \u0026ldquo;Hardware Compatibility - SCSI Controller on Virtual SAN HCL**\u0026rdquo;** health check cannot detect the PCIE/NVMe SSDs because they do not use standard I/O controllers.\nTo disable the HCL health check alarm use these simple steps:\nIn the vCenter Web Client top level, navigate to Manage and select \u0026ldquo;Alarm Definitions\u0026rdquo; Navigate to the alarm and select Edit Deselect the \u0026ldquo;Enable this alarm\u0026rdquo; checkbox and click on Finish Another use case is to disable the HCL health check(s) in non-production lab environments that use Virtual SAN with hardware that is not certified.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2016/08/26/tested-vdi-end-user-experience-monitor-tools/",
  "title": "Tested: VDI End User Experience monitoring tools",
  "description": "",
  "date": "August 26, 2016",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "controlup, monitoring, reviews, VMware-horizon, vrops",
  "tags": "controlup, monitoring, vrops",
  "content":"The success and effectiveness of a VDI environment depends on the End User Experience (UX). When the End User Experience isn’t good, users will complain and the VDI project will fail. So the ability to analyze, report and troubleshoot when a problem occurs is critical in a VDI environment. To get this insight I tested ControlUp v6 and VMware vRealize Operations for Horizon v6.3. Both tools are tested against the following subjects:\nArchitecture Troubleshoot performance problems Reporting End User Experience monitoring Supporting End-Users Licensing The features of ControlUp and VMware vRealize Operations for Horizon are tested against a VMware Horizon View 7 environment.\nArchitecture ControlUp\nIn the on-premises datacenter reside two components:\nControlUp Management Console. This is a .NET Windows application which connects to the vCenter Server/vSphere clusters and VDI desktops. ControlUp Monitor Service. This Windows service is responsible for alerting, reporting and uploading historical data to the Insight database which resides in the ControlUp Cloud. The ControlUp installation is very simple. On a management server simply execute a single executable (ControlUpConsole.exe). It runs in memory, so there is no installation needed. For alerting and uploading data the ControlUp Monitor Service is needed. Here is an overview how a ControlUp hybrid (cloud and in-prem) infrastructure looks like:\nOn the left is the Enterprise Network displayed. This is the on-premises datacenter where the hypervisors and Horizon environment resides and where the ControlUp Monitor and Console are installed. There is a very minimal infrastructure needed for deploying ControlUp. All the backend components are hosted in ControlUp cloud that is hosted on Amazon Web Services (AWS).\nIt\u0026rsquo;s possible to have the backend components installed on-premises with a special version of ControlUp if you have special compliance requirements. With this version everything runs on-premises.\nVMware vRealize Operations for Horizon_\nVMware vRealize Operations for Horizon is a monitoring solution that extends the capability of VMware vRealize Operations Manager to troubleshoot, monitor, and manage the health, capacity, and performance of VMware Horizon View environments. The architecture of vROps looks like:\nThe main components are:\nVMware vRealize Operations (vROps). vROps can be deployed on Windows, Linux or when using the appliance. VMware vRealize Operations Horizon management pack (PAK). After the vROps is installed and configured add the VMware vRealize Operations Horizon management pack to vROps. vRealize Operations for Horizon broker agent. On one Horizon View Connection Server install the agent and pair this with vROps Horizon adapter. vRealize Operations for Horizon Desktop Agent. In the Horizon View Agent enable this feature. After installing and configuring these main components the gathering of statistics, events and performance data can begin. All the components are installed in the on-premises datacenter. Besides the VMware vRealize Operations Horizon management pack there are other management packs available that can be imported in vROps such as the Virtual SAN and NSX management pack. This improves the end-to-end visibility and monitoring.\nUser Interface ControlUp\nWhen executing the ControlUp Management Console the following UI is displayed after adding the central vCenter server.\nThis is a real-time performance dashboard.\nOn the left the managed hypervisor(s), vCenter(s) and servers and desktops are listed. On the managed Windows desktops a lightweight agent is pushed.\nThe following dashboards are available:\nFolders Hosts Computers Sessions Processes Accounts Applications You can easily search, filter, sort, group by, customize and organize the columns that will be displayed in each dashboard.\nvROPS for Horizon\nThe User Interface (UI) for vROps is accessible from the internet browser.\nAfter logging-in there are Horizon specific dashboards available such as:\nHorizon Overview Horizon Help Desk Horizon Infrastructure Horizon User Sessions Horizon VDI Pools Horizon RDS Pools Horizon Applications Horizon Desktop Usage Horizon User Session details Horizon RDS Host Details Horizon End User Experience These are the default dashboards but it is possible to create own personalized dashboards with widgets and metrics you need.\nTroubleshoot performance problems To demonstrate performance troubleshooting with both products we use a Windows 10 VDI desktop and run the tool \u0026ldquo;Heavyload.exe\u0026rdquo; to generate 100% CPU utilization.\nControlUp\nWith ControlUp Management Console we can troubleshoot performance problems on hosts, computers and,-sessions in real-time and identify the process that is causing the 100% CPU utilization.\nvROPS for Horizon\nWith vROps we filter on \u0026ldquo;Percent Processor Time%\u0026rdquo;, select the session and perform a manual \u0026ldquo;Get Desktop Processes\u0026rdquo;.\nThe \u0026ldquo;Get Desktop Processes\u0026rdquo; task takes between 10-30 seconds to generate a list of process information per desktop. In ControlUp getting the processes list is in real-time. Besides identifying high CPU utilization other performance counters can be identified with both products.\nReporting ControlUp Insights\nWith ControlUp v5 ControlUp Insights was introduced. ControlUp Insights is historical reporting and analytics platform in the cloud. In v6 ControlUp Insights is extended with new reports. Each month new reports are added to the portal. The portal is accessible from the following URL:\nhttps://insights.controlup.com When logging-in there are three main sections with a couple of sub-sections:\nUser Activity Session Count Session Activity Session Details Session Resources Logon Duration Protocol Latency System Health Computer Trends Computer Statistics Host Trends Top Windows Errors Application Usage App Usage Details Citrix License Usage Each section has a several reports with information about user activity, user experience, resource consumption, application activity, system health and license information. The reports are simple, interactive and good-looking. In addition, where applicable, ControlUp Insights presents global benchmark values for performance and user experience metrics. These metrics are calculated based on anonymize metadata sent to ControlUp Insights from the customers that use this platform\nHere are 4 examples reports of Insights:\nThe report data can be exported as CSV files.\nvROPS for Horizon\nThere are several predefined Horizon reports that can be run or scheduled on regular basis. These reports provide information about remote desktop and application usage, desktop and application pool configuration details, and license compliance. Here are some examples:\nThe reports aren\u0026rsquo;t as fancy and interactive as in ControlUp. The reports can be exported as CSV or PDF files.\nEnd User Experience (UX) monitoring Besides performance metrics User Experience (UX) metrics are very important in a VDI and SBC environment.\nControlUp UX metrics\nPCoIP Session bandwidth usage and latency. Desktop Load Time. Group Policy Load Time. Application Load Time. vROps for Horizon\nPCoIP and Blast extreme protocol metrics Profile Load Time Shell Load Time Both products offer UI metrics. The Application Load Time is a new cool feature in ControlUp 6 that measures the time that it takes that an application become available for the end user. This is good indicator for the User Experience.\nSupporting End-Users ControlUp\nBesides monitoring and reporting there are other features built-in to support the End-users. The following screenshot show some of these features:\nScript-Based Actions (SBA) allows the admin to extend ControlUp functionality. Scripts (either developed internally or by the community and then sanitized by ControlUp before being published), can be written using Batch, VBScript or PowerShell. These scripts can be used and executed on one or more target computers. This following SBA list the PCoIP bandwidth usage for example\nThe Application usage report lists the number of concurrent instances and named users for the selected application.\nThis helps identifying who is using what application(s) and licensing applications.\nThe \u0026ldquo;top 10 Windows errors\u0026rdquo; report shows the most frequently occurring errors on all managed computers. If the error is known, it has a link with a possible solution and how to fix it.\nAll the errors are benchmarkend against other organizations.\nvROps for Horizon\nvROps focuses primarily on monitoring and reporting. So no other end-user supporting features are available as in ControlUp. Other unique features are:\nHorizon VDI and application pool indicator metrics Besides PCoIP Blast Extreme protocol metrics are available in vROps for Horizon 6.3 Management Packs. There is a lot (VMware and third party) management packs available such as Virtual SAN and NSX. This improves the end-to-end visibility and monitoring with there own metrics. Licensing ControlUp\nControlUp is available as Pro, Enterprise, or Platinum edition. The main differences between these versions are in:\nInsights retention data (1 Day for Pro, 1 Month for Enterprise, 1 Year for Platinum) Multi Tenancy Support (Enterprise and above) Multi AD support (Enterprise and above) vROPS for Horizon\nvROps for Horizon is licensed as:\nstandalone product. Included in the Horizon Enterprise license Conclusion In this blogpost I tried to give a impression of both products. ControlUp and VMware vRealize Operations for Horizon are both great products for monitoring and reporting on your Horizon environment. Each products has several pros against the other such as:\nControlUp:\nLess infra structure is needed than vROps for Horizon. Simplicity of the product with an easy learning curve. Great tool for real-time troubleshooting. Process information is available is real-time. Pre-defined interactive reports available for troubleshooting and management information. Offers other functions such as: killing services, Script Based Actions, chatting, managing the file system and registry, application usage, top Windows events etc. VMware vRealize Operations for Horizon:\nBesides the VMware vRealize Operations Horizon management pack, there are other management packs (VMware and third party) available that can be imported in vROps such as the Virtual SAN and NSX management pack. Such components become more and more common in a VMware Horizon environment. Adding these management packs improves the end-to-end visibility and monitoring. Ability to create personalized dashboards. vSphere and Horizon Infrastructure related counters such as VDI and Horizon applications pool information. What product do I need for Horizon environment? This depends on your requirements, use case and what licenses you already have. For example when having a Horizon Enterprise license, vROps for Horizon is included. Even when having a vROps environment, ControlUp adds great value by it\u0026rsquo;s unique features such as the interactive ControlUp Insights reports and complement vROps.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2016/08/04/define-devices-allowed-horizon-view-desktop-uem-smart-policies/",
  "title": "Define what devices are allowed in a Horizon View desktop with UEM Smart Policies",
  "description": "",
  "date": "August 4, 2016",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "horizon-view, VMware",
  "content":"When designing a new Horizon View environment, one of the design phases is to identify what requirements there are when accessing (redirecting) devices in a Horizon View desktop of published app. In other words what redirection and devices are available and permitted in the VDI desktop or published app such as:\nUSB devices Clipboard (copy/paste) redirection Client Drives Redirection (CDR) Printing redirection For the most environments different requirements are needed when accessing devices from inside or outside the company. Here is an example what redirection/devices are allowed when accessing from inside or outside the company:\nEndpointlocation\u0026nbsp;USBClient drive redirectionclipboardprintinginsideyesyesyesnooutsidenononoyes\rIn User Environment Manager (UEM) 9 there is a new functionality called \u0026ldquo;Smart Policies\u0026rdquo;. With Smart Policies you can define what devices are allowed in the VDI desktop based on dynamic conditions such as:\nThe endpoint location (inside or outside the company) Horizon Tags Desktop pool name Other View Client variables such as: With the endpoint \u0026ldquo;Client location\u0026rdquo; condition it is possible to determine when accessing from inside or outside the company. When connecting through the internal Horizon View Connection server the \u0026ldquo;Client Location\u0026rdquo; gets the value Internal. When connecting through the Horizon View Security Server or Access Point the \u0026ldquo;Client location\u0026rdquo; condition get the value External. For the different requirements, 2 policies are needed, 1 for internal and 1 for external.\nAfter defining the policy a condition needs to be set.\nFor the internal policy: Property \u0026ldquo;Client Location\u0026rdquo; is equal to Internal For the external policy: Property \u0026ldquo;Client Location\u0026rdquo; is equal to External Example:\nAfter defining the conditions both policies are ready to use. In this blog post I showed the strength of using the new Smart Policies option in UEM9. Smart Policies requires UEM9 and Horizon 7 to function.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2016/07/26/slow-logoff-horizon-view-vdi-desktop/",
  "title": "Slow logoff from a Horizon View VDI desktop",
  "description": "",
  "date": "July 26, 2016",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "VMware-horizon",
  "content":"When building a new Horizon Environment, the logoff and refresh maintenance window takes a couple of minutes.\nWhen a user is logging off from a Horizon VDI session the desktop refreshed in a floating pool. (A refresh action can be configured per pool). During the logoff and refresh window the desktop is in \u0026ldquo;maintenance mode\u0026rdquo; and the user is unable log in.\nThe following warning is displayed in the Horizon View Client when trying to connect:\nThe View Agent reports that this desktop is currently logging off a previous session. Please try again later.\nThe new installed Horizon environment has the following products and versions installed:\nVMware vSphere 6.x Virtual SAN 6.2 Horizon 7 App Volumes 2.10 User Environment Manager 9.0 Sophos Antivirus for vShield Windows 7 desktop Windows 2012 RDS After some troubleshooting, I disabled the \u0026ldquo;Sophos Antivirus for vShield\u0026rdquo; appliance per ESXi server. After disabling the appliance the VDI desktop logoff and refresh window was finished in a couple of seconds instead of a couple of minutes. So the problem has something to do with the virusscanner or vShield Endpoint. After digging deeper it was VMware Tools related. In April 2016 VMware Tools 10.0.8 was released that fixes performance problems with NSX and VMware vCloud Networking and Security 5.5.x.\nAfter upgrading the VMware Tools version to 10.0.8 in the golden image the slow logoff and refresh was solved. Within a couple of seconds the user is now able to log off again to a fresh new VDI desktop.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2016/06/23/sddc-mobile-lab-environment/",
  "title": "The mobile SDDC and EUC lab environment",
  "description": "",
  "date": "June 23, 2016",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "euc, home-lab, ssdc",
  "tags": "euc, home-lab, lab, sddc",
  "content":"With my company I work for (Ictivity ), we decided to develop a mobile Software Defined Data Center (SDDC) and End User Computing (EUC) lab environment. This mobile lab environment will be used to demo the VMware SDDC and End User Computing (EUC) stack with integration of third party solutions. One of the reasons to use a physical lab environment instead of cloud services was flexibility and having no dependencies.\nThe past moths I\u0026rsquo;ve got asked what components we used to build this lab environment. So here is an quick overview. The environment logically looks like the picture below:\nThis environment contains three physical hosts with VMware ESXi installed and one switch. One ESXi host function as management host. On this management host the following software bits are installed:\nvSphere 6 VSAN Witness NSX Manager Fortigate VMX vRealize components The End User Computing stack such as Horizon View, App Volumes, User Environment Manager and Identity Manager Veeam The other 2 ESXi hosts function as demo cluster. On this 2-node cluster the following software bits are installed:\nvSphere 6 Virtual SAN (VSAN) All Flash (AF) configuration NSX integration Windows 10l Windows Server 2012 R2 A laptop is used to connect to the lab environment.\nWhat component are used?\nSome highlights of this lab are:\n4U rackmount flightcase Mini-ITX motherboard Intel Xeon D-1541 single socket System-on-Chip 8 core processor 2 x 10 GbE Ethernet adapters Only SSD is used IPMI port Case\nThe case is a robust custom made 19\u0026quot; 4U rackmount flightcase with a removable front and back. It has two wheels so you can carry it easily around. This case contains 3 servers and one switch.Here is a picture of the case including alle the hosts and the switch.\nHosts\nThe flightcase contains three SuperMicro SYS-5018D-FN4T 1U Rackmount hosts with the following hardware specifications:\nChassis: SuperMicro 19\u0026quot; 1U with a 200W Gold level power supply. Optimized for Mini-ITX (SuperChassis SC505-203B) Motherboard: Super X10SDV-8C-TLN4F Mini-ITX board Processor: 1 x Intel Xeon D-1541 single socket System-on-Chip. This processor contains 8 cores with 16 threads (hypertreading) Memory: 4x DDR4 DIMM sockets (maximum 128 GB, 4 x 32GB DDR4 ECC memory) LAN: 2 x 10GbE and 2 x 1 GbE and 1 x IPMI LAN port Expansion slots: 1 x PCIe 3.0 x16 slot and a M.2 PCIe 3.0 x4 Video: Aspeed AST2400 USB: 2x USB 3.0 and 4x USB 2.0 Management host\nMemory: 4 x 32GB = 128 GB SSD: 2 x Samsung PM863 MZ-7LM1T9E - SSD Enterprise - 1.92 TB - intern - 2.5\u0026quot; - SATA 6Gb Disk: Seagate Enterprise 6 TB disk (for backup) USB Stick: Sandisk Ultra Fit USB3 16 GB (for booting ESXi) Demo hosts\nEach host contains the following hardware:\nMemory: 2 x 16GB = 32 GB per server SSD: 1 x Intel P3500 SSD 1.2 TB PCIe 3.0 x4 (NVMe) and Samsung 950 Pro V-Nand M.2 PCI-e SSD 512GB USB Stick: Sandisk Ultra Fit USB3 16 GB (for booting ESXi) Switch\nSwitch: Netgear ProSafe Plus XS708E 8 x 10 Gbps +SFP slot Cables\n6 x UTP CAT6 0.50 cm cables 1 x UTP CAT6 5m 1 x UTP CAT6 10m The two Intel X552/X557-AT NICs are not recognized by ESXi 6.5 and lower versions by default. To enable the Intel X552/x557 2 x 10GbE NICs download the Intel driver on the VMware website (link ). Extract the ZIP file and install the offline bundle by using the following command:\n[code language=\u0026ldquo;PowerShell\u0026rdquo;] esxcli software vib install -d /vmfs/volumes/datastore/driver/ixgbe-4.4.1-2159203-offline_bundle-3848596.zip [/code]\nWith this mobile SSDC lab environment we archived the following benefits:\nMobile and easy to carry around Flexibility to install the latest VMware SDDC and 3e party software No dependency Enough horsepower Low noise and power consumption Remote accessible from our datacenter IPMI and KVM support "},{
  "section": "Blog",
  "slug": "/logbook/site/2016/06/09/vsan-hp/",
  "title": "Configure VSAN on HP Servers",
  "description": "",
  "date": "June 9, 2016",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vsan",
  "tags": "euc, sddc, vsan",
  "content":"For a new End User Computing (EUC) project I installed a Hybrid Virtual SAN (VSAN) configuration on HP Proliant server hardware. VSAN will be used as storage layer for VDIs. Each HP Proliant DL360 Gen9 server has the following components:\nHP Workload Accelerator as caching device HP Smart Array P440 controller with several 10k SAS disks as capacity tier To enable VSAN the the first thing to do is to check the VSAN HCL(link )\nThe VSAN HCL gives important information about:\nWhat hardware is supported? What configuration does the HP Smart Array controller support? VSAN supported version(s) Device driver and firmware versions including the download location of the driver. All the hardware is supported and the firmware levels are listed in the HCL. So the next step is to do is to configure the HP Smart Array P440 controller in Pass-Through mode. HP calls this \u0026ldquo;HBA mode\u0026rdquo;. In HBA mode, all physical drives are presented directly to the operating system and the hardware RAID engine is disabled. This can be done in the Smart Storage Administrator.\nAfter enabling the HBA mode the hosts needs a reboot.\nThe next step it to install the server with the HP Custom ESXi image . After the installation the ESXi, the HP Smart Array Controller is not recognized because the driver is not included. This same is for the HP Workload Accelerator that will serve for the caching tier. Download both drivers and add them to vSphere Update Manager. After both drivers are installed check the HP Smart Array Controller by using the following command (included in the HP Customed ESXi image):\nesxcli hpssacli cmd -q \u0026#34;controller \u0026#34;slot=1\u0026#34; show config detail\u0026#34; The \u0026ldquo;slot=\u0026rdquo; option depends on the slot number the HP Smart Array P440 controller is installed.\nTo list the drives attached to the controller with the following command:\nesxcli hpssacli cmd -q \u0026#34;controller slot=1 physicaldrive all show\u0026#34; The Workload Acccelerator status can be displayed with the following command:\nesxcli hpssacli cmd -q \u0026#34;controller slot=1 physicaldrive all show\u0026#34; The last step is to open the vSphere Web Client, start enabling VSAN and claiming the disks.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2016/04/21/instant-clone/",
  "title": "What to know about Horizon Instant Clones",
  "description": "",
  "date": "April 21, 2016",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "horizon",
  "tags": "horizon, view, VMware",
  "content":"Horizon 7 introduced the Instant Clone feature leverages the vmFork technology introduced in vSphere 6.0 U1. With Instant Clone technology it is possible to clone and deploy a VDI desktop VMs in seconds. This is called the Just-In-Time Desktop.\nBelow is an overview how an Instant Clone VM is created:\nMaster Image. The Master Image or Golden Image is a Windows 7 or 10 optimized image that contains installed software such as the Horizon Agent for example. Snapshot. A snapshot is taken of the master image. Template. Per snapshot a linked clone template is created of the master image. Replica. The replica is a full clone of the Template that is thin provisioned. The replica uses Content Based Read Cache (CBRC) and can be place on a specific datastore. This is the shared read disk for the desktop VMs. Parent. Per ESXi host a parent VM is created. The parent is powered on. From this Parent Instant Clones are created using vmFork. Instant Clone. In a couple of seconds the the Instant Clone is created. The Instant Clone will grow depending on the change rate but at logoff the Instant Clone is deleted and a new Instant Clone is created. In the vCenter Server the following VM conventions are created:\nTemplate: cp-template-xxx Replica: cp-replica-xxx Parent: cp-parent-xxxx What to know about Instant Clones\nvSphere 6.0 U1 or higher is needed for Instant Clones. For the Instant Clone feature Horizon Enterprise or Horizon Air in Hybrid-mode is needed. The Horizon View Storage Accelerator must be enabled. Instant clones VMs are always powered-on. Each time a user logs out of an Instant Clone, the desktop is deleted and a new desktop is provisioned and powered on. The Master image must be installed with Hardware Version 11. Uses ClonePrep for customization specification. All the Instant Clones uses a Single SID. Parent VMs are tied to VMware ESXi host they are on and cannot be migrated or powered off through the vSphere (web) Client. This prevents an ESXi host from entering maintenance mode. Follow KB2144808 to put an ESXi host in maintenance mode. In the Horizon Agent, the Instant Clone feature must be enabled and the Composer must be disabled. It is not possible to enable both the View Composer and Instant Clone in the same Horizon Agent. Instant Clones is part of the Horizon Connection Server. So no additional infrastructure component is needed. If the Horizon Connection Server fails another Horizon Connection Server takes over. A Instant Clone Domain Admin is needed to add the Instant Clone to the Active Directory. Deploy applications and System updates by updating the parent image and create a new snapshot. With the new push image feature you can point to the new snapshot. What is supported:\nOnly Single-user desktops Only floating pools 1 vCenter Server maximum 1 VLAN only Windows 10 (32-64 bit) and Windows 7 SP1 (32-64 bit) as desktop Operating Systems Maximum number of 2 monitors with a resolution up to 2560x1600 VMFS and Virtual SAN (VSAN) storage Scales up to 2000 Instant Clones per pool vMotion, DRS and HA What is not supported\nPersona Management RDSH 3D Graphics (NVIDIA GRID), only limited SVGA support Virtual Volumes, VAAI, NFS or local datastores Disposable disk Dedicated pools Sysprep PowerCLI Persistent disks. If you need persistency use for example App Volumes with a writable disk and User Environment Manager (UEM). Storage vMotion of the Instant Clone Conclusion\nHorizon 7 includes a great new enhancement called \u0026ldquo;Instant Clones\u0026rdquo;. Within seconds VDI desktop VMs can be deployed. There is no extra infrastructure components needed such as a Composer service. With this version of Instant Clones there are some caveats you need aware off before implementing in production. Further versions of VMware Horizon will improve Instant Clones to add more support.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2016/03/29/horizon-7-blank-admin-screen/",
  "title": "Horizon View Administrator displays a blank error window",
  "description": "",
  "date": "March 29, 2016",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "horizon, VMware",
  "tags": "horizon, view, VMware",
  "content":"After upgrading to VMware Horizon View 7, the administrator webpage displays a blank error window when trying to connect using the IP address of the Connection Server.\nHorizon View 7 adds new security features that checks for the original URL for the web request. If not, it rejects the request and display the blank error window.\nSteps to resolve this:\nUse https://FQDN/admin or\nOn every Connection Server create a locked.properties text file in c:\\Program Files\\VMware\\VMware View\\Server\\sslgateway\\conf Add the following line: checkOrigin=false Save the file Restart the \u0026ldquo;VMware Horizon View Connection Server\u0026rdquo; service After the modification you\u0026rsquo;re able to connect to the View Administrator URL using the IP address of the Connection Server.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2016/03/03/log-insight/",
  "title": "vRealize Log Insight 3.3 available for free",
  "description": "",
  "date": "March 3, 2016",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware, vrealize",
  "tags": "log, vrealize",
  "content":"VMware released vRealize Log Insight 3.3. vRealize Log Insight is a log monitoring and analytics dashboarding tool like Splunk.\nIn version 3.3 a new product license is added. For each vCenter Server Standard license you will get a free 25 OSI pack license for vRealize Log Insight. So every customer with a vCenter standard license can use vRealize Log Insight with no additional costs. OSI stands for Operating System Instance. For example 1 vCenter Server and 10 ESXi hosts counts as 11 OSI licenses. With a 25 OSI pack, 14 licenses are available for monitoring other devices or Operating Systems (Windows and Linux).\nSoftware\nvRealize Log Insight 3.3 is available as appliance and can be downloaded here, link . The appliance is installed and configured within 15 minutes.\nLicensing\nIn the appliance enter the license number of the vCenter Server standard license. There is no additional license needed.\nOne vCenter Standard license is limited to 25 OSIs and only Content Pack published by VMware can be installed.\nIn order to enable other non VMware Content Packs, you\u0026rsquo;ll need to purchase a full-feature license for Log Insight.\nvRealize Log Insight is a log analyzer and troubleshoot tool that is available for every vCenter Standard customer. A great way to get a better view of the VMware vSphere environment you\u0026rsquo;re hosting.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2016/02/24/intel-nuc-6th-generation-as-home-server/",
  "title": "Home lab extension with an Intel NUC 6th generation",
  "description": "",
  "date": "February 24, 2016",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "Intel NUC, homelab",
  "tags": "homelab, Intel NUC",
  "content":"For my home lab I bought a 6th generation Intel NUC. The Intel NUC has following specifications:\nIntel NUC6i3SYH Intel i3-6100u (Skylake) 2.3 GHz Dual Core, 3 MB cache, 15W TDP 2 memory slots for DDR4-2133 SODIMM memory, maximum is 32 GB memory Intel HD Graphics 520 GPU Intel I219-V Gigabit network adapter and Intel Wireless-AC 8260 WIFI adapter Option to install a 2.5\u0026quot; HDD/SDD and a M.2 SSD card (2242 or 2280) 4 USB 3.0 ports (2 in the front and 2 on the rear) SD card reader (SDXC cards) Case and a 19V AC-DC adapter The Intel NUC will be used as management server for my Software Defined DataCenter (SDDC) home lab environment. The Intel NUC will host VMs such as:\nDomain Controller + DNS vCenter Server Appliance Virtual SAN witness appliance Veeam backup Etc. The VMs are stored on a Synology NAS. The Intel NUC will use a NFS connection to the Synology NAS. The NUC will not have any disks. It will boot ESXi from the USB stick\nProcessor\nThe 6th generation Intel NUC leaves two choices for choosing a CPU:\nIntel I3 Skylake available on the NUC6i3SYH model Intel I5 Skylake available on the NUC6i5SYH model Both CPUs have 2 cores and support hypertreading. The table below gives a quick comparison between both processors:\nFor this configuration the Intel NUC with the I3-6100u processor is sufficient and saves 100 euro. The I3 has 2 cores and hypertreading, so 4 logical processors are displayed in the hypervisor.\nOther advanced technologies such as VT-x, VT-d, EPT are fully supported.\nMemory\nThe Intel NUC has 2 memory slots and support up to 32 GB DDR4 2133 MHz SODIMM memory. I added 2 Crucial 16 GB DDR4-2133(CT16G4SFD8213) modules which makes a total of 32 GB memory.\nI use the same memory as suggested by the blog \u0026ldquo;virten.net\u0026rdquo; link .\nNetwork card\nThe Intel NUC has an Intel I219-V Gigabit network adapter and a wireless network card. Only the Intel I219-V can be used with VMware ESXi.\nStorage\nThe NUC has a M.2 (PCIe Gen 3 x4) slot and a Intel AHCI SATA-600 controller. It is possible to install a 2.5\u0026quot; SDD or harddisk in the drive cage.\nThe VMs are on a Synology NAS. So the NUC will not have any disks other than a USB drive for booting VMware ESXi.\nVMware ESXi\nAn USB 3 stick is used to boot VMware ESXi. On the USB stick is VMware ESXi 6.0 U1b (VMware-VMvisor-Installer-201601001 3380124.x86_64) installed. For creating a USB stick with ESXi 6 you can use the blogpost here . Only step 1 till 3 are needed.\nThere is no need to add extra drivers to the ESXI image because the network and storage adapter are recognized by default.\nPassthrough is supported by the CPU and motherboard.\nNesting such as VMware in VMware and Hyper-V in VMware is possible. Below is an screenshot of a Hyper-V Server with a VM hosted on ESXi.\nPower consumption\nThe average power consumption of the NUC is between 20 and 30 watt with a couple of VMs active.\nCosts\n\u0026nbsp;ComponentAmountTotalIntel NUC NUC6i3SYH1€ 299,00Crucial 16 GB DDR4-21332€ 235,80\u0026nbsp;USB3 Stick 16 GB1\u0026nbsp;€ 10,00Total€\u0026nbsp;544,80\rConclusion\nThe 6th generation Intel NUC is an great and easy option for creating a small ESXi home lab. I use the Intel NUC as management server with a couple of VMs. Another use case is creating a 2/3- node hybrid Virtual SAN (VSAN) cluster. Put a Samsung 950 PRO in the M.2 slot for caching and a 2.5\u0026quot; HDD as capacity tier. Easy.\nPros and cons\nPros:\nAll in-one-package including a motherboard, processor, enclosure and power adapter. Supports up to 32 GB of memory Easy to install Small Form Factor Low noise \u0026amp; power consumption Cons:\nThe hardware is not on the VMware HCL Need a converter to connect to a DVI or VGA monitor Only 2 cores available No expansion possibilities such as adding an extra netwerk card No remote management "},{
  "section": "Blog",
  "slug": "/logbook/site/2016/02/03/considerations-for-using-virtual-san-robo/",
  "title": "Virtual SAN (VSAN) ROBO and SMB environment considerations",
  "description": "",
  "date": "February 3, 2016",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "virtual-san",
  "tags": "virtual-san, vsan",
  "content":"Virtual SAN requires minimal 3 ESXi hosts. With version 6.1 of Virtual SAN, Remote Office/Branch Office (ROBO) and small SMB customer environments are supported with Virtual SAN on 2 ESXi nodes. With a 2 node Virtual SAN cluster options such as HA, DRS and vMotion are fully supported.\nIn a ROBO configuration you have two Virtual SAN data nodes and one witness node. The Virtual SAN data nodes can be in one location. The witness node can reside in the same or another location (not on the Virtual SAN).\nA virtual witness appliance is needed when a split brain occurs or performing maintenance to figure out what VMs does have quorum (more than 50% VMs objects needs to be available). This can can be 1 ESXi host with Virtual SAN and the witness or 2 ESXi hosts with Virtual SAN.\nA Virtual SAN ROBO environment example looks like this:\n2 VMware ESXI with Virtual SAN enabled A witness appliance is running on a ESXi server in the same or other site. Here are some considerations for using Virtual SAN ROBO:\nWitness\nWith Virtual SAN ROBO, a witness appliance is needed. The witness appliance is placed on a third ESXi server. This hosts does not need a Virtual SAN license and SSD disk. The witness appliance is a nested ESXi host (ESXi running in a VM). It is not supported to run the witness on Virtual SAN. The witness hosts stores only VM witness components (metadata). The VMs are only protected by a single failure (FTT=1). The virtual witness appliance can be configured in the following flavors (depending on the supported VMs): Tiny\u0026lt;=10 VMs)Normal\u0026lt;=500 VMsLarge\u0026gt; 500 VMsvCPUs222RAM81632Virtual disks (*1)8 GB boot10 GB SSD15 GB HDD8 GB boot10 GB SSD350 GB HDD8 GB boot10 GB SSD350 GB HDDMAX witness components\u0026nbsp;750\u0026nbsp;22000\u0026nbsp;45000\r(*1) The SSD and HDD are virtual disks. There is no need to have a physical SSD disksin the ESXi host were the witness appliance resides**.**\nHardware\nDeploy Virtual SAN on certified hardware. Check the Virtual SAN HCL! For a Virtual SAN disk configuration a minimal of 1 SSD and 1 Magnetic disk is needed. These disk cannot be used for booting ESXi For booting ESXi use a USB, SD or SATADOM device A small ESXi host can be used for the witness appliance. The witness appliance has no data, only metadata. Networking\nCross connecting 2 Virtual SAN ESXi nodes is NOT supported For 10 or less VMs a 1 Gbps network connection can be used. For \u0026gt;10 VMs use 10 Gbps Network bandwith to the witness: 1.5 Mbps Latency to the witness: 500 Milliseconds RTT Latency between the data nodes: 5 Milliseconds RTT Licensing\nVirtual SAN is licensed separately. Virtual SAN for ROBO is a license that includes a 25 VM pack license. This license does not include the stretched cluster and All-flash options. A maximum of 1 Virtual SAN for ROBO license may be used per site. When running less than 25 VMs consider a VSAN standard of advanced license. The standard and advanced licenses are licensed per CPU socket. Consider single socket CPU servers to decrease the licensing costs. Consider vSphere Essentials (plus) for licensing the vSphere environment to reduce licensing costs. Consider ESXi Hypervisor (free) for placing the witness appliance. ESXi Hypervisor cannot be managed by a vCenter Server! For each ROBO Virtual SAN you need a dedicated witness appliance. vCenter Server\nWhen running the vCenter Server on top of Virtual SAN, powering down the Virtual SAN cluster involves a special procedure (link ). Consider placing the vCenter Server on the witness host for simplicity. "},{
  "section": "Blog",
  "slug": "/logbook/site/2016/01/13/vrealize-operations-manager/",
  "title": "Unable to pair the broker agent with the Horizon adapter in vROps",
  "description": "",
  "date": "January 13, 2016",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "",
  "content":"When trying to pair the Broker agent 6.2 with the Horizon adapter in vRealize Operations Manager (vROps), it fails with the following error:\nCould not Pair with Adapter Address \u0026hellip;. An Error has Occurred. Failed to pair the Adapter. Operation Adapter Pairing Failed.\nThis issue occurs when the firewall rules on the vRealize Operations Manager are incorrect. To resolve this issue update the firewall rules using the following steps:\nOpen the VM console of the vRealize Operations Appliance or enable SSH (link ) Log in as root user/ Open the /opt/VMware/etc/VMware-vcops-firewall.conf file in the vi editor Make sure the following entries are added to the V4V Adapter specific ports section # v4V Adapter specific ports\rTCPPORTS=\u0026#34;$TCPPORTS 3091:3095\u0026#34; TCPPORTS=\u0026#34;$TCPPORTS 3099:3101\u0026#34; Save the file Restart the firewall by using the following command: /etc/init.d/VMware-vcops-firewall restart\nTry to pair the adapter again. The pairing must now be successful.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2015/12/14/4131/",
  "title": "Home lab extension with a Samsung 950 PRO M.2 SSD",
  "description": "",
  "date": "December 14, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "homelab",
  "tags": "homelab",
  "content":"Last month I extended my VMware ESXi and Hyper-V home lab with a Samsung 950 Pro SSD. The Samsung 950 Pro SSD is the next-gen SSD that has the following characteristics:\nUses V-NAND memory and the Non-Volatile Memory Express (NVME) protocol. This takes away the 600 MBps bandwidth limit with the SATA protocol. Takes advantage of the PCIe Gen 3 x4 (up to 32 Gb/s) interface Available in 256 and 512 GB at the moment. In 2016 larger sizes will be available The Samsung 950 PRO has a M.2 form factor (2208) interface These improvements results in being one of the fastest consumer SSD on the market today. In my current home lab don\u0026rsquo;t have a PCIe Gen3 x4 slot or a M.2 interface. I found a \u0026ldquo;interface converter PCI-Express, M.2 NGFF\u0026rdquo; (link ) adapter. It\u0026rsquo;s the same adapter as the Lycom DT-120 (link) another great blog called TinkerTry is referring to (link ). The adapter converts the M.2 interface to a PCIe interface slot.\nThe Lycom DT-120 adapter has the following specifications:\nSingle M.2 slot (There are Dual M.2 controllers available on the market) The adapter cost around € 17,00 Does not require any driver Supports PCIe 2280,2260 and 2242 Supports PCIe 1.0, 2.0 and 3.0 slots on the motherboards Configuration\nMy first step was checking if the firmware is up to date with the Samsung Magician software.\nIn Windows 2012 R2 the Samsung 950 Pro SSD is standard recognized. The latest drivers and software can be download here, link .\nVMware ESXi\nThe Samsung 950 PRO is recognized by default in VMware ESXi 6 Update 1.\nBenchmark\nWith ATTO software a simple benchmark on a Samsung 840 SSD (based on the SATA protocol) and the Samsung 950 Pro is performed. The ESXi host is a whitebox with the following hardware specifications:\nGigabit GA-Z870D3HP Intel i5 4570S 32 GB memory Lycom DT-120 adapter is placed in a PCIe x16 slot Samsung 840 connected via SATA Samsung 950 Pro SSD placed on the Lycom DT-120 adapter A VM with a 10 GB Thick Provisioned Eager Zeroed VMDK disk is attached. The disk is formatted as NTFS with a standard (4 KB) block size.\nThe Left picture is the Samsung EVO 840 and the right picture is the Samsung 950 Pro.\nAs you can see the read and write performance is multiplied by 3 on the Samsung 950 Pro with the M.2 interface converter . These are pretty impressive numbers for a consumer SSD.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2015/12/08/4105/",
  "title": "vRealize Operations Manager error &#34;javax.naming.NameNotFoundException&#34;",
  "description": "",
  "date": "December 8, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vrealize",
  "tags": "VMware, vrealize",
  "content":"After upgrading vRealize Operations Manager to version 6.1 the Horizon View metrics are not collected anymore. On the Horizon View Connection Server where the vRealize broker agent is installed the following error is displayed in the logs:\nvRealize Operations Manager broker error \u0026ldquo;javax.naming.NameNotFoundException\u0026rdquo; ERROR BrokerPoll message sending error: javax.naming.NameNotFoundException: V4V-BrokerMessageServer\nThe logs can be found in the following location on the Horizon View Connection broker: c:\\ProgramData\\VMware\\vCenter Operations for View\\logs\\v4v_broker_agent_cfg.... log\nTo resolve this error you need to restart the collector service on the vRealize Operations Manager Appliance. Run the following steps:\nOpen a console session on of the vRealize Operations Manager collector node (SSH is disabled by default) Press ALT- F1 in the console session Log in as root user with no password Change the password the first time Restart the collector service by using the following command: service VMware-vcops restart collector\nIt can take serveral minutes to pair the Broker Agent with the Horizon View adapter.\nThe SSH Service on the vRealize Operations Manager Appliance is disabled by default. To enable and start the SSH service use the following commands:\nStart the SSH service service sshd start\nTo configure SSH to start automatically chkconfig sshd on\nCheck the status of the SSH service chkconfig\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2015/11/11/vmware-horizon-view-agent-installation-order/",
  "title": "VMware Horizon View Agent installation order",
  "description": "",
  "date": "November 11, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "horizon, VMware",
  "tags": "horizon-view, VMware",
  "content":"When configuring a Windows VDI desktop or RDSH session with Horizon, different software components must be installed such as the VMware Tools and the VMware Horizon View Agent. When using User Environment Manager and App Volumes they require an agent too. All these software components must be installed in the correct order in the master/golden image to prevent problems such as for example a black screen when connecting to a Windows VDI desktop using the PCoIP protocol.\nThe following order can be used with a clean installation:\nVMware Tools (*1) (*4) VMware Horizon Agent VMware Horizon Direct-Agent VMware User Environment (DEM) agent VMware App Volumes (Agent) (*2) NVIDIA driver (*3) Uninstall order:\nNVIDIA driver and reboot VMware App Volumes agent and reboot VMware DEM agent and reboot VMware Horizon Agent and reboot VMware Tools and reboot Update VMware tools\nUpgrade of VMware Tools does not require uninstall and reinstall of Horizon Agent as of Horizon 7.13 and Horizon 8 2106.\n(*1) The NSX File and Network Introspection drivers are not installed by default.\n(*2) In App Volumes 2.9 and later you can install the agent in any order.\n(*3) When using NVIDIA GPUs\n(*4) Upgrade of VMware Tools does not require uninstall and reinstall of Horizon Agent as of Horizon 7.13 and Horizon 8 2106.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2015/10/20/vmworld-2015-europe-recap/",
  "title": "VMworld 2015 Europe recap",
  "description": "",
  "date": "October 20, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vmworld",
  "tags": "VMware, vmworld",
  "content":"Last week I attended VMworld 2015 Europe conference. I had a great week filled with breakout sessions, Hands-on Labs, Solutions Exchange, parties, chats and great people.\nA few new announcements were made such as:\nvRealize Automation 7 – Introducing unified service blueprint capabilities to enable IT and DevOps teams to simplify and accelerate the delivery of integrated multi-tier applications with application-centric networking and security across multiple clouds. vSphere Integrated Containers and VMware Photon OS – Building on the support for VMware Photon OS on vCloud Air, vSphere Integrated Containers is now also available on the cloud platform, allowing IT teams to truly support any application, including containerized applications, on a common vCloud Air based infrastructure. vCloud NFV platform – Designed to help communications service providers accelerate their implementations of Network Function Virtualization Acquirement of Boxer, link , link The rest of the VMworld announcements can be found in my VMworld 2015 US blog post, link .\nAfter VMware there is a lot of content available. Here\u0026rsquo;s an overview of locations where VMworld content can be found:\nThe session recordings can be found within the Schedule Builder, link VMworld blog, link VMworld Twitter, link VMworld YouTube Channel, link Hands-On Labs, link vBrownBags YouTube Channel, link Next year VMworld will be held on:\nVMworld 2016 US, August 28 - September 1 in Las Vegas VMworld 2016 Europe, October 17 - 20 in Barcelona Hope to see you there again!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2015/10/07/vmware-esxi6-password-policy/",
  "title": "VMware ESXi6 Password Policy",
  "description": "",
  "date": "October 7, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi, VMware",
  "tags": "esxi-2, VMware",
  "content":"With VMware ESXi 6 the password policy is changed and require to use more complex passwords. The password policy in ESXi 6 has the following requirements:\nPasswords must contain characters from at least three character classes. Passwords containing characters from three character classes must be at least seven characters long. Passwords containing characters from all four character classes must be at least seven characters long. An uppercase character that begins a password does not count toward the number of character classes used. A number that ends a password does not count toward the number of character classes used.\nFor LAB environments I change frequently the password policy in the ESXi 5 default, because it is possible to generate passwords that are easier to remember. The ESXi 5 default password policy has the following requirements:\nPasswords containing characters from one or two character classes must be at least eight characters long. Passwords containing characters from three character classes must be at least seven characters long. Passwords containing characters from all four character classes must be at least six characters long. The default configuration is for ESXi 5 and ESXi 6 are:\nESXi 5: retry=3 min=8,8,8,7,6 ESXi 6: retry=3 min=disabled,disabled,disabled,7,7 This means for the ESXi 5 password policy:\nretry=3 min=N0,N1,N2,N3,N4 retry=3: A user is allowed 3 attempts to enter a sufficient password. N0=8: Passwords containing characters from one character class must be at least eight characters long. For example: VMwareee N1=8: Passwords containing characters from two character classes must be at least eight characters long. For example: VMware12 N2=8: Passphrases must contain words that are each at least eight characters long. For example: VMwareee N3=7: Passwords containing characters from all three character classes must be at least seven characters long. For example: VMware12 N4=6: Passwords containing characters from all four character classes must be at least six characters long. For example: VMware1! The word \u0026ldquo;disabled\u0026rdquo; can be used to not use specific password complexity. The password policy can be changed in the vSphere (Web) Client advanced system settings (see screenshot). No editing of PAM config files on the ESXi host is required anymore.\nTo change the password policy on multiple ESXi hosts, PowerCLI can be used. Here\u0026rsquo;s an example to change the Password Policy to the ESXi 5 password policy default:\n# Set the ESXi Password Policy by using PowerCLI for every ESXi host # Default Password Policy ESXi 6 = retry=3 min=disabled, disabled, disabled, 7, 7 # Default Password Policy ESXi 5 = retry=3 min=8,8,8,7,6 # Last updated by: Ivo Beerens October 4, 2015 $PasswordPolicy = \u0026#34;retry=3 min=8,8,8,7,6\u0026#34; $VMHosts = Get-VMHost | Where { $_.ConnectionState -eq \u0026#34;Connected\u0026#34; } foreach ($VMHost in $VMHosts) { $VMHosts | Get-AdvancedSetting -Name “Security.PasswordQualityControl\u0026#34; | Set-AdvancedSetting -Value $PasswordPolicy -Confirm:$false } "},{
  "section": "Blog",
  "slug": "/logbook/site/2015/10/05/enable-touch-id-authentication-in-vmware-horizon/",
  "title": "Enable Touch ID Authentication in VMware Horizon",
  "description": "",
  "date": "October 5, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "end-user-computing, vdi, VMware-view",
  "tags": "VMware-horizon-view",
  "content":"In Horizon 6.2 it is possible to authenticate with Apples Touch ID. Touch ID is not enabled by default and has the following minimal requirements:\niPhone 5S, 6, and 6 Plus iPad Air 2 and iPad mini 3 IOS 8 Horizon 6 version 6.2 The View Connection Server must present a valid root-signed certificate to the Horizon Client Horizon 3.5 client The Horizon Client certificate checking mode must be set to \u0026lsquo;Never connect to untrusted servers or Warn before connecting to untrusted servers\u0026rsquo; Touch ID is not enabled by default and is a global setting, so when enabling, all users are able to login using the Touch ID! There is no other way to control who can use Touch ID.\nThe following steps describes enabling Touch ID Enable BioMetrics authentication in the View Connection Server.\nStart ADSI Edit on the View Connection Server In the Connection Settings dialog box, select or connect to DC=vdi,DC=VMware,DC=int In the Computer pane, type localhost Browse to the object CN=Common, OU=Global, OU=Properties Edit the pae-ClientConfig attribute and add the value BioMetricsTimeout=-1 (-1 means BioMetric Authentication is supported without any time limit. To enable a time limit, enter for example 30 for 30 minutes). The new setting takes effect immediately Horizon Client\nCheck the certificate settings on the iPad or iPhone. Enable Touch ID in the Horizon Client and login the first time with your password. After that you\u0026rsquo;re been able to use the Touch ID to authenticate to the Horizon View environment. Pretty cool stuff!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2015/09/01/whats-announced-at-vmworld-2015/",
  "title": "What&#39;s announced at VMworld 2015?",
  "description": "",
  "date": "September 1, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vmworld",
  "tags": "vmworld",
  "content":"This blog contains the most VMworld 2015 announcements summarized. The VMworld 2015 day 1 announcements were all about the Software Defined Datacenter (SDDC), Hybrid cloud and Cloud Native Apps (containers). This blogpost will be updated with new announcements when available.\nVMworld 2015 day 1\nVMware EVO SDDC (EVO RACK). VMware EVO SDDC is designed to provide a simple to deploy and updated SDDC at rack-scale, and includes software-defined compute, storage, networking security, and management.\nMore information: Link Virtual SAN (VSAN) 6.1. VSAN 6.1 is the third release with the following new features:\nVirtual SAN Stretched Cluster Virtual SAN for Remote Office / Branch Office (ROBO) Virtual SAN Replication with vSphere Replication Support for Multi-Processor Fault Tolerance (SMP-FT) Support for Windows Server Failover Clustering (WSFC) and Oracle Real Application Cluster (RAC) Maximum Performance and Low latencies Virtual SAN Health Check-Plug-in Virtual SAN Management Pack for vRealize Operations More information: Link Unified Hybrid Cloud. The Unified Hybrid Cloud platform has the following new services and features:\nProject Skyscraper (Technology Preview): Live Migration (vMotion) between datacenters. For example between on-premises and vCloud Air. VMware vCloud Air Disaster Recovery. VMware vCloud Air Object Storage VMware vCloud Air SQL VMware vCloud Aur Advanced Networking Services VMware vCloud Aur Hybrid Cloud Manager More information: Link vSphere Integrated Containers and Photon Platform. VMware vSphere Integrated Containers will enable IT teams to support any application, including containerized applications, on a common infrastructure. The VMware Photon Platform, which will include future integrations with VMware NSX, VMware Virtual SAN and VMware vRealize Suite.\nMore information: Link\nVMware Integrated OpenStack (VIO) 2. The new release is based on the OpenStack Kilo.\nVMware Validated Design. VMware Validated Designs are architectures created and validated by VMware experts to build your SDDC.\nMore information: Link Other announcements (not in the general session) NVIDIA GRID 2.0:\nDouble user density up to 128 user per server Blade support for NVIDIA GRID Linux support More information: Link , YouTube App-Delivery Decision Maker for Horizon 6. The Decision Maker helps you navigate the wide array of options that Horizon 6 supports to meet your application delivery and user requirements.\nMore information: Link End User Computing Best Practices poster.\nMore information: Link Site Recovery Manager 6.1. SRM 6.1 has the following new capabilities:\nStorage Profile Based Protection. Storage policy-based management to simplify the process of adding and removing protection to virtual machines. Stretched Storage and Orchestrated vMotion. Support for stretched storage solutions combined with cross-vCenter vMotion allows companies to achieve application mobility without incurring downtime, while taking advantage of all the benefits of Site Recovery Manager Enhanced integration with VMware NSX. Enhancements to and integration with NSX 6.2 that simplify both the creation and execution of recovery plans and accelerate recovery time. More information: Link\nVMware NSX 6.2. NSX vSphere 6.2 includes the following new and changed features:\nCross vCenter Networking and Security NSX 6.2 with vSphere 6.0 supports Cross vCenter NSX where logical switches (LS), distributed logical routers (DLR) and distributed firewalls (DFW) can be deployed across multiple vCenters, thereby enabling logical networking and security for applications with workloads (VMs) that span multiple vCenters or multiple physical locations. Consistent firewall policy across multiple vCenters: Firewall Rule Sections in NSX can now be marked as \u0026ldquo;Universal\u0026rdquo; whereby the rules defined in these sections get replicated across multiple NSX managers. This simplifies the workflows involving defining consistent firewall policy spanning multiple NSX installations Cross vCenter vMotion with DFW: Virtual Machines that have policies defined in the \u0026ldquo;Universal\u0026rdquo; sections can be moved across hosts that belong to different vCenters with consistent security policy enforcement. Universal Security Groups: Security Groups in NSX 6.2 that are based on IP Address, IP Set, MAC Address and MAC Set can now be used in Universal rules whereby the groups and group memberships are synced up across multiple NSX managers. This improves the consistency in object group definitions across multiple NSX managers, and enables consistent policy enforcement Universal Logical Switch (ULS): This new functionality introduced in NSX 6.2 as a part of Cross vCenter NSX allows creation of logical switches that can span multiple vCenters, allowing the network administrator to create a contiguous L2 domain for an application or tenant. Universal Distributed Logical Router (UDLR): This new functionality introduced in NSX 6.2 as a part of Cross vCenter NSX allows creation of distributed logical routers that can span multiple vCenters. The universal distributed logical routers enable routing across the universal logical switches described earlier. In addition, NSX UDLR is capable of localized north-south routing based on the physical location of the workloads. VMworld 2015 day 2 Day 2 announcements are about business mobility and End User Computing (EUC).\nVMware Project A2,. A new Technology Preview called Project A2 that offers a new mobile-centric approach to delivering and managing applications and devices for Windows 10 using AirWatch enterprise mobile management (EMM) and VMware App Volumes application delivery technology. This integrated solution enables our customers to accelerate their adoption of Windows 10 with mobile-like management for their devices and applications. Project A2combining #Airwatch and #Appvolumes to deploy applications to Physical endpoints\nVMware Identity Manager Advanced Edition. introducing a new identity solution called VMware Identity Manager Advanced Edition that is a standalone identity as a service (IDaaS) solution for simplified access and identity management. Our existing solutions, Horizon and AirWatch already include this key enabling technology platform for delivering a single sign-on experience for Windows, SaaS and mobile applications. We are now announcing the release of this key, proven technology as a standalone product for customers that seek a standalone identity as a service solution.\nMore information: Link .\nVMware Horizon 6.2 and VMware Horizon 6.2 for Linux such offers the following new capabilities:\nVMware Horizon 6.2 will deliver applications at scale with new features to make the deployment and management of RDSH applications easier and more scalable. View Composer with Linked Clones will allow you to simply deploy and quickly update your entire RDSH farm. Load balancing improvements will allow you to balance applications based on various load metrics (CPU or memory usage) and will include an extensible interface to balance RDSH hosts based on metrics. The solution will also integrate Horizon Apps into the Cloud Pod Architecture (CPA) to allow virtual machines to scale between sites and between datacenters. VMware Horizon 6.2 will also deliver a richer and more seamless user experience for apps and desktops. Delivering rich 3D desktops and apps has never been easier. VMware Horizon 6.2 together with NVIDIA GRID cards will deliver high-end 3D graphics applications with RDSH in addition to 3D VDI desktops. VMware Horizon 6.2 will add support for NVIDIA GRID and NVIDIA GRID 2.0. NVIDIA GRID 2.0, based on NVIDIA’s award winning Maxwell architecture, will offer higher user density with higher performance to more platforms. The solution will support 4K (3840×2160) high resolution desktops and Linux desktops. Finally, vDGA pass through graphics will be extended to support select AMD FirePro GPUs for Windows VDI desktops. It will be easier to work with local files too, with VMware Horizon 6.2. With VMware Horizon 6.2, hosted applications will be easier than ever to use with support for File Type Association with Windows clients, making it easy to open a file with a remote app right from the Windows Explorer. Client Drive Redirection, which allows easy access to files on your computer, will be extended with encryption for greater security, along with new support for Mac clients. In addition, Linux client support will be available as a tech preview. There will also be communication improvements. VMware Horizon 6.2 will support the Skype for Business messaging application (formerly known as Microsoft Lync) on several Windows platforms including Windows 7, Windows 8.1, Windows 2008 R2, Windows 2012 R2 with Windows 10 desktops, and RDSH desktops running on Windows 2008 R2 and Windows 2012 R2 Servers. VMware Horizon 6.2 with latest Horizon Client 3.5 for iOS will also offer the option of using Touch ID for easy login to your apps or desktops. Once enabled by the administrator, end-users can enjoy amazing one-touch access when using an iPhone or iPad. Oh, did I forget Windows 10? Windows 10 is fully supported across the entire VMware Horizon portfolio including Horizon clients, desktops and hosted applications. . This day 0 support of Windows 10 continues our commitment to offering compatibility with the latest innovative technologies. With Windows 10 desktops running on VMware Horizon virtual desktops, end-users have full access to the features and functionality available from Windows 10 and VMware Horizon. VMware Horizon 6.2 is also optimized for the VMware SDDC environment and already supports the latest release of vSphere – vSphere 6 U1. We leverage the new all-flash Virtual SAN to support double the number of users at the same cost, double your density, and supports over four thousand users per cluster. You can take advantage of the vSAN stretched cluster technology to deploy Horizon across multiple sites. There will be more security in VMware Horizon as well. VMware Horizon 6.2 includes a hardened appliance to secure access to the Horizon infrastructure from outside the corporate firewall. Integration with VMware Identity Manager, included with Horizon Advanced and Horizon Enterprise, will provide end-users with secure, customizable access to resources using an expanding set of authentication sources including two-factor and bio-metric fingerprint authentication. For federal government customers, the solution will also be compliant with the FIPS 140-2 regulation for security VMware User Environment Manager (UEM) 8.7, included with Horizon Enterprise, will fully support Windows 10 and will offer even greater efficiency for dynamic updates to the mobile user environment. It will also be able to detect a wide range of connections including PCoIP, Blast, RDP, and Citrix. VMware User Environment Manager natively supports policies based on client name and IP for VMware Horizon connections with improved application profiling. Administrators will have greater visibility and new tools for analysis to understand when and where UEM settings are applied. There will be new advancements in VMware Horizon for Linux as well. VMware Horizon for Linux will support NVIDIA GRID 2.0 to deliver shared and scalable 3D graphics to Linux users with up to 4 displays. VMware Horizon 6.2 for Linux will also offer support for Red Hat Enterprise Linux 7.1. More information: Link VMware Project Enzo. Offers our customers transformed economics and cloud simplicity for virtual desktops and apps via a modern hybrid architecture and hyper converged infrastructure. Project Enzo will be available as beta.\nMore information: Link "},{
  "section": "Blog",
  "slug": "/logbook/site/2015/08/28/manage-hyper-v-in-a-workgroup-remotely/",
  "title": "Manage Hyper-V in a workgroup remotely",
  "description": "",
  "date": "August 28, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v",
  "tags": "hyper-v-2, remote, remotely, windows-server-2016, workgroup",
  "content":"Managing Hyper-V remotely in a workgroup can be challenging to configure. This is still the case for Windows Server 2016. For a testing environment I needed to remotely manage Windows Server 2016 core server with the Hyper-V role enabled from Windows 10 with the Hyper-V manager. I used the following manual configuration:\nClient with Hyper-V Manager (Windows 10). This client is called win10-01 Server with Windows Server 2016 core version with the Hyper-V role enabled. The server is called hv-02 Both systems are in the same workgroup called \u0026ldquo;workgroup\u0026rdquo; Both systems have the same username and password. Configuration on the Windows Server 2016 server:\nEnable Remote Management Configure-SMRemoting.exe -Enable Open firewall for Remote Computer Management Set-NetFirewallRule -DisplayGroup \u0026#39;Windows Management Instrumentation (WMI)\u0026#39; -Enabled true -PassThru\rSet-NetFirewallRule -DisplayGroup \u0026#39;Remote Event Log Management\u0026#39; -Enabled true -PassThru Open firewall for ping (ICMPv4) Set-NetFirewallRule -DisplayName “File and Printer Sharing (Echo Request – ICMPv4-In)” -Enabled True -PassThru Enable Remote Desktop and allow remote connections cscript.exe c:\\Windows\\System32\\SCregEdit.wsf /AR 0 Enable Remote disk management Set-NetFirewallRule -DisplayGroup \u0026#39;Remote Volume Management\u0026#39; -Enabled true -PassThru Configuration on the Windows 10 client:\nCreate a host file with IP address and hostname of the server. Make sure you can ping the hostname Make sure that the network type is part of a private network before executing the WINRM command Enable Remote Management winrm quickconfig For Managing remote systems winrm set winrm/config/client @{TrustedHosts=\u0026#34;Name of the Server\u0026#34;} Enable remote disk Management (add this command on both systems) firewall rule Set-NetFirewallRule -DisplayGroup \u0026#39;Remote Volume Management\u0026#39; -Enabled true -PassThru Open c:\\windows\\system32\\dcomcnfg.exe and allow \u0026lsquo;anonymous logon\u0026rsquo; for local and remote access. After making this settings I was able to manage the Windows Server 2016 server with the following tools remotely:\nHyper-V manager Computer Management Disk Management "},{
  "section": "Blog",
  "slug": "/logbook/site/2015/08/25/easy-way-to-test-windows-server-2016-hyper-v/",
  "title": "Test Windows Server 2016 Hyper-V with VMware Workstation",
  "description": "",
  "date": "August 25, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v",
  "tags": "hyper-v-2, windows-server-2016",
  "content":"Windows Server 2016 Technical Preview 3 (TP3) is released with some cool new features. An easy way to test Windows Server 2016 TP3 is to use VMware Workstation. Windows Server 2016 can be installed with the Hyper-V role and have some VMs nested with minimal configuration.\nFor this test i used the following hard-and software:\nHardware: Dell Latitude E6540 with an Intel i5-4310M CPU and 16 GB memory.\nSoftware: As desktop OS Windows 8.1 Enterprise, VMware Workstation 12 PRO and Microsoft Windows Server 2016 TP3.\nTo install Windows Server 2016 and enable the Hyper-V role and nest VMs use the following steps:\nOpen VMware Workstation Create a new custom Virtual Machine Choose the highest VM hardware compatibility -\u0026gt; Workstation 12.0 In the guest Operating System Installation -\u0026gt; browse to the Windows Server 2016 ISO As Guest Operating System choose -\u0026gt; Microsoft Windows and as version -\u0026gt; Hyper-V (unsupported) Give the VM one or more CPU\u0026rsquo;s and 4 GB of memory if you want to install some VMs in Hyper-V Controller -\u0026gt; LSI Logic SAS Virtual disk type -\u0026gt; SCSI Create a new virtual disk of 40 GB of more. (For the best performance use -\u0026gt; Allocate all disk space now) You\u0026rsquo;re ready to install Windows Server 2016 you have two options: Windows Server with or without GUI.\nAfter the installation add the Hyper-V role and reboot the server. When choosing for the core version install the hyper-v with the following PowerShell command: PowerShell Install–WindowsFeature Hyper-V\nOpen Hyper-V Manager and create one or more VMs When having limited hardware resources and want to test Hyper-V in Windows Server 2016, VMware Workstation is a great choice. Without minimal effort it is possible to install Windows Server 2016, add the Hyper-V role and nest some VMs.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2015/07/30/the-new-way-to-patch-the-vcenter-server-appliance-6/",
  "title": "The new way to patch the vCenter Server Appliance 6",
  "description": "",
  "date": "July 30, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "patch, update, vcenter-server-appliance, vcsa",
  "tags": "patch, update-2, vcenter-server-appliance, vcsa",
  "content":"The patching process in vCenter Server Appliance (vCSA) version 6 is changed from previous versions. It is not possible anymore to use the Virtual Appliance Management Interface (VAMI) and update the appliance using the User Interface. The new way to patch the vCenter Server Appliance involves the following steps:\nDownload the patch from the VMware Patch Download Center, link . Choose vc and select version 6.x Download the latest patch ISO Attach the *.ISO to the vCenter Server Appliance. Open a console session or SSH (SSH must be enabled) to the appliance. In the console session press ALT + F1 and login. Stage the ISO using the following command software-packages stage --iso --acceptEulas See the staged content software-packages list --staged Install the staged content software-packages install --staged Reboot the appliance shutdown reboot -r After the reboot check the new vCenter Server Appliance build version The easy updating process that was used in the vCenter Server Appliance 5.x is gone. The new update process involves more manually steps. We hoping that the easy updating will return in further releases of the vCenter Server Appliance.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2015/07/16/windows-10-with-horizon-view-agent-generates-bsod/",
  "title": "Windows 10 with Horizon View Agent generates BSOD",
  "description": "",
  "date": "July 16, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "horizon-view, windows-10",
  "tags": "horizon-view, windows-10",
  "content":"After installing the VMware Horizon View Agent (6.1.1) on a Windows 10 (tested with build 10240), it generates a Blue Screen Of Death (BSOD) when pressing Ctrl+Alt+Del/Ins.\nThe error is:\nDRIVER_IRQ_NOT_LESS_OR_EQUAL (kbdclass.sys).\nTo fix the problem (The solution was found on the Microsoft Community site, link ):\nRDP to the Windows 10 VM Edit HKLM\\SYSTEM\\CurrentControlSet\\Control\\Class\\{4D36E96B-E325-11CE-BFC1-08002BE10318}\\UpperFilters Put the kbdclass before the vmkbd value Reboot the VM After changing the UpperFilters value I was able to login the Horizon View desktop without BSOD.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2015/07/15/manage-azure-vms-with-system-center-virtual-machine-manager-scvmm/",
  "title": "Manage Azure VMs with System Center Virtual Machine Manager (SCVMM)",
  "description": "",
  "date": "July 15, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "azure, scvmm",
  "tags": "scvmm-azure",
  "content":"With Update Rollup 6 it is possible to add one or more Azure subscriptions to SCVMM 2012 R2. When the Azure subscription is added in SCVMM, it is possible to perform some basic actions such as:\nAdd and Remove one or more Azure subscriptions by using the VMM console. See a list view with details and status of all role instances in all deployments in that subscription. Manually refresh the list of instances. Perform basic actions on the instances: Start Stop Shutdown Restart Connect via RDP To add the Azure Subscription to SCVMM 2012 R2 UR6 following these steps:\n1. Install UR6 to System Center Virtual Machine Manager (SCVMM) 2012 R2, link .\n2. Create a self-signed Azure management certificate. The self-signed must have a key length of at least 2048 bits and should reside in the Personal certificate store. To create a self-signed management certificate, the makercert tool is used. Makecert is part of Windows SDK. The SDK can be downloaded here, link .\nInstall the SDK and choose as feature to install “Windows Software Deployment”. After the installation copy the makecert tool to the SCVMM server.\n3. Create the self-signed certificate with makecert with the following command:\nmakecert -sky exchange -r -n \u0026quot;CN=\u0026lt;CertificateName\u0026gt;\u0026quot; -pe -a sha1 -len 2048 -ss My \u0026quot;\u0026lt;CertificateName\u0026gt;.cer\u0026quot;\nExample:\nmakecert -sky exchange -r -n \u0026quot;CN=ivobeerensazure\u0026quot; -pe -a sha1 -len 2048 -ss My d:\\install\\ivobeerensazure.cer\n4. The certificate needs to be present in the Current User \\ Personal store of the computer running the VMM console.\n5. To upload a management certificate to Azure, go to the Settings page in the Management Portal, and then click MANAGEMENT CERTIFICATES.\n6. In SCVMM start the Add Azure Subscription Wizard, click the Azure Add Subscription button. The wizard is a single page dialog box:\nDisplay Name: Enter the display name Subscription ID: The subscription ID can be found on the Azure website under settings Certificate: Add the self-signed certificate by using the browse button After the Azure subscription is added, the Azure Virtual Machines are listed in SCVMM:\nBasic actions can be performed on the Azure VMs such as:\nUR6 adds support for managing Azure VMs. The management is very basic. So hopefully on the next releases the management support for Azure VMs will be improved.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2015/06/05/vmware-horizon-view-client-drive-redirection/",
  "title": "VMware Horizon View Client Drive Redirection",
  "description": "",
  "date": "June 5, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "horizon-view, VMware-view",
  "tags": "view, VMware-horizon",
  "content":"On of the new features of VMware Horizon 6 version 6.1.1 is Client Drive Redirection (CDR). Microsoft RDS and Citrix already have CDR for many years in there product. Now this handy feature is available in Horizon View. CDR is supported on VDI desktops (single-user) and RDS desktops and applications on Windows and as Tech Preview on Mac OS X clients.\nHere\u0026rsquo;s a quick overview how-to enable Client Drive Redirection (CDR):\nRequirements\nHorizon View 6.1.1 environment (Connection Server, composer etc.) View Agent 6.1.1 or later VMware Horizon Client 3.4.0 build-2769709 Install the Horizon View Agent. During the installation of the VMware Horizon Agent enable the Client Drive Redirection feature.\nAfter installing the new Horizon View Agent is deployed on the Horizon View environment, connect with new 3.4.0 Horizon Client. When connecting for the first time to the there\u0026rsquo;s a pop-up asking to access your local files. Make sure to allow this and select \u0026ldquo;Do not show this dialog again\u0026rdquo;.\nIn the Horizon View Client there is a option called \u0026ldquo;Share Folders\u0026rdquo;. In the sharing box add local drives and folders to share in the VDI desktop session.\nIn the Windows Explorer the drives and folders that are mapped are visible.\nNote: With Client Drive Redirection (CDR), the folders and files that are sent across the network are NOT encrypted!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2015/06/02/tested-vmware-snapshot-management-with-snapwatcher/",
  "title": "Tested: VMware snapshot management with Snapwatcher",
  "description": "",
  "date": "June 2, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "reviews, VMware, vpshere-5",
  "tags": "admin, snapshot, tool, VMware, vSphere",
  "content":"To monitor and manage VMware Virtual Machine Snapshots Opvizor has released a tool called Snapwatcher. As consultant I see often that admins don’t have an overview of all the snapshots that exists in their environment. The main concerns with Virtual Machine snapshots are:\nSnapshots are created and forgot to remove Snapshots can very quickly grow in size Snapshots filling datastore space Delta files may cause decreased Virtual Machine and host performance In this review Opvizor Snapwatcher is tested. With the Snapwatcher tool it is possible to centrally monitoring and managing snapshots one on more more vCenter server environments.\nInstallation The installation of Snapwatcher is simple. Before installing make sure the requirements are met:\nWindows Installer 4.5 Microsoft .NET Framework 4 (x86 and x64) VMware vCenter 4.1 or higher Download and installation the Snapwatcher application. The installation downloads the latest bits from opvizor.com and installs Snapwatcher.\nEvery time Snapwatcher is started it checks for the latest updates. So Snapwather is always up-t0-date.\nConfiguration The first configuration step is adding one or more vCenter Servers:\nAfter adding the vCenter Server(s), thresholds on warning and error levels can be set, for example:\nSize and age of the snapshot Size and percentage of the datastore Amount of snapshots for a Virtual Machine Monitor The dashboard is divided in seperate windows. The screenshot below lists the dabboard with all the 5 windows:\nEach window can be resized and re-ordered. The 5 windows displays the following information:\n1. Overview of the 5 largest snapshots. The amount of snapshots displayed is configurable.\n2. Snapshot Disk Waste History (GB). Displays how much disk space is wasted over a period of time.\n3. Overview of all the snapshot. All the snapshots are listed with there status. Snapshots can be sorted on VM or snapshot name, description, status, Size (GB) and created Date. Actions can performed against snapshots such as delete, fix it and exclude.\n4. General overview information. Display information about the number of vCenters, ESXi servers, VMs, VMs with snapshots added, the total snapshots and snapshot size.\n5. Work History. Displays information about the deleted snapshots and sizes.\nManage From the dashboard the following actions can be performed against snapshots:\nRefresh: Refreshes the dashboard and perform an updated inventory of the snapshots.\nDelete: Remove the snapshot from the VM.\nExclude: Snapshots can be excluded in the dashboard from displaying. This can be handy for template VM with snapshots or VMware Horizon View Linked Clones.\nFix It: Fix It repairs broken snapshots are snapshots that are not managed by the vCenter Server but are still getting used by the Virtual Machine. In the vSphere Web/Client this status is showed as \u0026ldquo;Virtual Machine disks consoldition is needed\u0026rdquo;. In Snapwatcher the status is invalid.\nLicensing When the trail period (7 days) is expired it is still possible to use Snapwatcher. The following Enterprise Edition features will not work when the trail period is over:\nFix broken and inconsistent snapshots with our patent pending technology Ignore certain VM snapshots Track your VMware snapshot history Conclusion Opvizor Snapwatcher is a great tool for a VMware admin to centrally monitor and manage all the snapshots that exists in there VMware environment.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2015/05/11/the-end-of-the-tera1-zero-client-support-in-vmware-horizon-view-6/",
  "title": "The end of Tera1 zero client support in VMware Horizon View 6",
  "description": "",
  "date": "May 11, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware, VMware-view",
  "tags": "VMware-horizon, VMware-horizon-view",
  "content":"The Tera1 zero clients has reached their limits on new features that can be added and the ability to support new features of Horizon View such as RDSH. Teradici supports the following combinations:\nProcessorFirmwareHorizon View Version supportVMware CertifiedTera24.8.06.1YesTera24.7.16.0YesTera14.7.16.0.1No (*2)\r(*2) Tera1 zero clients are certified on VMware Horizon View 5.3 and earlier. Horizon View 6.x is not supported by VMware. If you require VMware support use VMware Horizon View 5.3 and earlier or upgrade to Tera2 zero clients.\nTeradici provides technical support on PCoIP Firmware (FW 4.7.1 and earlier) for Tera1 zero clients with VMware Horizon View 6.0.1 and earlier. Here is an overview of the Teradici End-of-Life (EOL) notifications:\nDefinitionDateEnd-of-Life (EOL) NotificationNotification of EOL provided through Teradici’s Technical Support portal.Tera1 firmware releases will not include development for new platform version support or features.Firmware updates will only be provided to address issues deemed critical by Teradici for Tera1 against supported platform.April 21, 2015End-of-SupportNo additional firmware updates or maintenance releases for Tera1 products after this date.April 30, 2016End-of-Technical GuidanceThe last day in which Teradici Technical Support can answer questions, assist in finding workarounds or provide development guidance.December 31, 2016\rThe latest release of VMware Horizon View when written is version 6.1. Both VMware and Teradici don\u0026rsquo;t have support for the Tera1 zero clients in this release.\nSo what options do you have? The following options can be used when having Tera1 zero clients:\nUse VMware Horizon View 5.3 or earlier. This options is fully supported by Teradici and VMware. Upgrade to View Horizon 6.0.1. This option is only supported by Teradici. Use Tera1 zero clients with Horizon View version 6.1. Don\u0026rsquo;t use any new features that are introduced in VMware Horizon View 6 and later. Be sure to test test and test this option, because this isn\u0026rsquo;t supported by VMware and Teradici! Buy new Tera2 zero clients. 10ZiG for example offers a buy-back program for any Tera1 Zero Client when upgrading to Tera2 hardware. It does not matter which brand the Tera1 zero client is. This can reduced the hardware upgrade costs! Tera2 zero clients adds support for the latest version of Horizon View and improves performance. "},{
  "section": "Blog",
  "slug": "/logbook/site/2015/05/04/vmware-tools-update-fails-on-esxi-6-hosts-with-dutch-operating-systems-vms/",
  "title": "VMware tools update fails on ESXi 6 hosts with Dutch Operating System VMs",
  "description": "",
  "date": "May 4, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi, VMware",
  "tags": "esxi-2, VMware, VMware-horizon-view",
  "content":"After upgrading all the hosts in the lab environment to VMware ESXi 6, I tried to upgrade the VMware tools version of a Dutch Windows 7 golden VM used by VMware Horizon View. The VMware tools upgrade fails with the following message:\nVMware Tools Setup Wizard ended prematurely\nThis is a known bug in VMware ESXi 6.0 with Dutch Operating System VMs (see KB, link ).\nThe following work around can be used:\nCreate a local group named \u0026ldquo;everyone\u0026rdquo; Add the user used for installing VMware tools to the \u0026ldquo;everyone\u0026rdquo; group Run the VMware tools upgrade Remove the \u0026ldquo;everyone\u0026rdquo; group "},{
  "section": "Blog",
  "slug": "/logbook/site/2015/04/29/vmware-horizon-q2-2015-announcements/",
  "title": "VMware Horizon Q2 2015 announcements",
  "description": "",
  "date": "April 29, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "euc, VMware-horizon",
  "tags": "euc, VMware-horizon",
  "content":"VMware announced last week what’s new with Horizon 6 (Q2 2015) as well as some brand new offerings that will help you to deliver and manage apps and end users across physical, virtual and cloud-hosted environments. Here are the announcements:\nUser Experience improvements Linux Desktops support (GA in Q2) User Environment Manager (UEM) (GA in Q2) VMware Workspace Environment Management (WEM) Free SysTrack Desktop Assessment tool User Experience Improvements\nSome new improvements for the upcomming Horizon 6 version are:\nUSB Mass storage support for RDS and Hosted Apps Client drive redirection support. For example make an c-drive available in a RDS desktop. VMware Horizon Client for Chrome Access (Chromebook) with support for Horizon Hosted Apps. Apply for the early access program here, link . Linux Desktop Support\nLinux support for VDI desktops will be available in Q2 2015. Ubuntu, Red Hat Enterprise Linux and CentOS VDI desktops are supported for 3D and Linux office applications. A nice thing about Linux VDI desktop support is the Microsoft desktop licensing is eliminated.\nUser Environment Manager (UEM)\nVMware has acquired Immidio in February 2015. Immidio is now called User Environment Manager (UEM). UEM offers personalization and dynamic policy configuration across any virtual, physical and cloud-based environment. UEM has no new features, only VMware branding is included in this release. UEM will be sold separately as standalone product, included in the Horizon View Enterprise license and available in the VMware Horizon Application Management Bundle.\nVMware has released a VMware User Environment Manager Deployed in 60 Minutes or Less whitepaper. UEM is a simple and straightforward to deploy and get up-and-running, as there is no extra infrastructure needed to configure. The whitepaper can be found here, link .\nVMware Workspace Environment Management (WEM)\nVMware Workspace Environment Management (WEM) is a bundle of products. This bundle is called the VMware Horizon Application Management Bundle. The following products are includes in the bundle:\nVMware User Environment Manager (UEM) VMware vRealize for Published Applications (End-to-End Monitoring). In Q2 XenApp support will be added. VMware App Volumes (Real-Time application delivery) VMware ThinApp (Application Virtualization) VMware Workspace Portal (central portal for your applications) The VMware Horizon Application Management Bundle is sold as standalone product and is available to Citrix Customer for example.\nSysTrack Desktop Assessment\nSysTrack Desktop Assessment (Lakeside software) is a free assessment tool. For customers considering the purchase of VMware Horizon 6 or VMware Horizon Air, Systrack Desktop Assessment provides quick and easy insight into end-user computing infrastructure, applications and desktops. This FREE service provides you with everything you need to gain visibility into your end user environment, understand the best deployment options for Horizon and assess your costs. More information can be found here, link .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/blog/2015/04/tested-sms-passcode-multi-factor-authentication-with-vmware-horizon-view/",
  "title": "Tested SMS PASSCODE multi-factor authentication with VMware Horizon View",
  "description": "",
  "date": "April 14, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "reviews, VMware-view",
  "tags": "reviews-2, VMware-horizon-view",
  "content":" Citrix Web Interface Protection RADIUS Protection Cloud Application Protection IIS Web Site Protection ISA/TMG Web Site Protection Windows Logon Protection Secure Device Provisioning (for ActiveSync devices) In this review we test how-to integrate SMS PASSCODE with the latest version of VMware Horizon View using RADIUS authentication.\nWhat is SMS PASSCODE Unlike traditional hardware-token based solutions, SMS PASSCODE works without distribution of any hardware-tokens. As a result, the logistic overhead involved is minimal and roll-out is much faster. On the mobile phone is no software installation needed. Just extract the cell phone number from the AD.\nSMS PASSCODE sends a One-Time-Passcode (OTP) to the user mobile phone. SMS PASSCODE looks at multiple factors such as time, geo-location, and type of login system being accessed.\nSMS PASSCODE offers a Multi-Factor Authentication (MFA) solution that adds an extra security layer to the VMware Horizon View environment. VMware Horizon View has support for RADUIS authentication.\nLAB environment In the lab environment the following components are installed:\nHorizon View Clients (PCoIP, RDP and HTML) Horizon View Security Server Horizon View Connection Server external Horizon View Connection Server internal Microsoft SQL Server Horizon View Composer vCenter Server Active Directory Domain Controller SMS PASSCODE version with Network Policy Server (NPS) role installed For the external connection to the VMware Horizon View environment a Multi-Factor Authentication (MFA) is configured by using SMS PASSCODE. The internal Horizon View users don\u0026rsquo;t use SMS PASSCODE to connect.\nThe following software versions are used:\nWindows Server 2012 R2 Active Directory (AD) Windows Server 2008 R2 for the SMS PASSCODE and NPS software role VMware vSphere 6 VMware Horizon View 6.1 SMS PASSCODE 7.2 Instead of using a GSM modem, a Web Service SMS dispatching service is used for sending messages. A GSM modem is highly preferred in a production environment.\nInstallation and configuration Management Installation of SMS PASSCODE SMS PASSCODE is installed on a Microsoft 32-or 64-bit Windows Operating System.. The core components of SMS PASSCODE are:\nDatabase Service. The database stores the SMS PASSCODE configuration and user data. Transmitter service. This service is responsible for dispatching messages and validation of SMS PASSCODE logons. Handles load balancing and failover between all GSM modems Load Balancing service. Service responsible for load balancing and failover. Web Administration Interface. Web site for maintaining user and configuration data These core components can be distributed over one of more servers to provide redundancy and load distribution for enterprise 24x7 uptime demands. In the lab setup all the core components are installed on a single server.\nAs Authentication Client Radius protection is selected during the installation.\nNetwork Policy Server (NPS)\nOn the SMS PASSCODE server the Network Policy Server (NPS) role is installed for RADIUS authentication.\nConfiguration Web Administration Interface (WAI)\nThe Web Administration Interface (WAI) is available from the web browser on port 2000. From the WAI the configuration of SMS PASSCODE is done.\nFrom the WAI we need to do the following main steps:\nConfigure AD integration and the messaging infrastructure used in the General settings Configure the User Integration Policy (UIP) Configure User Group Policies Configure transmission infrastructure for creating a dispatching entity Step 1. General Settings In the general settings tab AD integration in single sync mode is enabled. With single sync mode users are imported from a single user group.\nIn the globalization options the messaging infrastructure used. The following messages infrastructures can be used in SMS PASSCODE:\nSMS OTP E-mail OTP Voice call OTP Web service SMS OTP Token OTP Personal passcode OTP The SMS OTP is the most secure option to use and highly preferable. In our lab environment we use Web service SMS OTP as messaging infrastructure. A 3rd party web service is used for SMS dispatching.\nStep 2. User Integration Policy (UIP) User Integration Policies are used to configure how users in the SMS PASSCODE database are synchronized with users from one or more Active Directory stores.\nWhen enabling AD integration, users are synced when belonging to a specified group or attribute. For example the mobile attribute is used to retrieve AD users. Only users with the phone number filled in are synced to SMS PASSCODE.\nStep 3. User Group Policies (UGP) User Group Policies (UGP) are used for managing users. Every users is assigned to a UGP and automatically inherits the settings specified by this policy. For example the administrator could change type of passcode dispatching, SMS type (Flash/normal) or Self Service Site permissions in the UGP. A UGP manage user settings on a group basis or on individual basis by overriding the UGP .\nWe changed the default UGP for the dispatch type to “Send passcodes by web services SMS”.\nStep 4. transmission infrastructure for creating a dispatching entity In our lab environment we don’t have a GSM modem for send SMS messages, so we used and configure a Web Service Dispatcher service for sending in SMS messages.\nAfter these four main configuration steps we can test if the SMS message is sent to the user mobile phone by selecting the test button and choose for the Web Service Dispatcher option. A test SMS message is sent to the users mobile phone. If the SMS message arrives on the mobile phone the configuration is ready for the next step.\nWhen the four main steps are performed it is possible to perform some optional additional steps such as:\nAdjust the passcode policy to reflect to the organization policy. For example adjust the minimal passcode length, composition of the passcode, lifetime and message composition for the SMS message that is sent to the mobile phone. Create Authentication policies and lockout periods settings Enable Geo IP and IP history lookup to identify where in the world your users are logging-in. Configure date and time restrictions Configure the Self Service Web Site. The Self-service web site is for maintaining the users account settings and Password Resets. Network Policy Server (NPS) On the Network Policy Server a RADIUS Client profile is created. The RADIUS profile points to the VMware Horizon View Connection Server (3) that is configured for the external users. In this Client profile we enter the following information:\nFriendly Name. DNS or IP address of the Connection server. Manually assigned a shared secret that will be used for the RADIUS connection between the NPS and Connection Server. VMware Horizon View external Connection Server configuration On the Horizon View Connection Server (3) for the external access we configure 2-factor authentication for Remote Authentication Dial-In User Service (RADIUS). On the VMware Horizon View Connection Server we create a RADUIS profile using the following settings:\nIn the primary Authentication Hostname/Address the IP address of the NPS server. NPS is installed on the SMS PASSCODE server. The same shared secret is used from the NPS Client configuration.\nConnecting to the VMware Horizon View environment Externally users connect to the VMware Horizon View environment by using the VMware View Client and HTML Access.\nVMware Horizon View Client When connecting externally to the VMware Horizon View environment by using the Horizon View Client, the following login box appears in the Horizon View Client:\nAfter entering the AD user name and password credentials, a One-Time-Passcode (OTP) is send the user mobile phone.\nEntering the OTP in the Next Code: field and you\u0026rsquo;re authenticated to the VMware Horizon View environment and you see your pool entitlements.\nHTML access Another option is to connect to the VMware Horizon View environment is by using HTML access. This option does not require any software other than a supported browser such as IE, Chrome or Firefox on the client. HTML access uses the Blast protocol instead of the PCoIP protocol. The login steps are the same as the Horizon View client.\n** **\nConclusion SMS PASSCODE is a multifactor solution that adds an extra security layer to the VMware Horizon View environment. SMS PASSCODE has the following pros:\nStable and flexible product. We tested SMS PASSCODE for several months and it is a very stable product. We experienced no crashes or strange things during our tests. Simple installation, configuration and maintaining Can be used in Small and Midsize Business (SMB) till large Enterprise (24x7) environments (scalable). No extra software is needed on the users mobile phone No hardware-tokens are needed Because RADIUS authentication is used, it works with new versions of VMware Horizon View out of the box. For SMS PASSCODE a Windows Operating System is needed. It would be great if in the future an appliance version can be used wihout the need of a Windows Operating System.\nWhen working with external users that connect to your VMware Horizon View environment an extra security layer is needed besides the standard username and password.\nSMS PASSCODE offers that extra layer of security by using 2-factor or Multi-Factor Authentication.\nMore information Want to try SMS PASSCODE live or request a free 30 day trial? Click the link. vExperts can obtain a NFR license by sending an email to support@smspasscode.com . Provide some documentation that proves you are a vExpert.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2015/04/10/first-impressions-of-cisco-ucs-central-1-3/",
  "title": "First impressions of Cisco UCS Central 1.3",
  "description": "",
  "date": "April 10, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "cisco",
  "tags": "central, cisco, ucs",
  "content":"Cisco released version 1.3(1a) of UCS Central. Cisco UCS Central integrates management of one or more UCS domains in a single management solution. This release has the following new enhancements:\nHTML5 UI: New task based HTML5 user interface. KVM Hypervisor Support: Ability to install Cisco UCS Central in KVM Hypervisor Scheduled backup: Ability to schedule domain backup time. Provides you flexibility to schedule different backup times for different domain groups. Domain specific ID pools: The domain specific ID pools are now available to global service profiles. NFS shared storage: Support for NFS instead of RDM for the shared storage is required for Cisco UCS Central cluster installation for high availability. The ability to manually push global VLANs and VSANs to UCS Manager without having to deploy a Global Service Profile to improve the centralized VLAN and VSAN management. Support for Cisco M-Series Servers. Connecting to SQL server that uses dynamic port. Support for SQL 2014 database and Oracle 12c Database. Upgrading\nFor upgrading Cisco UCS Central, use the ISO image. You can upgrade Cisco UCS Central to release 1.3(1a) from any of the following two releases:\nFrom 1.1(2a) to 1.3(1a) From 1.2(x) to 1.3(1a) The upgrade process is simple, attach the ISO and reboot the the Cisco UCS Central Virtual Machine and select the upgrade option.\nAfter a couple of minutes the upgrade is finished and the appliance can rebooted.\nUser Interfaces (UI)\nThe legacy interface can still be used by using a https connection to the UCSC appliance.\nThe new HTML 5 interface can be accessed by using the following URL:\nhttps:///ui Below are some screenshots of the new HTML-5 UI:\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2015/03/25/vcenter-server-6-and-the-vpostgres-database/",
  "title": "vCenter Server 6 and the vPostgres database",
  "description": "",
  "date": "March 25, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vcenter-2, VMware",
  "tags": "database, vcenter",
  "content":"In vCenter Server 5.x the embedded SQL Express database supports a maximum of 5 hosts and 50 Virtual Machines. With vCenter Server 6 the embedded database is changes from SQL Express to a vPostgress database. The vPostgres database supports a maximum of 20 hosts and 200 VMs. In comparison the vPostgres database on the vCenter Server Appliance (VCSA) 6 supports 1000 hosts and 10000. When upgrading or fresh installing vCenter Server 6 make sure to note the following items:\nWhen upgrading to vCenter Server 6.0, the Microsoft SQL Express database is migrated to a vPostgres database. Oracle, SQL Standard and Enterprise database editions will not be migrated to vPostgres. It is possible to upgrade without migrating the SQL database to vPostgres. Make sure you have a supported SQL database before upgrading. More information can be found here, link . When uninstalling vCenter Server 6 the embedded VMware vPostgres database will be removed with all the data! More information can be found here, link . How to backup and restore the vPostgres database there is a Python script available. This script can be found here, link . VMware vSphere Update Manager can\u0026rsquo;t use the embedded vPostgres database! For VMware vSphere Update Manager you need a Microsoft SQL (Express) database. When combining the vCenter Server, PSC and VUM on one server, two different databases engines are used. This looks like this: "},{
  "section": "Blog",
  "slug": "/logbook/site/2015/03/18/what-vmware-horizon-view-powercli-features-you-like-to-see/",
  "title": "What VMware Horizon View PowerCLI features you like to see?",
  "description": "",
  "date": "March 18, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "horizon-view",
  "tags": "horizon-view, powercli",
  "content":"PowerCLI 6.0 R1 is released with some cool new features. One thing I missed in this announcement is improvements in the PowerCLI support for VMware Horizon View. The latest release of VMware Horizon View 6.1 still has NO PowerCLI improvements! This is a huge bummer because PowerCLI is very limited in VMware Horizon View.\nOn the VMware PowerCLI Blog the following statement is written (link ):\nEach new release tends to have several features or enhancements that have been asked for by YOU, our customers. These new features come to us by way of interaction at events like VMworld, Partner Exchange, VMUG Conferences, Twitter, Email, and customer visits. What better way to show our customers that we listen then by adding in features they ask for? This release does not disappoint! Thank you to all who provide feedback and help us continue to improve this great tool.\nSo we must provide feature request feedback to the PowerCLI team to improve PowerCLI for VMware Horizon View!\nI have the following feature requests:\nAbility to run from remote systems Creating and exporting desktop pools with all the settings available as in the GUI (Horizon View Administrator) Available as module Getting the Health overview as in the VMware Horizon View Administrator Filter on the desktop status such as problem desktops, agent unreachable, deleting, missing, disconnected, available etc. Filter pools and display the amount of desktops that are used, available desktops, headroom and total desktops. Check the ADAM replication between the Connection Servers Search and filter the Event database on error and warnings Add or remove a VM to a manual pool Send messages to desktops Please let me know what features request you have by placing a comment in this blog post, even if it is already mention. All the feature requests will be bundled and forwarded to the PowerCLI team. I hope to see some of the feature requests in the next release of PowerCLI for VMware Horizon View.\nLooking forward for your feature requests!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2015/02/17/tips-installing-system-center-virtual-machine-manager-2012-r2-update-rollup-ur5/",
  "title": "Tips for installing System Center Virtual Machine Manager 2012 R2 Update Rollup (UR5)",
  "description": "",
  "date": "February 17, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v, scvmm",
  "tags": "hyper-v-2, scvmm",
  "content":"Here are some tips for installing System Center 2012 R2 Virtual Machine Manager Update Rollup (UR5):\nUR5 is available from Microsoft Update or by manual download. If you are not installing UR5 through Microsoft Update (e.g. you’re downloading the update and then installing it), you must install using elevated privileges. If you do not do this the update may fail silently. During the UR5 installion the System Center Virtual Machine Manager \u0026amp; Agent will be stopped After the SCVMM UR5 server component, reboot the VMM server before installing the UR5 console Before Update Rollup 5, you had to manually update the System Center Virtual Machine Manager DHCP Server (x64) component. As of Update Rollup 5, this is no longer required. When updating the agent on the server the DHCP server components is updated too. The new SCVMM UR5 agent build version is: 3.2.7895.0 The Microsoft System Center Virtual Machine Manager DHCP Server (x64) build version is still 3.2.7768.0 Make sure to update the agent on all the infrastructure servers such as the Update Server and library server. In VMM click on Fabric- Server for a complete overview Refresh the cluster after updating the agents When starting the VMM console the following error appears: This error is permission related. To solve this error add the \u0026ldquo;Authenticated Users\u0026rdquo; group to the AddInPipeline directory and assign read and execute rights. The installation of VMM can be found under: \u0026lt;Driveletter\u0026gt;:\\Program Files\\Microsoft System Center 2012 R2\\Virtual Machine Manager\\bin\\AddInPipeline. For all the details on SCVMM 2012 R2 UR5, see the following:\nKB3023195 - Description of the security update for Update Rollup 5 for System Center 2012 R2 Virtual Machine Manager, link "},{
  "section": "Blog",
  "slug": "/logbook/site/2015/02/11/fix-vmware-horizon-view-desktop-provisioning-errors/",
  "title": "Easily fix VMware Horizon View desktop provisioning errors",
  "description": "",
  "date": "February 11, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware-horizon-view-2",
  "tags": "horizon-view, VMware",
  "content":"Sometimes you are unable to remove linked clones or stale desktop entries from the VMware Horizon View Administrator. In this example we have a missing VM in the VMware Horizon View Administrator.\nWhen trying to remove the VM from the VMware Horizon View Administrator the following error is generated:\nFailed to remove VM\u0026hellip;\u0026hellip; from the View Composer Inventory\nTo remove the orphaned missing VM, you need to manually, remove the orphaned records from the ADAM and composer database, AD and vCenter Server. The process is described in the following KB:\nManually deleting linked clones or stale virtual desktop entires KB, link Executing the procedure described in the KB can be a risky. VMware has released a new tool (fling) called \u0026ldquo;ViewDBChk\u0026rdquo;. The ViewDBChk tool allows administrators to scan and fix provisioning errors that can not be addressed using the VMware Horizon View Administrator. This tool is supported on VMware Horizon View 5.3 and 6.0. Fling tools are not supported by VMware! For Horizon View 6.1 and later, the ViewDbChk tool is included with your View Connection Server installation!\nThe Fling ViewDbChk can be found here, link "},{
  "section": "Blog",
  "slug": "/logbook/site/2015/02/02/whats-new-vsphere-6-vcenter-server-appliance-vcsa/",
  "title": "What&#39;s new in the vCenter Server Appliance (vCSA) 6.0",
  "description": "",
  "date": "February 2, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vcenter-2, vcsa",
  "tags": "vcenter, vcsa, VMware",
  "content":"What’s new in the vCenter Server Appliance (vCSA) 6.0:\nISO with an easy guided Installer Different deployment options possible during the guided installer such as: Install vCenter Server Install Platform Services Controller Install vCenter Server with an Embedded Platform Controller (default) Scripted install. Values can be specified in a template file Embedded vPostgres database. As external database Oracle is supported. IPv6 Support Enhanced Linked mode support VMware Data Protection (VDP) support for backup and recovery Based on a hardened Suse Linux Enterprise 11 SP3 (64-bit) The minimum (Up to 20 hosts and 400 VMs) appliance requirements for the VCSA are: 2 vCPU 8 GB memory ~ 100 GB diskspace Is has the same feature parity as vCenter Windows: What are we missing:\nStill no Microsoft SQL database support. Possibility to separate roles of the vCenter VMware Update Manager is not included in the appliance. Still need an additional Windows Server for VMware Update Manager (VUM) Clustering of the vCenter Server Appliance "},{
  "section": "Blog",
  "slug": "/logbook/site/2015/02/02/whats-new-vsphere-6/",
  "title": "What&#39;s new in vSphere 6?",
  "description": "",
  "date": "February 2, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vSphere6",
  "tags": "VMware, vSphere6",
  "content":"Here is an overview of the main new VMware vSphere 6 (over 650 new features and innovations) improvements announced today:\nScalability\nvSphere Clusters: Up to 64 nodes and 6000 VMs Hosts: 480 physical CPUs, 12 TB RAM, 64 TB datastores, 1000 VMs and 32 serial ports. vGPU Nvidia support VMs: Up to 128 vCPUs and 4 TB vRAM vCenter Server\nPlatform Services Controller (PSC). The Platform Services Controller (PSC) contains common Infrastructure Services such as: Single Sign-On Licensing Certificate Authority Certificate Store Service (Product) Registration Other future services PSC is a central part that is used for example by vCoud Suite parts such as vCenter, vRealize Operations, etc.). For most environments (8 or less vCenter Servers) a vCenter Server with 1 embedded PSC is sufficient. Enhanced Link Mode (ELM). Enhanced Link Mode (ELM) will support Windows and vCSA deployments and require a Platform Services Controller (PSC). Microsoft Clustering support for vCenter Server. vCenter Server 6.0 will support the clustering of the vCenter Server in addition to the backend database. vCenter Server Appiance (vCSA): ISO file that contains a guided installer Embedded vPostgres database. As external database Oracle is supported. Enhanced Linked mode support VDP support for backup and recovery of the vCSA More information can be found in this blog post, link Storage\nStorage I/O Control (SIOC). Per VM storage reservation NFS 4.1 with Kerberos support. NFS client support for NFS 4.1 Virtual Volumes (VVols) and Storage Policy-Based Management. Enables VM-aware storage. VVOl is offered by storage vendors such as NetApp, Dell, PureStorage, EMC, Nimblestorage, IBM and Tintri Virtual SAN (VSAN) 6 contains the following improvements: Scalability improvements such as: New On-Disk format for higher performance, efficient and scalable high performance snapshots and clones. All flash support Usability improvements in Web Client such as: Storage consumption information Resync status information Failure Domains. Allow grouping of hosts into different logical failure zones. This ensures replicas from a VM are not provisioned onto the same logical failure zone. Failure Domains are no metro/stretched clusters! Failure Domains is also known as rack awareness. Disks serviceability. Map the location of a magnetic or flash device from the Web Client on failures, SSD, local etc. VSAN is sold as separate product and not included in the license! Availability\n64 node cluster support and 6000 VMs VMware VM Component Protection (VMCP) vMotion Across vCenter Servers. vMotion across virtual (distributed) switches No need of shared vMotion is needed Long-Distance vMotion up to 100ms RTTs Benefits: Permanent migrations between data centers Disaster avoidance (DA) SRM/DA testing Multi-site load balancing Fault Tolerance (FT) increase support for 1, 2 and 4 vCPU VMs Integration with vCloud Air (replication and backup) vSphere Replication. 5 mins increments (5.5 was 15 minutes) and 2000k replicated VMs per vCenter App HA. Support for more business critical applications Network\nNetwork I/O Control (NIOC). Per VM and Distributed Switch bandwidth reservation Management\nvSphere Web Client enhancements such as better performance and tagging improvements. The Web Client still uses flash! The vSphere Client C# is still available in this release. No new features are in this release. Hardware versions 9 to 11 features are read-only or unavailable in the vSphere Client C#. Multi-Site Content Library. Stores and sync VMs, Templates, OVFs, ISOs and scripts from one central location and sync the content across other vCenter Servers (sites) vSphere 6 has support for Hardware Version 11. Main improvements of Hardware Version 11 are: Maximum video memory up to 2 GB (512 MB in Hardware Version 10) PCI passtrough 16 devices (6 in Hardware Version 10) 32 serial ports (4 in in Hardware Version 10) "},{
  "section": "Blog",
  "slug": "/logbook/site/2015/01/14/scvmm-2012-r2-agent-update-error/",
  "title": "SCVMM 2012 R2 agent update error",
  "description": "",
  "date": "January 14, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v, vmm",
  "tags": "hyper-v-2, system-center-virtual-machine-manager, vmm",
  "content":"After updating System Center Virtual Machine Manager to Update Rollup 4 (UR4), one of the post installation tasks is updating the VMM agents on the Hyper-V hosts. Updating the VMM agent can be performed from the VMM console or using PowerShell. On one of the Hyper-V hosts I got the following error when trying to update the VMM agent from the console:\nError (10429) An older version of the Virtual Machine Manager server is installed on . The VMM agent on the VMM management server cannot be upgraded independently\nI didn\u0026rsquo;t found a reason why the VMM console was unable to update the agent on the Hyper-V host. The other hosts in the cluster are upgraded without a problem.\nAfter some troubleshooting, the following steps resolved the VMM Agent update error:\nManually uninstall the VMM agent from the Hyper-V host Copy the VMM agent from the VMM server to the Hyper-V host. The agent is default located on the following location on the VMM server: Systemdrive\\Program Files\\Microsoft System Center 2012 R2\\Virtual Machine Manager\\agents\\amd64\\3.2.7768.0\\vmmAgent.msi Install the VMM Agent. When trying to install the VMM agent the following error occurred: Microsoft System Center Virtual Machine Manager Agent (x64) Setup Wizard ended prematurely\nOpen a Command Prompt (Run as Administrator) Browse to the location where the VMM agent is stored Execute the following command: msiexec /I vmmAgent.msi In the SCVMM Console Reassociate the Hyper-V host and perform a cluster refresh After these steps the updated VMM agent is installed on the Hyper-V server.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2015/01/05/new-whitebox-extending-home-lab/",
  "title": "New whitebox for extending my home lab",
  "description": "",
  "date": "January 5, 2015",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hardware, home-lab, whitebox",
  "tags": "esxi-2, home-lab, hyper-v-2, VMware, whitebox",
  "content":"For a couple of months I’m searching for an extra whitebox host for extending my home lab environment. My current lab whitebox is a Haswell based whitebox (see: link). Here is an overview of the new lab environment:\nFor the new whitebox I had the following requirements:\nHardware such as NICs must be recognized by VMware ESXi Use 32 GB memory or more Low power consumption Expandable Small form factor Quiet Possibility to run nested hypervisors such as VMware ESXi and Hyper-V Remote Management Possibility to create a VMware Cluster and use vMotion, HA, DRS and DPM with the existing Haswell host I reviewed the following popular home lab systems:\nIntel NUC Apple Mini Gigabyte BRIX The main reason to NOT choose for one of the above systems is the only support 16 GB of memory. In November 2014 I found a motherboard that passes all the requirements, the ASRock C2750 motherboard. After some additional research I ordered the following parts to build this whitebox:\nASRock C2750 motherboard Kingston 4 x8GB, DDR3, PC12800, CL11, Total 32 GB memory be quiet System Power supply 7 300W Cooler Master Midi Tower N300 ATX VMware ESXi boots from an USB stick and the VMs are placed on a iSCSI target so no extra storage is needed. The above parts cost me around € 735,00.\nThe ASRock C2750D4I motherboard has the following specifications:\nMini ITX motherboard CPU: Intel Avoton C2750 64-bit 8 cores processor (passive cooled) Graphics: ASPEED AST2300 16 MB Memory: 4 x DDR3 DIMM slots, max: 64 GB memory Controller: Intel C2750: 2 SATA3, 4 x SATA2 Marvell SE9172 2 x SATA 3, Marvell SE9230 4 x SATA3. Total of 12 SATA ports. NIC: Dual Intel i210 Gigabit LAN adapter 1 x PCIe 2.0 x8 slot Remote Management: BMC Controller with IPMI dedicated LAN adapter TPD of 20 watt CPU\nThe Intel Avoton C2750 is an atom based processor and contains 8 cores. It is passive cooled and quiet. The Avoton processor is 64-bit and supports Intel VT-x with Extended Page tables (EPT), so it is possible to nest hypervisors such as ESXi and Hyper-V. The Atom processor with 8 cores gives enough CPU performance for my lab environment.\nMemory\nThe motherboard contains 4 memory banks with a maximum of 64 GB DDR3 memory (4 x 16 GB). I choose to use 4 x 8 GB Kingston DDR3, PC12800, CL11 dimms because of the price. 16 GB modules are to expensive on the moment. The motherboard has 32 GB of memory.\nNICs\nThe ASRock C2750D4I system contains a dual Intel i210 Gigabit LAN adapter. The Intel i210 adapters are standard recognized by ESXi 5.5 and Windows Server 2012 R2. No additional modifications or drivers are needed.\nPower consumption\nThe 300 W Power Supply is more than enough. The processor has a TPD of 20 watt. This whitebox consumes around 35 W with a couple of VMware VMs on it.\nThe ASRock C2750D4I system is part a VMware cluster with Distributed Power Management (DPM) enabled. When DPM kicks in only 4 watt is used.\nRemote Management\nManagement and remote control is possible because of the BMC (Baseboard Management Controllers) and IPMI (Intelligence Platform Management Interface).\nVMware ESXi support\nOn the ASRock C2750D4I system, VMware ESXi 5.5 Update 2 with the latest updates is installed.\nThe Intel i210 Gigabit NICs and the Avoton AHCI controllers are recognized out of the box. So VMware VSAN (unsupported) could be an option to use.\nThe SATA 6 Gb/s controller is not recognized by default. Follow the instruction explained in the following blog to enable the controller:\nHow to make your unsupported SATA AHCI Controller work with ESXi 5.5 and 6.0, link . Update March 23, 2015: Today I installed VMware ESXi 6.0 on the C2750. Everything seems to work.\nWindows Hyper-V support\nAs test I installed vNext Server Technical Preview on the ASRock C2750D4I system (with SSD as local storage) with the Hyper-V role enabled. The two Intel i210 Gigabit NICs are recognized out of the box. It has great performance.\nConclusion\nThe ASRock C2750D4I motherboard is a great system for building or extending a home lab environment based on VMware or Hyper-V. This board gives enough performance for a home lab and meets all the requirements I had for an additional whitebox host. I use it mainly for nesting VMware ESXi and Hyper-V hypervisors.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2014/12/17/vibsearch-finding-vib-versions/",
  "title": "VIBSearch Finding VIB versions",
  "description": "",
  "date": "December 17, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi, powercli, PowerShell, VMware",
  "tags": "esxi-2, powercli, PowerShell, vib, VMware",
  "content":"VIBSearch is a simple PowerShell script with a GUI that will search for a specified VIB or all the VIBS installed on the ESXi hosts. A VIB stands for vSphere Installation Bundle (VIB). VIBs are used to package and distribute ESXi software such as drivers. The GUI is designed with SAPIEN PowerShell Studio 2014.\nWith VIBSearch it is easily to verify that all the ESXi host in the cluster have the same VIB versions installed. VIBSearch can be used for example to easily identify the HP-AMS driver version on all the ESXi hosts.\nRequirements\nVIBSearch is tested with:\nPowerShell 5 The latests PowerCLI modules For the Out-GridView cmdlet, PowerShell ISE is needed. Install ISE by using the following PowerShell commands: Import-Module ServerManager Add-WindowsFeature PowerShell-ISE Installing and executing VIBSearch\nDownload VIBSearch.txt, link Open PowerShell and execute: Set-ExecutionPolicy unrestricted ./vibsearch.ps1 After executing the script the following GUI appears:\nTo connect enter the FQDN or IP address of the vCenter name (1) and click on Connect (2) button A credential window appear, enter the credentials for authenticating (administrator) to the vCenter Server. For a domain login use: user user@domainname or domainname\\username After successfully authenticating to the vCenter Server there are two options to choose: List All the VIBS: List all the ESXi hosts in the vCenter Server Search VIB: specify a VIB name for example \u0026ldquo;HP-AMS\u0026rdquo; If authentication to the vCenter Server fails the following error is displayed in the PowerShell window:\nExample output:\nHP-AMS VIB versions\nIntel NIC VIB \u0026ldquo;net-igb\u0026rdquo; versions\nNVIDIA VIB versions:\nThanks to Francois-Xavier Cat (@LazyWinAdm) for helping me with the VIBSearch tool.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2014/11/26/identify-single-sign-sso-deployment-method-vcenter-server/",
  "title": "Identify the Single Sign-On (SSO) deployment method for the vCenter Server",
  "description": "",
  "date": "November 26, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "sso, VMware, vSphere",
  "tags": "deployment, srm, sso, VMware, vSphere",
  "content":"With vSphere 5.5 you have the following deployment methods for Single Sign-On (SSO):\nvCenter Single Sign-On for your first vCenter Server vCenter Single Sign-On for an additional vCenter Server in an existing site (formerly HA Cluster) vCenter Single Sign-On for an additional vCenter Server with a new site (formerly Multisite) Once SSO is installed it can be usefull to identify what deployment options are used for example in a Site Recovery Manager (SRM) deployment. The following steps can be used to identify what deployment option are used for SSO on a vCenter Server 5.5:\nBrowse to the following directory on the vCenter Server: C:\\ProgramData\\VMware\\VMware VirtualCenter Use a type command to display the LS_ServiceID.prop file. The file contains the site name and identifier. For example: SiteName1:10b042be-9b7a-467c-aa05-047a895c60fb Repeat the above steps on the other vCenter Server(s) If the string is the same in both sites SSO has deployed as: \u0026ldquo;vCenter Single Sign-On for an additional vCenter Server in an existing site\u0026rdquo;. If the string is different, the vCenter Single Sign-On instance is deployed as: \u0026ldquo;vCenter Single Sign-On for an additional vCenter Server with a new site\u0026rdquo;.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2014/11/13/hurry-vcp5-dcv-delta-exam/",
  "title": "Hurry-up for the VCP5-DCV Delta Exam",
  "description": "",
  "date": "November 13, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vcp",
  "tags": "study, vcp, VMware",
  "content":"VMware has released a new delta exam to re-certify current VCP5-DCV holders. This delta exam focusses on material between vSphere 5.0/5.1 and vSphere 5.5 exams. This exam must be done before the end of the month! Here are some details of the exam:\nBased on new material between the vSphere 5.0/5.1 and vSphere 5.5 exams The VCP5-DCV Exam consists of 65 questions and a short pre-exam survey consisting of 8 questions In the VMware Education portal check when the VCP5-DCV certification expires: The passing score is 300 (scale from 100-500) The exam is available in English and Japanese Exam time limit is 75 minutes and 15 minutes for the survey questions. (30 minutes additional time for countries where English is not a primary language) Available online and you can take it from any location The cost of the VCP5-DCV delta exam is: €90,00 The exam must be completed within 2 days of your registration with PearsonVUE If a candidate fails an exam on the first attempt, he or she must wait seven calendar days from their Original appointment time before he or she can register to retake the exam The exam will only be offered until November 30, 2014. Update: VMware extending the period to take the exam, it will be available through March 10, 2015. The blueprint can be found here, link The exam code is: VCP550D Let me know your experience with the VCP5-DCV Delta (VCP550D) Recertification Exam.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2014/10/30/tips-installing-update-rollup-4-system-center-2012-r2-virtual-machine-manager/",
  "title": "Tips for Installing Update Rollup 4 for System Center 2012 R2 Virtual Machine Manager",
  "description": "",
  "date": "October 30, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "",
  "content":"Update Rollup (UR) 4 for System Center 2012 R2 Virtual Machine Manager is released this week. The update contains a huge list of issues that are fixed and support for the following Linux systems is added:\nRed Hat Enterprise Linux 7 (64 bit) Oracle Linux 7 (64 bit) CentOS Linux 7 (64 bit) Here are some tips for installing Update Rollup (UR) 4 for System Center 2012 R2 Virtual Machine Manager:\nInstall the VMM Server and Administrator Console package by using Microsoft Update, WSUS or manual download After the update of UR4 the SCVMM host must be rebooted Before Update Rollup 4, you had to run an SQL script after you installed an update package to make sure Update Rollups function correctly. As of Update Rollup 4, this step is NO longer required Update the VMM agents of all the SCVMM components such as Hyper-V hosts, VMM Server, Library and WSUS server. The SCVMM UR4 agent version is: 3.2.7768.0 The System Center Virtual Machine Manager DHCP Server (x64) component must be manually updated on all VMM Hyper-V hosts. To update the agent, first uninstall the old version by running the following command from an elevated PowerShell Command Prompt: (Get-WmiObject -Class Win32_Product -Filter \u0026#39;Name = \u0026#34;Microsoft System Center Virtual Machine Manager DHCP Server (x64)\u0026#34;\u0026#39; -ComputerName . ).Uninstall() Copy the DHCPExtn.msi from SCVMM server (default installed in C:\\Program Files\\Microsoft System Center 2012 R2\\Virtual Machine Manager\\SwExtn) to the Hyper-V host and execute the MSI. No restart of the Hyper-V host in needed Check if the version of the DHCP Server component. The version must match 3.2.7768.0. Use the following PowerShell command: Get-WmiObject -Class win32_product -Filter \u0026#39;Name = \u0026#34;Microsoft System Center Virtual Machine Manager DHCP Server (x64)\u0026#34;\u0026#39; Update the UR4 System Center Virtual Machine Manager Console on all servers for example the SCVMM admin workstations and Citrix Delivery Controllers. "},{
  "section": "Blog",
  "slug": "/logbook/site/2014/10/23/hp-ams/",
  "title": "HP AMS driver problem in ESXi 5.x",
  "description": "",
  "date": "October 23, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi",
  "tags": "bug, esxi-2, hp, VMware",
  "content":"The last weeks several customers contacted me that one or more ESXi hosts are not manageable anymore. The ESXi host has the following symptoms:\nUnable to manage using the vSphere Client, Web Client or SSH. Unable to perform a vMotion On the ESXi console there is a message: can\u0026rsquo;t fork Enable services from the console does not work The VMs are still running on the ESXi host. This is a known issue and can occur when running the following versions of the HP AMS driver:\nhp-ams 500.9.6.0-12.434156 hp-ams-550.9.6.0-12.1198610 hp-ams 500.10.0.0-18.434156 (Added 13-11-2014) hp-ams-550.10.0.0-18.1198610 (Added 13-11-2014) In some situations the ESXi servers is still manageable in vCenter, so vMotion can be used . In all the other situations shutdown the VMs by using RDP or SSH and reboot or reset the ESXi server. The HP AMS driver must be upgraded to version 10.0.1 or can be disabled. The VMware KB can be found here .\nI developed a simple PowerCLI script to list the HP-AMS driver version of each ESXi host.\nUpdate 17-12-2014: I developed a new PowerShell tool called VIBSearch. This this graphical tool it is easier to search a specific VIB. More information can be found here: Link Script:\n## Problem with HP AMS hp-ams 500.9.6.0-12.434156 and hp-ams-550.9.6.0-12.1198610 ## http://kb.vmware.com/selfservice/microsites/search.do?language=en_US\u0026amp;cmd=displayKC\u0026amp;externalId=2085618 # Add PowerCLI module Add-PSSnapin vmware.VimAutomation.core -ErrorAction SilentlyContinue # VMware VirtualCenter server name $VCserver = Read-Host \u0026#34;Enter your vCenter server\u0026#34; $Username= Read-Host \u0026#34;Enter the Username\u0026#34; $Password = Read-Host \u0026#34;Enter Password\u0026#34; # Connect to the vCenter Server Connect-VIServer -Server $VCserver -User $Username -Password $Password -port 443 # Clear screen Clear $GetHosts = Get-VMHost | Where {$_.ConnectionState -eq “Connected”} ForEach ($VMHost in $GetHosts) { $ESXCLI = Get-EsxCli -VMHost $VMHost Write-Host $VMHost -ForegroundColor Green $ESXCLI.software.vib.list() | Where {$_.Name -eq “hp-ams”} | Select Name,Vendor,Version | FT } # Disconnect session vCenter Disconnect-VIserver -Confirm:$false Example output:\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2014/10/09/controlup/",
  "title": "Monitor VMware Horizon View environments with ControlUp",
  "description": "",
  "date": "October 9, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "reviews, VMware-horizon-view-2",
  "tags": "monitor, reviews-2, VMware, VMware-horizon-view",
  "content":"A couple of weeks ago ControlUp released version 4.0 with support for VMware Horizon View. In this blog post I share my experience with ControlUp 4.0 monitoring VMware vSphere and VMware Horizon View.\nWhat is ControlUp\nControlUp is a real-time performance monitor for Microsoft Remote Desktop Services (RDS), Citrix, and physical- and virtual server environments. ControlUp can be used to:\nTroubleshoot performance issues in real time Analyze performance trends and usage patterns Compare and manage multiple computers Investigate incidents and receive email alerts The new 4.0 version of ControlUp has added support for:\nVMware vSphere (4.x and 5.x) Citrix XenServer (6.x) VMware Horizon View desktops (5.x and 6.x) ControlUp is tested against the following lab environment:\nVMware ESXi 5.5 Update 2 VMware Horizon View 6.x environment with the composer The VDI desktops are part of a floating pool Windows 7 64-bit as VDI desktop OS. Installation and configuration\nThe installation is very simple. On a management server execute a single executable (ControlUpConsole.exe). It\u0026rsquo;s runs in memory, so there is no installation needed. The console is the GUI for displaying data and running tasks. As prerequisites .Net Framework 3.5 SP1, Active Directory connection and a internet connection is required. ControlUp will default enabled in Enterprise Mode. The Enterprise Mode offers features that allow you to collaborate with team members and defining user roles and delegate administrative tasks to different ControlUp users. The other option is to use Standalone Mode. Standalone Mode does not require an active internet connection but is limited, for example in collaboration and delegation.\nAfter creating an account is is time to create one or more organization(s). An organization represents groups of computers managed by the same administrators. By creating additional organizations it is possible to segment your network computers into different administrative units managed by different administrators. After this the configuration is ready.\nMonitoring VMware environments\nFor VMware environments you need to add the vCenter Server to the ControlUp Console. When the vCenter is added, the cluster(s), hosts and VM\u0026rsquo;s inventory is displayed in the ControlUp console. In the following example we added a vCenter server with a 1 cluster that contains 3 ESXi hosts.\nTo organize the computers a folder tree is created. For ESXi hosts, counters on CPU, Memory, Networking and storage can be monitored. For every counter a specific tresholds per folder can be configured. Here is an overview of counters that can be monitored on the vSphere layer:\nThe Stress level reflects the state of the performance metric reported to the console. In the following example we stressed the ESXi hosts memory threshold (90% \u0026gt;) by powering extra VMs.\nThe stress level jumped to high (red) within seconds. So in real time you see what is happening to the vSphere layer. In the next example we stressed the datastore latency (\u0026gt; 22 ms) and free datastore space (below 500 MB).\nIn the above examples we see when a threshold is exceeded on the VMware ESXi hosts, it is displayed almost in real time in the ControlUp Console.\nMonitoring VMware Horizon View VDI Desktops\nTo monitor VMware Horizon VDI desktops, a lightweight ControlUp agent needs to be installed. The ControlUp agent can be installed in the Golden Image or deployed when the VDI desktop is running. It is important that firewall ports on RCP, WMI, Windows Remote Management and the ControlUp agent firewall ports are allowed. After adding the ControlUp agent, VMware View specific settings can be displayed.\nIn the following example we have 4 Windows 7 VDI desktops. As you can see the stress level is low or medium.\nIn a Windows 7 VDI desktop we installed to 3e party tool \u0026ldquo;heavyload\u0026rdquo; to generate CPU load on the VDI desktop. When starting \u0026ldquo;Heavyload\u0026rdquo; the CPU spiked to 100%.\n\u0026nbsp;\u0026nbsp;\rIn the ControlUp console we looking in the Computer tab and see the Stress level after a couple of seconds changing to \u0026ldquo;High\u0026rdquo; and the CPU graph is raising to 100%.\nTo see what is causing the high CPU load we opened \u0026ldquo;Processes\u0026rdquo; tab and sort on the Stress Level to see what process is causing the CPU load. We see that the Process \u0026ldquo;HeavyLoad.exe\u0026rdquo; is causing the high load.\nOn the right menu you see some actions that be performed. Here are some examples:\nGetting a Screenshot of the desktop Ending or killing the process Throttle the CPU for a process In the following example we use the tool \u0026ldquo;heavyload\u0026rdquo; again to generate memory load. Now we see that the Stress Level is critical again and that the Memory is red.\nTo see what is causing the high memory load, open the\u0026quot; Processes\u0026quot; tab and sort on the Stress Level to see what process is causing the high memory load. And again the process \u0026ldquo;HeavyLoad.exe\u0026rdquo; is causing the high memory load.\nTriggers\nWhen a service stops or a event occur it is possible to generate an alert. Using the \u0026ldquo;Incident Triggers\u0026rdquo; feature you can configure triggers to detect the following conditions:\nStress level Windows Event Computer Down Process Started or Ended User Logged On/User Logged Off Session State changed When a trigger occur an real time alert can be generated such as sending an email. There are pre-configured incident triggers for Horizon View services and events that occur.\nTesting ControlUp\nControlUp has a launched an Expert Program for vExperts and recognized VMware View Consultants. To apply for the license, register here . All other VMware View admins can simply download ControlUp from the ControlUp website and enjoy the free unlimited 30 days trial.\nConclusion\nVersion 4 is the first version that supports VMware vSphere and Horizon View. In this blogpost I highlighted a couple of examples that shows the strength of ControlUp and how easy it is to install and use. In real time you see what is happing in your environment and drill from the hypervisor down to the Windows process level to identify what is causing the problem. This makes troubleshooting a lot easier on VMware Horizon View environments. The VMware Horizon View specific counters are a bit limited on the moment but ControlUp is asking your feedback on this. If you miss something let them know by using the \u0026ldquo;feature request\u0026rdquo; button.\nControlUp has a lot more features then showed in this blog post. Other features are for example:\nRDP to computer Remote Assistance Use RunAs accounts for actions Update and killing Group Policies Sending messages and chatting with users Multiple computers management on the file system, registry and services. All these features makes ControlUp a powerful tool for the VMware Horizon View Administrator.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2014/09/17/vmware-view-check-the-replication-status/",
  "title": "Troubleshoot replication problems between VMware Horizon View Connection servers",
  "description": "",
  "date": "September 17, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware-horizon-view-2, VMware-view",
  "tags": "horizon, view, VMware",
  "content":"In environments with multiple Horizon View Connection Servers (High Available) the Lightweight Directory Access Protocol (LDAP) directory is replicated. Configuration, Pool and desktop information is stored in the ADAM database. Problems with replication can result in:\nConfiguration changes made are not replicated Authentication problems The VMware View Administrator dashboard does not check the replication status. So regular checking the replication status is a good thing. Checking the replication status can be done by using the following command:\nrepadmin.exe /showrepl localhost:389 DC=vdi,DC=VMware,DC=int When the replication is okay, it looks like something below:\nWhen there are problems with the replication between the Connection Servers errors as \u0026ldquo;8453 Replication access was denied\u0026rdquo;, \u0026ldquo;1772 The list of RPC servers available for the binding of auto handles has been exhausted\u0026rdquo; or 8457 The destination servers is currently rejecting replication requests\u0026quot; are displayed using the repadmin utility.\nWhen having replication problems, changes are not replicated. Here is an example when logging in the VMware View Administrator on each View Connection server, it displays differences in the \u0026quot; Preparing\u0026quot; \u0026quot; Problem Desktops\u0026quot; and \u0026quot; Prepare for use\u0026quot; amounts.\nHere are some tips for troubleshooting replication problems:\nCheck if port 389 is open on the View Connection Servers Restart the VMware View LDAP directory service (VMware VDMS service). It will restart the View Connection Server service. Force replication by using the following command: repadmin.exe /replicate fqdn-localhost:389 fqdn-remotehost:389 dc=vdi,dc=VMware,dc=int Change the fqdn-locahost and fqdn-remote host to the View Connection Server names in your environment Ensure that replication has not been disabled by using the following command: repadmin /options localhost:389 -DISABLE_OUTBOUND_REPL -DISABLE_INBOUND_REPL With the checks listed above the replication can be checked and in most cases repaired if it is broken.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2014/09/09/error-occurred-vcenter-operation-editing-vmware-horizon-view-pool/",
  "title": "Error occurred during vCenter operation when editing a VMware Horizon View pool",
  "description": "",
  "date": "September 9, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware-horizon-view-2, VMware-view",
  "tags": "error, horizon-view, VMware",
  "content":"When editing a VMware Horizon desktop pool in some situations the server error ‘Error occurred during vCenter operation’. appears.\nThe error hasn\u0026rsquo;t any useful information that says what is wrong. When this error occurs the vCenter Server is unable to find one or more objects listed in the desktop pool. When changing datacenter, cluster or host settings in vCenter the desktop pool must be updated to. To resolve this error open the desktop pool, select the vCenter settings tab an check or update the Parent VM, Snapshot, Host or cluster, Resource pool and datastores. Also check if the ESXi host with local storage are not in maintenance mode! After updating these settings the error must be gone.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2014/08/12/conflicting-vibs-error-upgrading-esxi-using-hp-esxi-5-5u1-iso/",
  "title": "Conflicting VIBS error when upgrading ESXi using the HP ESXi 5.5u1 ISO",
  "description": "",
  "date": "August 12, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "",
  "content":"When upgrading from VMware vSphere 5.1 Update 2 to vSphere 5.5 Update 1 using the HP 5.5u1 ISO (VMware-ESXi-5.5.0-Update1-1746018-HP-5.74.27-Jun2014) the following error occurred:\n\u0026lt;CONFLICTING_VIBS ERROR:Vibs on the host are conflicting with vibs in metadata.Remove the conflicting VIBs or use Image Builder to create a custom ISO providing newer versions of the conflicting vibs. [‘Broadcom_bootbank_net-bnx2 – 2.2.5d.v55.2-1OEM.550.0.0.1331820,’Broadcom_bootbank_net-bnx2x_bnx2 – 2.2.5d.v55.2-1OEM.550.0.0.1331820]\u0026gt;\nThis issue occurs due to the version numbering of the Broadcom NX2 and Nx2x driver drivers within the HP Custom Image for ESXi 5.5 Update 1, which prevents the upgrade installation of these drivers in ESXi 5.5 Update 1.\nTo work around this issue use the VMware-ESXi-5.5.0-Update1-1623387-HP-5.73.21-Mar2014.iso. After the upgrade use VMware Update Manager to install the latest patches**.** Another work around is tocreate custom ISO with the “HP 5.5u1 ISO (VMware-ESXi-5.5.0-Update1-1746018-HP-5.74.27-Jun2014” using ESXi Image Builder.\nMore information about this issue can be found here:\nVMware Community thread, link VMware KB article, link "},{
  "section": "Blog",
  "slug": "/logbook/site/2014/08/01/installing-update-rollup-3-system-center-2012-r2-virtual-machine-manager/",
  "title": "Installing Update Rollup (UR) 3 for System Center 2012 R2 Virtual Machine Manager",
  "description": "",
  "date": "August 1, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v, scvmm",
  "tags": "hyper-v-2, scvmm, system-center, update-2",
  "content":"Update rollup (UR) 3 for System Center 2012 R2 Virtual Machine Manager is released this week. This update includes a Linux guest agent upgrade to support the following new operating systems:\nUbuntu Linux 14.04 (32-bit) Ubuntu Linux 14.04 (64-bit) This update also includes the following:\nHost DHCP extension driver upgrade Several performance improvements?????? Several Management Pack package improvements And a huge list of issues that are fixed. More information can be found in the Microsoft KB article found here, link .\nThe update can be installed by using Windows Update, WSUS or manual downloading the files and execute them. After the installation of Update rollup 3 execute the SQL Script against the SCVMM database. The SQL script is listed in the Microsoft KB. Don’t forget to update the VMM agents on all the infrastructure server.\nThe update of the VMM agents doesn’t require a reboot. The Update Rollup 3 agent version is 3.2.7672.0.\nHost DHCP extension driver upgrade\nUpdate Rollup 3 includes an VMM DHCP server extension update for the Hyper-V host. When using Hyper-V Network Virtualization networks with dynamic IP address allocation, the VM may not get an IP address for a few minutes after the reboot. The new DHCP extension fix this problem. To check the DHCP Extension driver version use the following PowerShell command on the Hyper-V host:\nGet-WmiObject -Class win32_product -Filter ‘Name = “Microsoft System Center Virtual Machine Manager DHCP Server(x64)” For more tips see my earlier blog post “Tips for deploying SCVMM 2012 R2 Rollup 2”, Link .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2014/07/23/vmware-horizon-view-optimization-guide-windows-7-windows-8-white-paper-update/",
  "title": "VMware Horizon View Optimization Guide for Windows 7 and Windows 8 white paper update",
  "description": "",
  "date": "July 23, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vdi, VMware-horizon-view-2, VMware-view",
  "tags": "horizon-view, vdi, VMware, windows-7, windows-8",
  "content":"VMware released an updated version of the “VMware Horizon with View Optimization Guide for Windows 7 and Windows 8” whitepaper. This white paper discuss the necessary information for optimizing a Windows 7 or Windows 8 virtual desktop image for VMware Horizon View using the Microsoft Deployment Toolkit (MDT) or use a script-based approach.\nThe updated (July 15, 2014) “VMware Horizon with View Optimization Guide for Windows 7 and Windows 8” whitepaper can be found here. Link Changelog scripts:\nRemoved on 03 June 2014 The following code was removed to fix issues with IE10, IE11, and Adobe Acrobat: rem reg ADD “HKLM\\System\\CurrentControlSet\\Control\\Session Manager\\Memory Management” /v MoveImages /t REG_DWORD /d 0x0 /f\nRemoved on 11 February 2014 Rem Remove recycling bin reg ADD “HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\ policies\\Explorer” /v NoRecycleFiles /t REG_DWORD /d 0x1 /f\nUpdated version of the VMware OS Optimization Tool The VMware Labs Flings has an updated version of the \u0026ldquo;VMware OS Optimalization Tool\u0026rdquo;. The VMware OS Optimization Tool helps optimize Windows 7/8/2008/2012 systems for use with VMware Horizon View. New enhancements are:\nUpdated templates for Windows 7/8 – based on VMware’s OS Optimization Guide New templates for Windows 2008/2012 RDSH servers for use as a desktop Single portal EXE design for ease of deployment and distribution Combination of Remote and Local tools into one tool Better template management, with built in and user-definable templates Results report export feature. "},{
  "section": "Blog",
  "slug": "/logbook/site/2014/07/14/veeam-v8-coming/",
  "title": "Veeam v8 is coming",
  "description": "",
  "date": "July 14, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "backup, disaster-recovery",
  "tags": "backup, disaster-recovery, hyper-v-2, veeam, VMware",
  "content":"The new version of Veeam is called “Veeam Availability Suite v8”.\nThe Veeam Availability Suite v8 has improvements in the following areas:\nHigh Speed Recovery Data Loss Avoidance Verified Protection Leverage Data Complete Visibility HIGH-SPEED RECOVERY\nEnables low recovery time objectives (RTOs) of \u0026lt;15 minutes; enables rapid recovery of the data customers want, in the form that they want it. Features are:\nInstant VM Recovery Instant File-Level Recovery NEW v8 Veeam Explorer™ for Microsoft Exchange, SharePoint, SQL Server,Active Directory NEW v8 Veeam Explorer for Storage Snapshots (HP and NetApp) DATA LOSS AVOIDANCE\nAvoids data loss by enabling low recovery point objectives (RPOs) of \u0026lt; 15 minutes and facilitating offsite data protection. New features v8 are:\n2-in-1: backup and replication Built-in WAN Acceleration Native tape support NEW v8 Backup from Storage Snapshots (HP and NetApp) NEW v8 EMC Data Domain Boost NEW v8 Veeam Cloud Connect NEW v8 End-to-end encryption NEW v8 Replication enhancements VERIFIED PROTECTION\nReliably restores files, applications and virtual servers when needed; ensures business resiliency through automated backup and DR testing.\nSureBackup SureReplica LEVERAGE DATA\nEliminates the risks associated with application deployment; allows you to test changes in a production‐like environment before actually deploying them.\nVirtual Lab COMPLETE VISIBILITY\nProvides monitoring and alerting tools so that you can discover and be alerted to issues in your IT environment before they have a significant impact.\nComplete visibility of the Veeam backup infrastructure vSphere Web Client Plug-in vCloud Director integration Centralized management The Veeam Availability Suite v8 is scheduled for Q3 2014.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2014/07/08/remove-an-orphaned-vm-from-scvmm/",
  "title": "Remove an orphaned VM from SCVMM",
  "description": "",
  "date": "July 8, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper, hyper-v, scvmm",
  "tags": "hyper-v-2, scvmm",
  "content":"During a migration of a VM from a different cluster the job failed in SCVMM.\nThe status of the VM in SCVMM Virtual Machine State is still “Starting”.\nIn SCVMM I was unable to stop, repair or delete the VM. When looking on the Hyper-V host, the VM didn’t exist in Failover Cluster Manager or Hyper-V manager. After some troubleshooting I was able to use the following PowerShell command to remove the orphaned VM in SCVMM:\nImport-Module VirtualMachineManager Get-VM -VMMServer \u0026lt;VMMSERVER\u0026gt; –Name \u0026lt;VMNAME\u0026gt; | Remove-VM -Force Replace the and in the PowerShell syntax with your own names\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2014/06/24/create-a-vmware-horizon-view-self-signed-certificate-with-makecert/",
  "title": "Create a VMware Horizon View self signed certificate with makecert",
  "description": "",
  "date": "June 24, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware Horizon, VMware View",
  "tags": "VMware View, VMware Horizon",
  "content":"With the command line Windows utility makecert.exe it is possible to create quickly a self-signed (private) certificate that can be used with VMware Horizon View. Makecert is part of the Windows Software Deployment Kit (SDK)for Windows 7 and 8. Below are the steps outlined to create a self-signed certificate using makecert.\nThe SDK can be downloaded here, link . Install the SDK and choose as feature to install “Windows Software Deployment”. After the installation copy the makecert.* utility to the VMware View Connection server Open a elevated command prompt Create the self-signed root certificate, command: makecert -pe -n “CN=ViewRootCA” -ss root -sr LocalMachine -sky signature -r “ViewRootCA.cer Open certlm.msc and go to “Trusted Root Certification Authorities” and verify if the root certificate generated with makecert.exe exist. The root certificate can copied to all the servers and View Clients. If the clients are domain joined a Group Policy can be used to distribute the root certificate. More information can be found here, link . Create a new self-signed certificate, command: makecert -pe -n “CN=viewcon02.beerens.local,cn=viewcon02” -ss my -sr LocalMachine -sky exchange -in “ViewRootCA” -is root -ir LocalMachine -sp “Microsoft RSA SChannel Cryptographic Provider” -sy 12 viewcon02.cer The certificate is added to the personal store of the local computer Change the Friendly name of the newly created self-signed certificate to: vdm Remove the already existing self-signed certificate Restart the VMware View Connection Server service In the System Health dashboard the Connection Server system health gets green "},{
  "section": "Blog",
  "slug": "/logbook/site/2014/06/19/unable-to-perform-a-compliance-scan-in-scvmm/",
  "title": "Unable to perform a Compliance Scan in SCVMM",
  "description": "",
  "date": "June 19, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v, scvmm",
  "tags": "hyper-v-2, scvmm",
  "content":"In System Center Virtual Machine Manager (SCVMM) an Update (WSUS) Server is added, so VMM can be used to update the hosts with Windows patches.When trying to scan a cluster of hosts for compliance the following error occurred:\nError (24035)\nCompliance scan failed with error: 80244017.\nRecommended Action:\nEnsure the WINHTTP proxy settings are correctly configured for the communications with WSUS. If WSUS is configured to use SSL ensure the WSUS certificate is installed in the trusted Root CA for the machine and then try the operation again.\nThe cluster consist of several Microsoft Hyper-V Server 2012 R2 hosts. All the hosts are configured with a proxy server during the initial installation. After resetting the proxy server per host, the SCVMM was able to perform a compliance scan without errors. The following command is used to reset the proxy server configuration on the core version:\nnetsh winhttp reset proxy\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2014/06/09/scvmm-library-is-unable-to-refesh-a-file-because-it-is-in-use/",
  "title": "SCVMM library is unable to refesh a file because it is in use",
  "description": "",
  "date": "June 9, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v, scvmm",
  "tags": "hyper-v-2, scvmm",
  "content":"In the jobs window in the System Center Virtual Machine Manager (SCVMM) console , the following warning appeared:\nWarning (10803)\rUnable to refresh \\\\server\\share\\ISO\\Windows2012 R2\\SW_DVD5_Windows_Svr_Std_and_DataCtr_2012_R2_64Bit_English_Core_MLF_X19-05182.ISO because the file is in use by another process.\rRecommended Action\rWait for the next automatic library refresh, or manually refresh the library share after the process completes. The warning means that the ISO file is in use by one or more VMs. To find the VMs that are using the ISO file I created the following PowerShell script:\nImport-module VirtualMachineManager Get-SCVMMServer -ComputerName VMMSERVER Get-SCVirtualMachine | Get-SCVirtualDVDDrive | Where-Object {$_.Connection -eq \u0026#34;ISOImage\u0026#34;} | Select Name, Connection, ISO This script displays all the VMs that have an ISO file attached. The script is tested against a SCVMM 2012 R2 server.\nAfter changing the VMs Virtual DVD drive to “No media” the hourly (default) refresh of the library went without a warning.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2014/05/21/reset-the-root-password-on-an-esxi-server/",
  "title": "Reset the root password of an ESXi server",
  "description": "",
  "date": "May 21, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi, VMware",
  "tags": "esxi-2, password, reset, VMware",
  "content":"Some time ago I needed to make a SSH connection to a new installed ESXi server. The default root password the customer was using was not working. The admin who installed the ESXi server didn’t known the password anymore. So i needed to reset the password. The VMware Knowledge Base states the following on resetting the root password on ESXi:\nReinstalling the ESXi host is the only supported way to reset a password on ESXi. Any other method may lead to a host failure or an unsupported configuration due to the complex nature of the ESXi architecture. ESXi does not have a service console and as such traditional Linux methods of resetting a password, such as single-user mode do not apply. Link I didn’t have the time to reinstall the ESXi server.I remember that Host Profiles has an option to reset the root password. Host Profiles is a feature of the Enterprise plus license. The customer license was Enterprise and not Enterprise Plus. So I requested a 60 day trail license of VMware vSphere. The trail include a Enterprise Plus license.\nHere is an overview of the steps to reset the root password:\nEnter the trail license in the vSphere Client and register the host with the trail license Put the host in Maintenance mode Open the vSphere Client In Host Profiles, Create a Profile from existing host and select the host, enter the Name Nagivate to the security configuration, Administrator Password and select “Configure a fixed administrator password” Enter the new root password twice Attach the host profile to the host Right-click the host and select Apply Profile Wait till the Host Profile Compliance status is Compliant. The root password is now changed! Test if it is possible to SSH to the ESXi host Delete the Host Profile Change the license from Enterprise Plus to the original license Remove the Enterprise Plus license Exit maintenance mode "},{
  "section": "Blog",
  "slug": "/logbook/site/2014/04/30/tips-for-deploying-scvmm-2012-r2-rollup-pack-2/",
  "title": "Tips for deploying SCVMM 2012 R2 Rollup 2",
  "description": "",
  "date": "April 30, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v, scvmm, update",
  "tags": "hyper-v-2, scvmm, update-2",
  "content":"Last week Update Rollup 2 (UR2) for System Center 2012 R2 Virtual Machine Manager is released. UR2 contains important fixes for SCVMM2012 R2. Here are some deployment tips for UR2:\nWait a least couple of weeks before deploying Update Rollups in your production environment. It happens that new Update Rollups contains huge bugs and are pulled back! Make sure you have a backup of the SCVMM database before installing UR2 Install the UR2 by download the VMM management server and VMM admin console packages link (or use Windows Update /WSUS to install both packages). Older packages such as UR1 does not need to be removed. In a SCVMM HA environment install UR2 first on the passive node, perform a failover and install UR2 on the other node. After installing UR2 update execute the SQL script listed in the KB2932926 article on the SCVMM database In the VMM console check the version by selecting help. The UR2 must be 3.2.7634.0. This step is often forgotten. In the VMM admin console perform a cluster refresh (Fabric-Cluster-Refesh). After the refresh job completes the host status is changed in “Needs Attention”. This means that the VMM agent must be updated on all the hosts. Update the VMM agent by right click on the host en choose “Update Agent”. No reboot of the host is required. Using PowerShell the Update-VMMManagedComputer cmdlet can be used to update the agent After the VMM agent is updated on the host check the version of the agent on the general tab on the host. The UR2 agent version must be 3.2.7634.0. With PowerShell you can list all the agent versions by using: Get-VMMMangedComputer | Select Name, AgentVersion\nSystem Center Virtual Machine Manager (SCVMM) 2012 R2 builds and versions\nBuildVersion3.2.7510.0System Center 2012 R2 Virtual Machine Manager RTM3.2.7620.0Update Rollup 1 (UR1)3.2.7634.0Update Rollup 2 (UR2)3.2.7672.0Update Rollup 3 (UR3)3.2.7768.0Update Rollup 4 (UR4)3.2.7895.0Update Rollup 5 (UR5)3.2.8002.0Update Rollup 6 (UR6)3.2.8071.0Update Rollup 7 (UR7)3.2.8117.0Update Rollup 8 (UR8)3.2.8145.0Update Rollup 9 (UR9)3.2.8169.0Update Rollup 10 (UR10)3.2.8224.0Update Rollup 11\u0026nbsp;(UR11)3.2.8228.0Update Rollup 11 (Hotfix 1)3.2.8292.0Update Rollup 12\u0026nbsp;(UR12)"},{
  "section": "Blog",
  "slug": "/logbook/site/2014/04/23/update-the-vcenter-inventory-in-vcac-manually/",
  "title": "Update the vCenter inventory in vCAC manually",
  "description": "",
  "date": "April 23, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vcac, vcloud-automation-center, VMware",
  "tags": "vcac, vcloud-automation-center, VMware",
  "content":"When creating a new template in vCenter and want to use the new created template in a blueprint, the blueprint will not list the template because the vCenter inventory isn’t updated in vCAC. By default vCAC will update the vCenter inventory once a day. To manually update the vCenter inventory in vCAC 6.x use the following steps:\nLogin the vCloud Automation Center console Select the Infrastructure tab Select Compute Resources Select the Compute Resource you want to update. In this example it’s “cluster-01” Select “Data Collection” Click on the “Request Now” button in the Inventory field update the vCenter inventory. Wait till the vCAC page refeshes and check the last completed and status field to be sure that the refresh succeeded. Creating a new blueprint will list the new created template in vCenter "},{
  "section": "Blog",
  "slug": "/logbook/site/2014/04/15/identify-nic-driver-and-supported-driver-version-for-esxi-server/",
  "title": "Identify the NIC driver and supported driver version for an ESXi server",
  "description": "",
  "date": "April 15, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware vSphere, VMware ESXi",
  "tags": "VMware vSphere, VMware ESXi",
  "content":"Lately, I troubleshooted some NIC driver problems in VMware ESXi. During the troubleshooting, I needed to Identify the NIC driver, the software version used, and the latest driver version supported by VMware. Here are the steps outlined.\nIdentify the NIC driver and software version: Make an SSH connection to the ESXi host Identify all the NICs by using the following command: esxcli network nic list In this example you can see that Intel (igb) and Broadcom (tg3) NICs are used. To identify the driver version of the Broadcom NIC (vmnic0) use the following command: esxcli network nic get -n “vmnic0 driver: tg3 version: 3.135b.v50.1 firmware-version: FFV7.6.14 bc 5720-v1.31 bus-info: 0000:01:00.0\nIdentify the latest NIC driver supported by VMware: We need to find the hardware IDs of the NIC by using the following command: vmkchdev -L | grep “vmnic\u0026quot; The hardware ID contains the following parts:\nVID = Vendor Id (Red part) DID = Device Id (Yellow part) SVID = Sub-Vendor Id (Green part) SSID = Sub-Device Id (Blue part) Open the VMware Compatibility Guide (HCL) webpage and choose IO Devices, Link On the right you see the “Additional Criteria” column. Enter the VID, DID, SVID, and SSID generated by the vmkchdev command Click the “Update and View Results” button The NIC is displayed, click on the Model Expand the version of ESXi (release) used. Click on the the Download link (if exist). Download the driver and use VMware Update Manager (VUM) or use esxcli software vib update command to install the driver "},{
  "section": "Blog",
  "slug": "/logbook/site/2014/04/09/vmware-horizon-6-whats-new/",
  "title": "What&amp;rsquo;s new in VMware Horizon 6",
  "description": "",
  "date": "April 9, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "horizon, view, VMware",
  "tags": "horizon, view, VMware",
  "content":"VMware Horizon 6 has been today announced. VMware Horizon 6 has five major enhancements:\nCloud Pod Architecture. Remote Desktop Session Host (RDS) Hosted Apps Virtual SAN Application Catalog vCops for View 6 Here is an overview picture of the Horizon 6 architecture:\nCloud Pod Architecture In version 5 Horizon View supports 10.000 desktops in a Pod. If you need to to have more or than 10.000 desktops or needed to span a datacenter another Pod was needed. With the Cloud Pod Architecture the following improvements has been made :\nEnable Horizon deployments across multiple datacenters New data layer replication across all Horizon Connection Servers (such as pool configurations and user entitlements). Support single namespace for end users with a global URL Global entitlement layer to assign and manage desktops and users Benefits:\nScale Horizon View deployments to multiple datacenter above 10.000 desktops Support Active/Active and DR use case of Horizon deployments Support geo-reaming users Maximums of the Cloud Pod Architecture\nDescriptionNumberNumber of sites (datacenters)2Number of Pods4Number of users/desktops (sessions)20.000\rThe Horizon 6 View infrastructure servers supports Windows Server 2012 R2 as Operating System.\nRDS Hosted Apps Prior Horizon 6 VMware only offers a VDI desktops. With RDS Hosted Apps in Horizon 6, VMware offers access to applications and full desktops running on Microsoft Remote Desktop Services Hosts with the PCoIP and Blast protocol. The RDS apps are available to the Horizon View broker.\nBenefits\nWindows 2008 and 2012 Microsoft Remote Desktop Services Hosts are supported Seamless local look, feel and interaction for users Works with Windows and Non-Windows devices such as Windows XP, Windows 7 and Windows 8 desktops, laptops and thin clients, iOS and Android tablets and Mac OSX. A client for Linux will be available soon In the View clients the full desktops and RDSH applications looks as follows:\nVirtual SAN for Horizon View Desktops In Horizon View 5.3.1 support for VSAN was added. It was available as separate product. Now in Horizon 6 VSAN is added for free in the Horizon 6 Advanced and Enterprise Edition!\nApplication Catalog The Application Catalog offers a unified workspace for applications. One portal to for all applications (Local ThinApps, Citrix XenApp, SAAS and Remote Apps) from different devices.\nThe Application Catalog key themes are:\nXenApp integration in the Application catalog ThinApp package delivery on any Windows desktop Office 365 and non-SAML web apps Improved resource management \u0026amp; categorization Seamless integration with Horizon View The application catalog has multi-forest Active Directory support and can be easily customized by changing logos, login prompt, application launchers, backgrounds etc.\nvCops for View 6 vCenter Operations Manager for View 6 has the following new improvements:\nHorizon 6 support 25K concurrent users per instance Single integrated console for all vCOPs support environments (desktop, server etc) Application \u0026amp; In Guest Metrics. Drill down to the process level for key resource consumption per user and application Licenses Horizon 6 has three new editions available:\nHorizon View Standard Edition: Delivers simple, high-performance VDI-based virtual desktops with a great user experience\nHorizon Advanced Edition: Offers the lowest cost solution for virtual desktop and application management, optimized storage with VMware Virtual SAN, image management and a unified workspace that supports hosted desktops and applications.\nHorizon Enterprise Edition: Delivers a cloud-ready solution for virtual desktops and applications with advanced cloud automation and management capabilities for hybrid cloud flexibility.\nMore information can be found on the pricing page, link .\nThe Horizon 6 enhancements are a big step for the End-User Computing (EUC) market!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2014/04/01/vexpert-for-the-fourth-time/",
  "title": "vExpert for the fourth time!",
  "description": "",
  "date": "April 1, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vexpert, VMware",
  "tags": "vexpert, VMware",
  "content":"The vExpert 2014 are announced. This year 754 people (including me) are awarded with the vExpert 2014 title.\nEach of these vExperts have demonstrated significant contributions to the community and a willingness to share their expertise with others.\nThis is the fourth time I got the vExpert award. I would like to thank John Troyer, Corey Romero and the rest of the VMware Social \u0026amp; Community Team for making this possible.\nCongratulations to all the other 2014 vExperts. The official 2014 vExpert list can be found here, link .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2014/03/20/install-a-wildcard-certificate-on-a-vmware-horizon-view-security-server/",
  "title": "Install a wildcard certificate on a VMware Horizon View Security Server",
  "description": "",
  "date": "March 20, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "horizon, view, VMware",
  "tags": "horizon-view, view, VMware",
  "content":"On a View Security Server I needed to change the default self signed certificate to a signed wildcard certificate. The customer had a wildcard certificate that didn’t include the private key. A certificate that include the private key is a requirement for a VMware View Security server.\nIf you have the certificate (*.cer or .crt) and private key (.key), convert it to a PCKS#12 (PFX) format before you import the certificate. To create a certificate that include the private key I used the following steps:\nDownload and install OpenSSL and Visual C++ 2008 Redistributables. Link The install folder of OpenSSL is: C:\\OpenSSL-Win64\\ Place the certificate (*.cer or .crt) and private key (.key) file in the C:\\OpenSSL-Win64\\bin directory folder Open a command prompt and set the environment variable: Set OPENSSL_CONF=c:\\OpenSLL-Win64\\bin\\openssl.cfg Create another environment variable: Set RANDFILE = .rnd Generate a PCKS#12 (PFX) keystore file from the private key and certificate file. Syntax example: OpenSSL.exe pkcs12 –export -out newcertificatename.pfx –inkey privatekey.key –in certificate.crt Enter the password for the certificate The next step is to Import the certificate on the security server:\nOpen the MMC on the Security Server and add the Certifcates snap-in In the Windows local computer store import the generated P12 certificate Type the password for the private key Make sure the certificate is exportable Change the friendly name to vdm and make sure that the friendly name of the self signed certificate is changed to something else Restart the View Connection Security service The new wildcard certificate has a private key and is trusted in the VMware View client and on the View Administrator page.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2014/03/06/vmware-vsan-launch-qa/",
  "title": "VMware VSAN Launch Q&amp;A",
  "description": "",
  "date": "March 6, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware, vsan",
  "tags": "VMware, vsan",
  "content":"VMware has today announced VSAN. Here are some highlights from the Q\u0026amp;A session:\nVSAN will be GA at March 10 2014 vSphere 5.5 Update 1 will support VSAN GA Beta VSAN upgrades to the GA release are not supported VSAN is not a VSA. Performance is much better than any VSA Pricing and packaging will covered on the GA date Performance of VSAN scales linear as you add more hardware (extra nodes with storage) Initial release of VSAN requires SSD and HDD. So using only SSD disks and no HDDs it not possible VSAN use cases are for example: VDI, Tier 2/3 workloads and Disaster Recovery cases VMware Horizon View will be supported in the GA release The minimum for VSAN is 3 ESXi nodes and the maximum is 32 nodes The minimum is 1 HDD and 1 SSD. The maximum is 35 HDDs and one SSD per 7 HDDs Minimum NIC speed is 1 Gbps, recommended NIC speed is 10 Gbps Replication is synchronously Every seven HDDs needs a SSD. SSD and HDD Ratio is 1:10 (GB) No de-dupe is supported in the GA version Hardware vendors such as Dell, HP and Cisco will support VSAN as VSAN Ready nodes. Watch the VMware Compatibility Guide at GA. Link You can build your own VSAN with certified hardware There will be 13 pre configurations solutions available on the GA date JBOD is not supported in the GA release What is the difference with MS storage spaces: MS Storage spaces is presenting a file server from dedicated servers and JBODs. VSAN is object storage and doesn\u0026rsquo;t require dedicated servers, it uses the same servers you have for your compute, and other benefits like flash cache acceleration, storage policy management and automation and more. "},{
  "section": "Blog",
  "slug": "/logbook/site/2014/02/27/vsphere-5-x-nic-problems/",
  "title": "vSphere 5.x NIC problems",
  "description": "",
  "date": "February 27, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi, VMware",
  "tags": "esxi-2, VMware",
  "content":"Last week ik blogged about the “Broadcom adapter data corruption on ESXi/ESX hosts using the tg3 driver and TSO enabled” NIC problem. Link This week I found two new vSphere NIC issues worth to mention:\nHosts with virtual machines using the E1000/E1000E adapter have networking issues after upgrading to ESXi 5.1 U2 (2072694). Link ESXi 5.x host experiences a purple diagnostic screen mentioning E1000PollRxRing and E1000DevRx (2059053). Link "},{
  "section": "Blog",
  "slug": "/logbook/site/2014/02/19/vmware-esxi-broadcom-data-corruption-problem-with-tg3-driver-check-your-environment/",
  "title": "VMware ESXi Broadcom data corruption problem with the tg3 driver. Check your environment!",
  "description": "",
  "date": "February 19, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "Troubleshooting, VMware ESXi",
  "tags": "Troubleshooting, VMware ESXi",
  "content":"VMware has released a new KB article (2072515) on possible data corruption with Broadcom adapters that use the tg3 driver. This problem can occur when:\nThe system is configured with greater than 4 GB RAM TCP Segmentation Offload (TSO) is enabled on the adapter The system is running ESXi/ESX 3.5, 4.x, 5.0, 5.1 and 5.5 The tg3 driver version is less than v3.135b The advice is to update to the latest tg3 driver that fix the problem. If you are using Broadcom adapters you need to check the following components on your VMware ESXi hosts to determine if the data corruption problem can occur:\nWhat is the driver version of the Broadcom tg3 driver. All the tg3 drivers earlier than version 3.135b.v50.1 must be updated Is TSO enabled Check the Broadcom tg3 driver version and if TSO is enabled Open a SSH session to the ESXi host. Get an overview on all the NICs installed in the ESXi server: esxcli network nic list Display the Broadcom tg3 driver version, command: vmkload_mod -s tg3 | grep Version Check if TSO is enabled, command: esxcli system settings advanced list -o /Net/UseHwTSO Is the Int value equal to 1 than TSO is enabled.\nSo if the tg3 driver version is earlier than version 3.135b.v50.1 and TSO is enabled you need to update the driver!\nUpdate the Broadcom tg3 driver (steps for updating an ESXi 5.1 host): Download the new tg3 driver:\nESXi 5.5: version 3.135b.v55.1 (released on 12/27/2013) or later\nESXi 5.0 / 5.1: version 3.135b.v50.1 (released on 12/27/2013) or later\nFor ESXi/ESX 3.5/4.x, there is currently no fix. The only way is to disable TSO. For more information see the VMware KB article on the end of the blog post.\nPlace the host in maintenance mode, command: esxcli system maintenanceMode set -e true\nUpload the driver to a datastore\nInstall the updated driver, command: esxcli software vib install -d /vmfs/volumes/datastore location/tg3-3.135b.v50.1-offline\\_bundle-1502404.zip\nReboot the host, command: reboot\nCheck the tg3 driver version again, command: vmkload_mod -s tg3 | grep Version\nThe tg3 driver must have the new version number Exit maintenance mode. Command: esxcli system maintenanceMode set -e false Execute the steps on all the ESXi host that have tg3 drivers installed. The VMware KB article can be found here. Link "},{
  "section": "Blog",
  "slug": "/logbook/site/2014/01/22/display-vmware-horizon-view-pool-information-using-powercli/",
  "title": "Display VMware Horizon View Pool information using PowerCLI",
  "description": "",
  "date": "January 22, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "power, powercli, view, VMware",
  "tags": "horizon, powercli, VMware-view",
  "content":"For a VMware View Horizon Healthcheck I needed to display all VMware View Pools created and export some settings for documentation. The easiest way to do this is using View PowerCLI on a VMware View Connection server.\nHere are some examples to use:\nDisplay all the pools and settings: get-pool\nDisplay the pools with selected fields in table form:\nGet-pool | select DisplayName,Pool_ID,Enabled,MinimumCount,MaximumCount,HeadroomCount,Persistence,Pooltype,Protocol | FT -AutoSize\nDisplay the some fields in table form and export the pool information to a a text file:\nget-pool | select DisplayName,Pool_ID,Enabled,MinimumCount,MaximumCount,HeadroomCount,Persistence,Pooltype,Protocol | FT -AutoSize | out-file c:\\temp\\pools.txt\nThe get-pool commands does not export all the settings that can be provided in a VMware View pool.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2014/01/13/check-for-duplicate-mac-address-pools-in-your-hyper-v-environment/",
  "title": "Check for duplicate MAC Address pools in your Hyper-V environment",
  "description": "",
  "date": "January 13, 2014",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v",
  "tags": "hyper-v-2",
  "content":"When enabling the Hyper-V role on a Windows 2012 (R2) server, it creates a dynamic MAC address pool of 256 MAC addresses available for VMs. The MAC Address Pool configuration can be found in the Virtual Switch Manager under the Global Network Settings.\nThe MAC address pool is generated as follows:\nThe first three octets are Microsoft\u0026rsquo;s IEEE organizationally Unique Identifier, 00:15:5D (which is common on all Hyper-V hosts) The next two octets are derived from the last two octets of the server\u0026rsquo;s IP address The last octet is automatically generated from the range 0x0 - 0xFF. This gives 256 MAC addresses As you can see the MAC Address pool creation depends on the IP Address used during the installation of the Hyper-V role. In this example (screenshot above) the IP address was xxx.xxx.250.108 during the Hyper-V role installation. This IP address was assigned by a DHCP server with a short lease time. After enabling the Hyper-V role a static IP address was assigned. This does not change de MAC address pool anymore.\nWhen installing the Hyper-V role on another server, the server received the same IP address. This results in the same MAC address pool on both servers which means that VMs gets duplicate MAC addresses.\nTo check the MAC address pool of all the Hyper-V servers, I create a PowerShell listed below. Change the Computername and –Credentials parameters.\nScript:\n$Session = New-PSSession -ComputerName \u0026#39;server1, \u0026#39;server2\u0026#39; –Credential domain\\accountname invoke-command –Session $session -scriptblock {Get-VMHost | select ComputerName, MacAddressMinimum, MacAddressMaximum} | ft Change the MAC address pool use the following command:\nSet-VMHost –MacAddressMinimum –MacAddressMaximum Example:\nSet-VMHost -MacAddressMinimum 00155D020600 -MacAddressMaximum 00155D0206FF "},{
  "section": "Blog",
  "slug": "/logbook/site/2013/12/26/identify-lun-ids-in-windows-server-2012-r2/",
  "title": "Identify LUN IDs in Windows Server 2012 R2",
  "description": "",
  "date": "December 26, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v, windows-server-2012",
  "tags": "hyper-v-2, windows-server-2012",
  "content":"During a Windows Server 2012 R2 Hyper-V implementation I needed to identify all the iSCSI disks (LUNs) presented by an EMC VNX SAN to the Hyper-v Failover cluster. Each presented iSCSI disk has a unique LUN ID. To View the LUN ID of a disk, you can use the diskpart command. Here are the steps to view the LUN ID of a disk:\nView the disks list disk\nSelect a disk select disk \u0026lt;number\u0026gt;\nView the LUN ID of the disk detail disk\nI didn’t find a PowerShell command to view the LUN IDs. You can create a PowerShell script that uses Diskpart to view all the disks and the corresponding LUN IDs.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/12/18/vcloud-networking-and-security-license-in-evaluation-mode/",
  "title": "vCloud Networking and Security license in Evaluation Mode",
  "description": "",
  "date": "December 18, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware, vshield",
  "tags": "VMware, vshield",
  "content":"A customer has a VMware vSphere 5.1 environment with VMware Horizon View 5.2 environment and Trend Micro Deep Security installed. Trend Micro Deep Security uses the VMware vShield Endpoint framework. In the vSphere license manager asset the “vCloud Networking and Security” license is displayed in evaluation mode and has a expire date.\nThis is strange because vSphere 5.1 \u0026gt; includes a vShield Endpoint license. So no extra vShield licenses are required. I found a KB about vShield Endpoint. It states:\nThe vShield Endpoint asset may show up as unlicensed or with an evaluation license in the vCenter Server console, but functionality is fully enabled.\nSo you don’t have to worry that vShield Endpoint stops working. This is by design and will probably fixed in a later version.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/12/16/running-hyper-v-and-vmware-workstation-on-windows-8-x/",
  "title": "Running Hyper-V and VMware Workstation on Windows 8.x",
  "description": "",
  "date": "December 16, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v, VMware, workstation",
  "tags": "hyper-v-2, VMware, workstation",
  "content":"For testing I use Hyper-V and VMware Workstation 10 on my laptop. One restriction of VMware Workstation is that it does not support VHDX disk files (yet). VMware Workstation support VHD files, so the VHDX files must be converted to a VHD first. After the conversion VMware Workstation can select the VHD as Hard Disk. This can takes some time.\n1. VHD disk2. Convert options in Hyper-V\rThat’s why I use Hyper-V on my laptop sometimes. When trying to start VMware Workstation the following error appears:\nVMware Workstation and Hyper-V are not compatible. Remove the Hyper-V role from the system before running VMware Workstation.\nThis is because the Hyper-V role is installed and this conflicts with VMware Workstation. To disable Hyper-V from starting the following command can be used:\nbcdedit /set hypervisorlaunchtype off\nA reboot of of the Windows OS is necessary.\nTo enable the Hyper-V role again use the following command:\nbcdedit /set hypervisorlaunchtype auto\nA reboot of of the Windows OS is necessary.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/12/03/upgrading-vsphere-5-x-fusion-io-card-disappeared/",
  "title": "After upgrading vSphere 4 to 5 the Fusion-IO card is in minimal mode",
  "description": "",
  "date": "December 3, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vpshere, vpshere-5, vSphere, vSphere5",
  "tags": "esxi-2, fusion-io, ssd, upgrade, VMware, vSphere",
  "content":"Last week I did a VMware vSphere and VMware View 4 to 5 upgrade. The ESXi servers for the VMware View environment uses Fusion-IO (HP IO Accelerators) PCI flash cards for there non-persistent VDI pools. After the upgrade to vSphere 5.1 I imported the latest Fusion-IO drivers and created a baseline in vSphere Update Manager (VUM) and deployed the new drivers to the cluster.\nAfter the installation of the Fusion-IO drivers on the ESXi hosts, the Fusion-IO card was not listed in the vSphere (Web) client. Via SSH I make a connection the the ESXi servers. When i run the fio-status command the following warning appeared:\nDriver is in Minimal mode: The firmware on this device is not compatible with the currently installed version of the driver.\nACTIVE WARNINGS: The ioMemory is currently running in a minimal state.\nThe warning means that the firmware needs to be upgraded. I uploaded the firmware to a central datastore and run the following command:\nfio-update-iodrive firmwarefilename.fff\nWhen the firmware upgrade completed, the ESXi servers needed to restart.\nAfter the rebootI checked the status with the fio-status command again. The Fusion-IO card is out of minimal mode.\nAfter the firmware upgrade the Fusion-IO card is listed again.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/11/15/unable-to-connect-from-the-vsphere-client-or-powercli-on-windows-xp-or-windows-2003-to-a-vcenter-server-5-5/",
  "title": "Unable to connect from the vSphere Client or PowerCLI on Windows XP or Windows 2003 to a vCenter Server 5.5",
  "description": "",
  "date": "November 15, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vcenter-2, vcsa, vSphere",
  "tags": "client, vcenter, vcsa, vSphere",
  "content":"In my lab environment I still have a Windows XP with the vSphere Client 5.5 installed. When I try to connect with the vSphere Client or vSphere PowerCLI it faisl to connect to the vCenter Server 5.5 or vCenter Server Appliance (VCSA) 5.5. The following errors appears (The OS has a Dutch language installed):\nPowerCLI error:\nIn the release notes of vSphere 5.5 this is a known issue:\nvSphere 5.5 uses the Open SSL library, which, for security, is configured by default to accept only connections that use strong cipher suites. On Windows XP or Windows Server 2003, the vSphere Client and vSphere PowerCLI do not use strong cipher suites to connect with vCenter Server. The error No matching cipher suite is shown on the server side, and the handshake fails on the vSphere Client or vSphere PowerCLI side.\nThere are three workarounds for this:\nUsing Windows hotfixes on the Windows XP / 2003 OS Adjusting the vCenter Server configuration Adjusting the vCenter Server Appliance (VCSA) configuration In the following steps I will adjust the vCenter Server Appliance configuration:\nOpen a SSH connection to the VCSA login the appliance (by default this is root and with the passsword VMware) Navigate to the /etc/VMware-vpx directory Edit the vpxd.cfg file with for example the VI editor (i = insert) Add the following \u0026lt;cipherList\u0026gt;ALL\u0026lt;/cipherList\u0026gt; between the \u0026lt;ssl\u0026gt; section (see screenshot below): \u0026lt;ssl\u0026gt; ... ... \u0026lt;/ssl\u0026gt; Save the changes and quit the VI editor (wq!) Restart the vCenter Server service by using the following command: service VMware-vpxd restart After the modification I was able to use the vSphere Client and PowerCLI to connect to the vCenter Server Appliance.\nFor more information see KB article 2049143 found here, link "},{
  "section": "Blog",
  "slug": "/logbook/site/2013/11/11/upgrading-single-sign-on-5-1-to-vcenter-single-sign-on-5-5/",
  "title": "Upgrading Single Sign-On 5.1 to vCenter Single Sign-On 5.5 post task",
  "description": "",
  "date": "November 11, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "sso, vcenter-2, vSphere",
  "tags": "sso, VMware, vSphere",
  "content":"With vCenter Single Sign-On (SSO) 5.5 there is no requirement for a SQL database anymore. SSO 5.5 uses a own VMware Directory Service (VMdir) database. So after the upgrade to SSO 5.5, the Single Sign-On 5.1 database and users can be removed. This is a manual process. In SQL Management Studio remove the SSO (RSA) database and the “ RSA_DBA” and “ RSA_USER” users created.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/11/07/vmware-horizon-view-network-port-diagram/",
  "title": "VMware Horizon View Network Port Diagram",
  "description": "",
  "date": "November 7, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "horizon, VMware, VMware-view",
  "tags": "horizon, view, VMware",
  "content":"VMware has released a Network Port Diagram diagram for VMware Horizon View 5.2.\nThis diagram covers an entire VMware View environment with protocols and port numbers used. In earlier blog posts I already create two small diagrams with protocols and port numbers used by VMware View:\nVMware Horizon View and HTML access (Blast protocol). Link The diagram created by VMware can be handy when implementing and troubleshooting VMware Horizon View.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/10/30/vmworld-europe-2013-vcloud-hybrid-services-vchs-and-daas-recap/",
  "title": "VMworld Europe 2013&amp;ndash; vCloud Hybrid Services (vCHS) and DAAS recap",
  "description": "",
  "date": "October 30, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "cloud, vmworld",
  "tags": "cloud, vmworld",
  "content":"To deliver IT as a Service, VMware has for the coming year(s) the following focus areas:\nSoftware-Defined Data Center (SDDC). See the VMworld 2013 SDDC recap here Link End User Computing (EUC). See the VMworld 2013 EUC recap here Link vCloud Hybrid Services (vCHS) In this last blog post I dig deeper in vCloud Hybrid Services (vCHS) and DAAS announcements.\nDesktop-As-A-Service (DAAS) VMware acquired Desktone to enter the Desktop-As-A-Service (DAAS) market. Desktone offers:\nSelf Service of virtual desktops. Simple provisioning from the cloud enables self-service for IT of full VDI, shared session remote desktop service (RDS) desktops and applications without the need to procure hardware or software. Multi-tenancy. Each customer gets a separate virtual environment to ensure security while cloud providers are able to manage multiple customers under one platform. Grid-based architecture for elastic scalability. Advanced architecture enables unlimited scalability across multiple geographies and data centers. Low cost of delivery. Open source based technology eliminates Microsoft licensing fees and third-party software management, resulting in cost savings over competitive desktop virtualization offerings. The Desktone broker can scale much larger than a VMware Horizon View broker. So it is much more suitable as multi-tenant solution. Another point is that Desktone supports multiple OSes such as Windows Server, Windows Client and Linux as VDI desktop. These desktops can be managed from a single portal, while customer have there own portal in multi-tenant environment.\nWith Desktone, VMware partners can offer a Desktop-As-A-Service to there customers.\nvCloud Hybrid Services (vCHS) VMware vCloud Hybrid Service, built on VMware vSphere. This enables customers to extend the same applications, networking, management, operations and tools across both on-premises and off-premises environments (private cloud). vCHS is the Infrastructure as a Service (IaaS) public cloud service from VMware. You can choose two flavors:\nDedicated Cloud. This option is fully isolated. You get your own vCloud Director instance. Virtual Private Cloud. This option runs on physical servers with VMs from other tenants. It is fully isolated from each other. See the picture below what are the minimum starting resources:\nWhen you choose for example a dedicate cloud you start with 30GHz vCPU, 120GB vRAM, 6 TB disk space etc. You pay for Compute, 24 x7 support, persistent disk(s) and the bandwidth you use. Services as firewalls, load balancers, VPNs, DHCP. NAT and redundancy such as HA are free.\nVMware will offer a private beta of vCloud Hybrid Service in the United Kingdom (Slough) in Q4, with general availability (GA) planned in Q1 2014.\nVMware vCloud Management Marketplace (CMM) VMware vCloud Management Marketplace (CMM) is a single place were VMware and partners can put there solutions such as Orchestration Plug-ins, Management Packs, Blueprints and Content Packs . Customers can browse and download these tested and validated solutions in there environment.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/10/23/vmworld-europe-2013-end-user-computing-euc-recap/",
  "title": "VMworld Europe 2013&amp;ndash; End User Computing (EUC) recap",
  "description": "",
  "date": "October 23, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vmworld",
  "tags": "vmworld",
  "content":"To deliver IT as a Service VMware has for the coming year(s) the following focus areas:\nSoftware-Defined Data Center (SDDC). See the VMworld 2013 SDDC recap here. Link End User Computing (EUC) vCloud Hybrid Services (vCHS) In this blog post I dig deeper in End User Computing (EUC) announcements . In the next blog post I will cover the vCHS and DAAS announcements.\nEnd User Computing (EUC) The VMware Horizon Suite has three main components:\nVMware Horizon View VMware Horizon Mirage VMware Horizon Workspace In the Horizon suite VMware vCenter Operations Manager for View will now be included and Horizon Workspace will support Citrix XenApp. The other announcements were only on Horizon View and Horizon Mirage.\nVMware Horizon View\nVMware Horizon View 5.3 is announced. Some new features are:\nSupport for Virtual SAN (VSAN) beta. One use case for Horizon View is definitely VSAN. It would be great if VMware could include the VSAN license when it Generally Available (GA) in the Horizon View! 3D graphics with virtual Dedicated Graphics Acceleration (vDGA). For graphical demanding apps such as 3D CAD you can use a dedicated GPU card such as the NVIDIA GRID K1 and K2 card. Support for Windows 8.1 VDI desktops. Using the latest Windows Desktop OS as VDI desktop. Use Windows 2008 as VDI desktop OS. Using Windows 2008 as VDI desktop simplifies the licensing when connecting with non-Windows devices. View Agent Direct Connection (VADC). This can be handy for branch ROBO offices to connect to the VDI desktop(s) without a broker. For more new features see the “What’s New in VMware Horizon View 5.3 “ information. Link\nThinApp\nThinApp 5.0 is announced. Back in March, VMware let our customers know that we planned to consolidate ThinApp licensing into the Horizon Suite and bundles After partners and customers complaining about this. VMware now announced that they will continue to deliver ThinApp as a standalone SKU! Great news!\nOther new features are:\nSupports 64-bit applications Support for Office 2013 and Internet Explorer 10 Improved ThinDirect management with new ADMX \u0026amp; ADM policy files VMware Mirage\nHorizon Mirage version 4.3 is announced. When combining View with VMware View 5.3, administrators can now manage View persistent desktop pools with full clones. Application and base images can be updated without affecting users installed applications and personalization. Other new features are:\nNew CVD Policy Features . Horizon Mirage 4.3 introduces some CVD policy features that will help speed up deployments. A new image management policy allows centralization of CVDs to occur with little to no data upload. This feature also helps in Windows 7 migration deployments because there is less data that gets uploaded to the Horizon Mirage Server. Optimization settings for LAN environments allow for faster centralization phases. IT also now has more control over throttling of the Horizon Mirage client on each endpoint. Windows 7 Migration Enhancements – During a Windows 7 migration project, user downtime is a critical component to how successful the project will be. In Horizon Mirage 4.3, during OS migration we’ve introduced the ability to deploy Windows 7 applications layers along with the base layer. This helps in getting applications to users in a quicker manner. Web Console Enhancements. A new role in the Horizon Mirage Web Console has been introduced. The Protection Manager role helps IT administrate endpoints from a single pane of glass. Endpoint centralization status, trends and endpoint errors are provided in a dashboard view. The Protection Manager can edit upload policies, build collections, restore endpoints,and much more. Centralization Calculator. Endpoints typically get centralized while end users work. Now, estimating how long the centralization process can take is made possible with the new Centralization Calculator. Simply fill in the values that your environment is comprised of, such as total number of endpoints and CVD size, and the calculator will estimate the centralization time phase. This is applicable to any environment of any size. "},{
  "section": "Blog",
  "slug": "/logbook/site/2013/10/20/vmworld-europe-2013the-software-defined-data-center-sddc-recap/",
  "title": "VMworld Europe 2013&amp;ndash;The Software-Defined Data Center (SDDC) recap",
  "description": "",
  "date": "October 20, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "sddc, vmworld",
  "tags": "sddc, vmworld",
  "content":"Last week i attended VMworld Europe in Barcelona. The theme was “Defy Convention”. Here’s an overview of the VMware focus for the coming year(s):\nIt’s all about delivering IT as a Service. IT as a Services gives the following answers:\nOn-demand access to any device; Cost transparency; Any cloud, any platform; Programmable and automated infrastructure. To deliver IT as a Service VMware has for the coming year(s) the following focus areas:\nSoftware-Defined Data Center (SDDC) End User Computing (EUC) vCloud Hybrid Services (vCHS) In this blog post I dig deeper in the Software-Defined Data Center (SDDC). In the next blog posts I will cover the other focus areas.\nSoftware-Defined Data Center (SDDC) The SDDC is about virtualization across the entire Data Center. The Software-Defined Data Center consist of the following components:\nCompute Network Storage Management Compute The compute layer is built on the new vSphere 5.5 platform. Some improvements of the vSphere 5.5 platform are:\nESXi host scalability improvements (2x increase with ESXi 5.1) such as 320 Logical CPUs, 16 NUMA nodes and 4 TB of RAM. Web Client improvements such as better performance, OS X support and drag and drop functionality. Single Sign-On (SSO) improvements. vCenter Server Appliance (vCSA) now ready for production environments vSphere Flash Read Cache. Accelerate read IOs of VMs by using local flash storage Support for 62 TB VMDK. NFS and vRDM Application High Availability (App HA). App HA protects apps running inside the VMs such as MS SQL and IIS. vSphere Flash Read Cache and Application High Availability (App HA) will require a vSphere Enterprise Plus license. For more information on the new and improved features, see the “What’s New in VMware vSphere 5.5 Platform” PDF. Link Network For the network in the SDDC VMware announced the General Availability (GA) of NSX. VMware acquired Niciria and rebranded it to NSX. NSX is all about network virtualization. The NSX network is created in software but look like physical networks. It’s not only for ESXi but for any hypervisor. NSX works with the existing network infrastructure. Capabilities are:\nSwitching L2 Routing L3 Firewall Load Balancer VPN Support for partner eco-system additions NSX gives you the flexibility do deploy a multi tier network with software. You are able to save, delete, restore and move it, just like you do for VMs. Interested customers should contact their VMware representative who can put them in touch directly with a VMware NSX specialist. More information about NSX can be found here link .\nStorage VMware has the following announcements made on Software-Defined Storage:\nVirtual SAN (VSAN)\nVSAN aggregates all the local storage (spinning disk) in the cluster and creates a shared storage array. With the use of flash disks, read and writes can be accelerated. When an ESXi host is offline the data is still available on another node. It is fully compatible with High Availability (HA) , DRS, vMotion and SvMotion. VSAN will probably GA in H1 2014 and will supports up to 16 nodes. The minimum of 3 ESXi nodes is needed. It can be scaled-out by adding extra nodes. A use case of VSAN is VMware Horizon View VDI environments.\nMore information see the “What’s New in VMware Virtual SAN (vSAN)” Link .\nTry the Public Beta of VSAN? Link Virtual Volumes (VVOL)\nWith VVOL existing SAN/NAS systems become VM-aware. Operating such as snapshots, replication, caching, encryption and de-duplication can be done at VM level. VVOL must be supported by the storage hardware. VVOl is available as Technical Preview by storage partners.\nvSphere Flash Read Cache (vFRC)\nvFRC accelerates read IOs of VMs by using local flash storage. It is available in vSphere 5.5.\nVirsto\nVirsto is a software-only solution to deliver predictable performance in existing SAN systems. It delivers high performant VM-centric data services.\nVirsto sits on each host and presents a virtual storage appliance (VSA) to the VMs on the host. The VMs see Virsto as a new storage mount point, which means Virsto is in the I/O path for the VMs. Virsto offloads the I/O from the Hypervisor in a more efficient manner. Virsto will perform a set of actions on the random I/O so it is sequentialized and sent to the block storage layer in orderly, logical blocks. Further it can do high performance snapshots and clones of VMs or VMDKs. Virsto is now available.\nvSphere Data Protection Advanced (VDPA)\nVMware vSphere Data Protection 5.5 Advanced (VDPA) is now available. It’s a backup and recovery solution based on EMC Avamar. Version 5.5 has new features such as backup data replication, integration with EMC Data Domain, automatic backup verification. The smaller bother VMware vSphere Data Protection (VDP) is included in vSphere Essentials Plus an higher but has a lot of limits such as 2 TB backup store and 100 VMs per appliance. With VDPA VMware will compete against other virtualization backup and recovery solutions such as Veeam Backup \u0026amp; Recovery and PHD Virtual.\nManagement On the Cloud Management layer the following products are announced:\nvCloud Automation Center (vCAC) 6.0. VMware acquired the company “DynamicOps” last year and rebranded it as vCAC. vCAC is all about automating, building, deploying and managing application catalogs. By using self-service catalogs users request and manage multi-vendor, multi cloud applications. There are three versions of vCAC available: standard, advanced and enterprise. For more information watch the vCloud Automation Center Overview video, link .\nVMware vCenter Operations Management Suite 5.8\nThe new version of the vCenter Operations Management Suite can monitor heterogeneous environments.\nSome examples of new capabilities are:\nStorage Analytics such as Out Of The Box (OOTB) dashboards, physical storage and HBA, fabric and array visibility Hyper-V support. A dashboard with Top 25 (CPU, memory, networking and disk, IOPS), datastore capacity and performance and load heatmaps by using SCOM or Hyperic OOTB dashboard for Microsoft SQL and Exchange and support for Microsoft Clustering Amazon AWS support. An overview of the new 5.8 capabilities can be found here. Link VMware vCenter Log insight\nVMware vCenter Log insight delivers automated log management through aggregation, analytics and search, enabling operational intelligence and enterprise-wide visibility in dynamic hybrid cloud environments. VMware vCenter Log Insight is the VMware answer to a product like Splunk . vCenter Log Insight 1.5 is announced.\nVMworld 2013 attendees and partners can get 5 free licenses for VMware vCenter Log Insight. Link VMware IT Business Management Suite (ITBM)\nThe VMware IT Business Management Suite provides transparency and control over the costs and quality of IT services, enabling CIOs to align IT with business priorities. With the IT Business Management (ITBM) option you can for example you can compare the cost cloud service providers.\nThese components and products will form the SDDC.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/10/14/vmworld-europe-2013-partner-day-impressions/",
  "title": "VMworld Europe 2013 &amp;ndash; Partner day impressions",
  "description": "",
  "date": "October 14, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware, vmworld",
  "tags": "VMware, vmworld",
  "content":"Here are some impressions of the partner day today.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/10/09/vmware-vcenter-server-appliance-vcsa-5-5-deployment-tips-and-tricks/",
  "title": "VMware vCenter Server Appliance (VCSA) 5.5 deployment tips and tricks",
  "description": "",
  "date": "October 9, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vcenter-2, vcsa, VMware",
  "tags": "vcenter, vcsa, VMware",
  "content":"Here are some deployment tips and tricks for the VMware vCenter Server Appliance (VCSA):\nThe VMware vCenter Server Appliance is a preconfigured Linux-based virtual machine. The VMware vCenter Server Appliance (VCSA) is available as OVF/ OVA It based on Suse Linux Enterprise 11 64-bit Linked Mode, Microsoft SQL or DB2 is not supported As database you can use the embedded vPostgres or external Oracle database The minimal configuration is: 2 vCPUs, 8 GB memory, a 25 GB thin provisioned and 100 GB thick disk. This configuration is for 10 or fewer hosts and 100 or fewer virtual machines. More information on sizing the VCSA can be found here link. In a small home lab or PoC environment you can decrease the memory of the VCSA. For example my home lab VCSA has 4 GB memory. This is not supported! The VCSA is deployed with Hardware Version 7. If you update the vCenter Server appliance to hardware version 10, you cannot edit the virtual machine settings for the appliance using the vSphere Client! Make sure that the hostname is entered as Fully Qualified Domain Name (FQDN). If you get “Error: invalid hostname. FQDN is required for joining a domain” you forgot to change the hostname of the VCSA to a FQDN. To configure the VCSA, use the following URL: https://IP-address-VCSA:5480 to access the Virtual Appliance Management Interface (VAMI). The default user name is: root The default password is: VMware The root password will expire after 90 days! In the Admin page of the VAMI interface it is possible to disable the root password expiration. The default SSO user is: administrator@vSphere.local Synchronize the vCenter Server Appliance Clock with a NTP server, VMware tools or Active Directory (this option is only available if the VCSA is joined with the Active Directory). More information on backing up and restoring the vCenter Server Appliance (vPostgres) database use the following Link . To use the vSphere Web Client use the following URL: https://IP-address-VCSA:9443/ SSH is by default enabled. To enable or disable SSH toggle the SSH login on the Admin tab of the VAMI. Microsoft Sysprep files can be uploaded in the VAMI summary page. They are stored in: /etc/VMware-vpx/sysprep/OS directory. You can add additional software such as SNMP to monitor the VCSA. Adding software can be done with the “Yet another Setup Tool” (YAST). To monitor vCenter Server Appliance database disk usage you can use this script Link . "},{
  "section": "Blog",
  "slug": "/logbook/site/2013/10/01/watch-out-with-hardware-version-10-in-vmware-esxi-5-5/",
  "title": "Watch out with Hardware Version 10 in VMware ESXi 5.5!",
  "description": "",
  "date": "October 1, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi, VMware",
  "tags": "esxi-2, vm, VMware",
  "content":"Update: 09-09-2014: Today VMware released a new vSphere Client (vSphere Windows client). With vSphere Client 5.5.0 Build 1993072 (available with ESXi 5.5 Update 2) it is possible to edit hardware version 10 VMs settings. When editing a hardware version 10 VM it is only possible to edit hardware version 8 features. If you want to edit the advanced VM settings available in higher hardware versions you need to use the vSphere Web Client.\nVMware ESXi 5.5 and vSphere Hypervisor 5.5 it is possible to upgrade the Virtual Machine to hardware version 10. The vSphere Client cannot edit settings of VMs that have hardware version 10. When you try to edit a hardware version 10 in the vSphere 5.5 client the following warning appear:\nYou cannot use the vSphere Client to edit the settings of virtual machines of version 10 or higher…….\nTo edit settings of a version 10 VM you need the VMware vSphere Web Client! vSphere Hypervisor 5.5 does not come with the VMware vSphere Web Client, so don’t use version 10 with the vSphere Hypervisor 5.5 else you are unable to edit the settings of a VM! Hardware Version 10 is only compatible with ESXi 5.5 and later.\nSo make sure:\nDon’t upgrade to hardware version 10 on vSphere Hypervisor 5.5 (free version of ESXi) Only upgrade the hardware of a VM if you need the new features Make always a snapshot before upgrading the hardware version. You can always get back to the old hardware version. You can downgrade the Virtual Machine hardware version by using VMware Converter Standalone for example (found here ).\nA note to VMware: disable the option to upgrade to hardware version 10 from the vSphere Client in the next update. This saves a lot frustration!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/09/20/enable-the-intel-i217-v-network-card-in-vmware-esxi/",
  "title": "Enable the Intel I217-V network card in VMware ESXi",
  "description": "",
  "date": "September 20, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware ESXi, Troubleshooting",
  "tags": "VMware ESXi, Troubleshooting",
  "content":"The motherboard of my Haswell whitebox contains an Intel I217-V network card. See my “Haswell low power whitebox for ESXi and Hyper-V ” post for more information. The Intel I217-V network card is not recognized by VMware ESXi 5.x by default. On the VMware community I found a post with the Intel I217-V ESXi driver attached. To enable the Intel I217-V network card you have two options:\nInject the driver in the ESXi ISO using for example the “ESXi-Customizer” tool. See my blogpost “VMware ESXi 5 whitebox NIC support ” for more information. Install the driver when ESXI is already installed. You need a supported network card to be able to install ESXi! Here is a quick overview how to install the driver when ESXI is already installed:\nDownload the driver Upload the VIB to a datastore by using the vSphere Client Start the SSH service on the ESXI server and make a SSH connection to the ESXi server Put the ESXi server in maintenance mode, command: esxcli system maintenanceMode set -e true Change the ESXi host acceptance level to Community Supported, command: esxcli software acceptance set --level=CommunitySupported Install the VIB, command: esxcli software vib install -v /vmfs/volumes/datastore1/net-e1000e-2.3.2.x86_64.vib Reboot the system after the following message “Message: The update completed successfully, but the system needs to be reboot“,command: reboot When the ESXi host is up make a SSH connection and exit maintenance mode. Command: esxcli system maintenanceMode set -e false Check if the Intel I217-V network adapter is visible is the vSphere Client or vSphere Web client\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/09/17/list-hyper-v-snapshot-file-sizes-on-cluster-shared-volumes-with-powershell/",
  "title": "Hyper-V Get Snapshot checkpoint file sizes on Cluster Shared Volumes with PowerShell",
  "description": "",
  "date": "September 17, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v, PowerShell, scvmm",
  "tags": "hyper-v-2, PowerShell, scvmm",
  "content":"During a Windows Server 2012 Hyper-V Health Check I needed to know the snapshot file sizes for the all the snapshots on the Clustered Shared Volumes (CSVs). The Get-VMCheckpoint Cmdlet does not report the snapshot size. So I create a PowerShell one-liner that displays the following information:\nLocation of the snapshot file Date and time that the snapshot file was created Last write access time of the snapshot file File size in MBs The PowerShell one-liner is executed from a Hyper-V 2012 host that has access to all the Cluster Shared Volumes (CSVs).\nGet-ChildItem C:\\ClusterStorage\\ * -include *.avhd -recurse | Select-Object Fullname,CreationTime,LastWriteTime,@{\u0026#34;Name\u0026#34;=\u0026#34;Size (MB)\u0026#34;; \u0026#34;Expression\u0026#34;={[int]($_.Length/1mb)}} | Out-GridView This PowerShell one-liner produces the following output: "},{
  "section": "Blog",
  "slug": "/logbook/site/2013/09/02/is-the-vcenter-server-appliance-vcsa-5-5-a-replacement-for-the-windows-vcenter-server/",
  "title": "Is the vCenter Server Appliance (VCSA) 5.5 a replacement for  the  Windows vCenter Server?",
  "description": "",
  "date": "September 2, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vcenter-2, vcsa",
  "tags": "vcenter, vcsa",
  "content":"Back in 2012 I wrote a blog post “What about the VMware vCenter Server Appliance (VCSA) version 5.1 ”. One of the limitations with VCSA 5.1 was that the embedded vPostgres database only supports 5 hosts and 50 VMs. So it was only supported in test and very small environments.\nNow with vSphere 5.5 the the embedded vPostgres database of the vCenter Server Appliance supports 500 hosts and 5000 VMs. This is a great improvement!\nOther pros are:\nNo Windows and SQL licenses needed Easy and quick to install and upgrade But there are still limitations such as:\nNo Linked mode support (requires ADAM (AD LDS) VMware Update Manager can’t be installed in the VCSA, additional Windows based VM or physical server needed (Windows license needed) vCenter Heartbeat is not supported Not all VMware and third party plugins will work Conclusion There is no direct upgrade path from the Windows vCenter Server to the vCenter Server Appliance! To choose between the Windows vCenter Server and the vCenter Server Appliance the following questions for example needed to be answered:\nHow many hosts and VMs are planned in a single vCenter server? How do I backup and restore the vPostgres database? How do I monitor the vCenter Server? It is a Linux appliance. Is there knowledge available to troubleshoot? Are all my other VMware products and third party products supported? Do I need vCenter Heartbeat? How do I patch my ESXi hosts? Do I need linked mode? Are there other tools to install on the vCenter server? With the improvement of the vPostgres database it can replace the Windows vCenter Server, but it depends on for example the above questions. With vSphere 5.5 the use of the vCenter Server Appliance can be considered in every new design or upgrade path.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/08/19/perform-esxi-host-maintenance-on-a-vmware-horizon-view-floating-desktop-pool/",
  "title": "Perform ESXi host maintenance on a VMware Horizon View floating desktop pool",
  "description": "",
  "date": "August 19, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "horizon, maintenance, view, VMware",
  "tags": "maintenance, VMware-horizon-view",
  "content":"When you need to perform maintenance (planned downtime) on an ESXi host which is part of a floating pool the following steps can be be taken:\nThese steps are only required when using local storage for the linked clones!\nIn the VMware Horizon View Administrator, edit the pool and uncheck the datastore for the host on which maintenance is required. By unchecking the datastore no new desktops are provisioned to this host In the pool settings modify the “Delete or refresh desktop on logoff” to “Delete Immediately” Optionally: In the pool settings modify the “Automatically or logoff after disconnect” to 240 minutes or less so that disconnected sessions are removed. Decrease the maximum number of desktops in the Provisioning settings so it matches the cluster When there are no more floating desktops on the ESXi host place, it in maintenance mode Perform maintenance of the ESXi host. A good practice is to perform steps 1 till 4 a day before the actually maintenance of the ESXi host, so all the VDI desktops are removed. After the maintenance is done perform steps 1 to 6 by using the originally settings.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/08/09/backup-the-esxi-configuration-and-update-the-status-in-vcenter/",
  "title": "Backup the ESXi configuration",
  "description": "",
  "date": "August 9, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "backup, VMware ESXi, powercli",
  "tags": "backup, VMware ESXi, powercli",
  "content":"I create a simple PowerCLI script that backups all the VMware ESXi host configurations that are connected to a vCenter Server. This script can be scheduled to make for example every week a backup of the ESXi server configs. You can easily customize the script for your own needs.\n#Variables $Folder = \u0026#34;D:\\Backup\\BCK-ESXi\u0026#34; $FolderOld = \u0026#34;D:\\Backup\\BCK-ESXi\\_old\u0026#34; $vc= \u0026#34;vcenterserver-fqdn\u0026#34; # Connect to local vCenter Server Connect-ViServer # Move existing backup files to the old directory Move-Item ($Folder + \u0026#34;\\*.tgz\u0026#34;) $FolderOld -force -ErrorAction SilentlyContinue # Backkup ESXi configuration Get-VMHost | ForEach-Object { $_ | Get-VMHostFirmware -BackupConfiguration -DestinationPath $folder } # Disconnect session vCenter Disconnect-VIserver -Confirm:$false "},{
  "section": "Blog",
  "slug": "/logbook/site/2013/07/26/troubleshoot-vmware-view-security-server-pcoip-port-problems/",
  "title": "Troubleshoot VMware View Security Server PCoIP port problems",
  "description": "",
  "date": "July 26, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "pcoip-2, troubleshooting, VMware-view",
  "tags": "pcoip, troubleshooting, VMware-view",
  "content":"Recently I had to troubleshoot a VMware View Client connection problem. In a new VMware View environment the customer has installed a VMware Horizon View Security Server for the external connections. When a external View Client tried to connect through the Security Server using the PCoIP protocol to the View desktop the following appeared:\nThe connection to the remote computer ended\nWhen the users connects to the View Desktop using the LAN (without the Security Server) everything worked fine. I suspected that a PCoIP port (4172 TCP and UDP) is blocked between the Security Server and desktop pool or vice versa. To troubleshoot this problem I used the tool “Netcat”. With Netcat TCP and UDP ports can be checked (Telnet can only check TCP ports). So I used Netcat to check the TCP and UDP ports between the Security server and View Desktop (1) and the View Desktop to the Security Server(2).\nHere is an example how to use Netcat:\nOn the View desktop run Netcat to listen to UDP port 4172:\nnc –l –u –p 4172\nOn the security server run Netcat to connect to the View Desktop on UDP port 4172:\nnc –u \u0026lt;IPaddress\u0026gt; 4172\nYou can type some text and press enter. The text typed in the screen must be displayed on both sides, If not the port is blocked.\nSo I discovered that the 4172 UDP protocol from the View desktop pool to the Security server was blocked by a firewall. After opening this port in the firewalls the problem was solved.\nMore information: Netcat for Windows can be downloaded here .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/07/23/display-the-maximum-concurrent-connected-users-in-vmware-horizon-view-with-powercli/",
  "title": "Display the maximum concurrent connected users in VMware Horizon View with PowerCLI",
  "description": "",
  "date": "July 23, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "horizon, powercli, view",
  "tags": "powercli, VMware-horizon-view",
  "content":"VMware Horizon View generates everyday at 5 minutes for midnight an event how many concurrent users connected to View that day. This information can be useful for example when when investing trends.\nWhen the Event database in the VMware Horizon View Administrator is configured, this information can be found using the VMware Horizon View Administrator, Monitoring, select Events and filter for “over the past”\nWith PowerCLI the daily maximum concurrent connected users can be displayed by using the following command from the VMware View Connection server using View PowerCLI:\nGet-EventReport -viewName user_count_events\nThe following command displays the concurrent users from the last 5 days:\nGet-EventReport -viewName user_count_events -startDate ((Get-Date).AddDays(-5)) | sort time | Select Time,Usercount\nYou can customize the command further for your needs.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/07/11/enable-the-vshield-driver-in-vmware-tools/",
  "title": "Enable the vShield driver in VMware tools",
  "description": "",
  "date": "July 11, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi, vshield",
  "tags": "esxi-2, vshield",
  "content":"One of the steps of a vShield Endpoint based deployment is to enable the vShield driver in VMware tools. The vShield driver is not enabled by default. This can be done manually or automatically for example in the golden image of a VDI desktop.\nHere are the manually steps when the VMware tools already are installed:\nIn the vSphere client open a Console session Select VM – Guest – Install/Upgrade VMware Tools Choose Interactive Tools Upgrade In the VM open the setup program Choose Next Choose Modify Expand the VMCI Driver section, select vShield Drivers and select “This feature will be installed on the local hard drive” Next – modify If you are installing VMware Tools in a number of Windows virtual machines, you can automate its installation by using the following syntax:\nMount/Extract the VMware Tools ISO setup.exe /S /v /qn REBOOT=R ADDLOCAL=VMCI REMOVE=Hgfs\nor choose Automatic Tools Upgrade In the advanced Options field enter:\n/v /qn ADDLOCAL=VMCI,VShield REMOVE=Hgfs\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/06/25/haswell-low-power-whitebox-for-esxi-and-hyper-v/",
  "title": "Haswell low power whitebox for ESXi and Hyper-V",
  "description": "",
  "date": "June 25, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "haswell, home-lab, whitebox",
  "tags": "esxi-2, haswell, home-lab, hyper-v-2, whitebox",
  "content":"I was searching for a new whitebox for my home lab. I had the following requirements for the new whitebox:\nLow power consumption for 24x7 running \u0026gt;16 GB memory Expansion slots for PCI(-E) cards Good performance Low noise A couple of weeks ago Intel released the new 4th generation Haswell CPUs that consumes less power. Seems to be interesting option for building a low power consumption whitebox. So I did some research and ordered the following hardware components:\nCPUi5 4570S BoxedMotherboardGigabyte GA-Z87-D3HPMemoryCorsair Vengeance 4 x 8 GB DDR3 PC3-12800 (DDR3-1600) 32GBPower SupplySeasonic G-360 80 Plus Gold\rThe following components I reused:\nThe case 2 Intel PCI-e NICS A SSD drive CPU\nHaswell is the codename for the 4th generation Intel Core processors. One of the big improvements of the Haswell CPUs is the idle power consumption. The Intel S-version is also a low-power CPU. It contains 4 cores and has a 65W TDP. The processor supports vPro, VT-x, VT-d, EPT etc. A CPU cooler is in the box included. For the full specifications look here .\nMotherboard\nThe Gigabyte GA-Z87-D3HP is a socket 1150 motherboard. The board has 4 memory sockets that support DDR3 memory up to 32 GB. It has onboard graphics , 6 x SATA 6 Gb/s connectors, a Intel WG-217v LAN adapter and the following expansion slots:\n1 x PCI Express x16 slot 1 x PCI Express x16 slot, running at x4 2 x PCI Express x1 slots 2 x PCI slots Memory\nFor the memory I choose the Corsair Vengeance CML32GX3M4A1600C10 4 x 8 PC3-12800 (DDR3-1600) CL10 kit. All the four memory sockets on the board are filled with a 8 GB module (total = 32 GB memory).\nPower Supply\nThe Seasonic G-360 power supply has a 80 Plus Gold certification. This is a great power supply with high efficiency and low noise..\nHypervisor support I tested VMware ESXi 5.1 Update 1 and vSphere 5.5 and Microsoft Windows Server 2012 with the Hyper-V role installed.\nVMware ESXi\nThe onboard Intel I217-V NIC is not recognized by ESXi 5.1 Update 1. To get the I217-V NIC working in ESXi5.x read the blog post found here . I reused 2 Intel PCI-e NICs, one for LAN and the other for iSCSI and NFS traffic. The onboard SATA controller (Lynx Point AHCI) is recognized. I use an existing SSD for booting ESXi and running some important VMs. But is is possible to boot ESXi from USB stick. The other VMs are on NAS device. Passthrough is supported by the CPU and motherboard.\nMicrosoft Windows Server 2012 with the Hyper-V role\nI tested Windows Server 2012 with the Hyper-V role enabled. The The onboard Intel I217-V NIC is not recognized by default. In the “Enable the Intel I217-V NIC in Windows Server 2012 ” blog post I explain how to enable the I217-V NIC Windows Server 2012.\nPower consumption\nThe whitebox consumes a maximum between 40-50 W. When idle (and that is often) it consumes only 28 a 29 W!\nThe whitebox components cost about €615. and will be used for running VMs 24x7. The whitebox meets all the requirements I had.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/06/24/enable-the-intel-i217-v-nic-in-windows-server-2012/",
  "title": "Enable the Intel I217-V NIC in Windows Server 2012",
  "description": "",
  "date": "June 24, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "i217-v, whitebox, windows-server-2012",
  "tags": "i217-v-2, whitebox, windows-server-2012",
  "content":"My new Gigabyte Z87-D3HP motherboard with support for 4th Generation Intel® Core™ processors (codename Haswell) has a onboard Intel I217-V NIC. The NIC is not recognized and supported in Windows Server 2012. As with the “Enable the Intel 82579V NIC in Windows Server 2012 ” blogpost it is possible to enable the NIC in Windows Server 2012. Here are the steps:\nTo be able to modify the drivers you need to run the the following commands: bcdedit -set loadoptions DISABLE_INTEGRITY_CHECKS bcdedit -set TESTSIGNING ON Reboot the system\nDownload the Intel drivers from the motherboard vendor or from Intel. In my case I used the Intel Windows 8 64-bit drivers Gigabyte has available for the Z87-D3HP motherboard on there website.\nSave the drivers and extract them Open the folder PRO1000 Open the folder Winx64 Open the folder NDIS63 Open the e1d63x64.inf file, I used Notepad++ to edit the file In the [ControlFlags] section delete the 3 lines (see 1) Select and copy the three E153B lines ((see 2) Paste the 3 lines in the [Intel.NTamd64.6.2] section below the %E155ANC lines (see 3) After the modifications the e1d63x64.inf file must look like this: Save the file Install the Intel driver During the installation the you got a “Windows can’t verify the publisher of this driver software” warning, select “Install this driver software anyway” and continue After the installation the Intel I217-V Gigabit NIC is recognized and enabled. Enable the driver integrity checks and disable test signing again by using the following commands: bcdedit -set loadoptions ENABLE_INTEGRITY_CHECKS\rbcdedit -set TESTSIGNING OFF Reboot the system "},{
  "section": "Blog",
  "slug": "/logbook/site/2013/06/19/create-a-signed-certificate-for-vmware-view-connection-servers-using-a-windows-server-2012-ca/",
  "title": "Create a signed certificate for VMware View Connection Servers using a Windows Server 2012 CA",
  "description": "",
  "date": "June 19, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "certificate, horizon, view, VMware, windows-server-2012",
  "tags": "certificate, horizon, view, VMware, windows-server-2012",
  "content":"For VMware Horizon View it is recommends that you configure your VMware View Horizon Servers with a signed SSL certificate. Default when you install a VMware View Horizon servers, a certificate is generated that is not signed by a CA. Because it is not signed by a CA It is possible to to intercept traffic. So it is highly recommend to replace the default certificate with a signed certificate after the installation.\nIn the VMware View Horizon Administrator dashboard you can see that the Connection Server does not have a valid signed certificate.\nThe following steps explains how-to create a signed certificate and replace the self-signed certificate on the VMware View Horizon Connection Server(s). As CA is a Windows Server 2012 Enterprise Certificate Authority used. The installation of this CA is not part of the steps! The VMware View Horizon Connection Server(s) are installed on Windows Server 2008 R2.\nSteps on the Windows Server 2012 Certification Authority Open the Certification Authority program in the tools section in Server Manager from the Windows Server 2012 server Expand the server name and right click on Certificate Template and choose Manage Select the Web Server Template and choose Duplicate Template\nLeave all the fields defaults except the following:\nIn General change the Template display name, Template name and Validity period and Renewal period fields to your needs\nIn Request Handling mark Allow private key to be exported\nIn the Security add the computer account of the View Connection Servers with the Read, Write and Enroll permissions checked\n\u0026nbsp;\rClose the Certificate Templates Console In the Certificate Authority choose New – Certificate Template to issue and select the Certificate Template just created Steps on the VMware Horizon View Connection Server(s) Start – Run – MMC File – Add Snap-ins – Certificates – Computer Account – Local computer Personal – Certificates – All Tasks – Select Request New Certificate Next Choose Active Directory Enrollment Policy Next Check the VMware View template and select Properties In subject - Subject name Type select Common Name. Enter the FQDN name of the VMware View Horizon Connection server In General enter as Friendly name vdm in the field Check in the Private Key – Key Options field if Make private key exportable option is checked OK and press Enroll Rename the Friendly name of the old self signed certificate to another name as VDM Restart the VMware View Connection Server service. Wait some time so that the VMware View Connection Server can load Login the View Administrator portal and within a couple of minutes the dashboard System Health of the Connection Servers should get a green color. The VMware View Connection Servers has now a signed certificate "},{
  "section": "Blog",
  "slug": "/logbook/site/2013/06/05/whats-new-in-windows-server-2012-r2-hyper-v/",
  "title": "What&amp;rsquo;s new in Windows Server 2012 R2 Hyper-V",
  "description": "",
  "date": "June 5, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v, windows-server-2012-r2",
  "tags": "hyper-v-2, windows-server-2012-r2",
  "content":"On TechEd Windows Server 2012 R2 is announced. Here are some highlights of “Hyper-V – What’s New in Windows Serve 2012 R2” session (MDC-B330):\nWindows Azure IaaS compatibility—Windows Azure IaaS uses exactly the same virtualization as Windows Server 2012 Hyper-V. So VM’s on-premise can be moved to Azure (Iaas) without problems Generation 2 Virtual Machines (VMs). In the generation 2 VM are many emulated devices removed and it boots from virtual SCSI or synthetic network adapters. In earlier releases the VM booted from an IDE controller or a legacy network adapter. Gen 2 VM’s are only supported from Windows 8 and Windows Server 2012 64-bit and higher Operating Systems. A generation 2 VM knows that it is virtualized! Enhanced VM Interaction. This is Remote Desktop over VMBUS which enables full remote desktop capabilities such as shared clipboard, copy files, audio redirection, enhanced login etc. Automatic activation. Zero touch activation of VMs. It will check if the Hyper-V host is licensed than the VM is automatically licensed. Faster Live Migration (LM). Faster LM by using compression, improves 2x the LM time. Compression is enabled by default. SMB direct (RDMA) can be used in high-end networks that require super high-speed LMs. As guidance use for 10 Gbit or less network compression and over 10 Gbit use SMB/ SMB direct Online VHDX resize. Increase and decrease the size of the virtual hard disks while the VM is running Live virtual machine export / clone. While the VM is running, it is possible to export a complete copy of the VM including the memory state and export any snapshot of a VM. Zero downtime upgrade. Upgrade from Windows Server 2012 to Windows Server 2012 R2 using the cross version live migration without downtime. Linux Guest Support. Support Full dynamic memory, online backup, online VHDX resize and new video driver for better video experience Storage QoS. With Storage QoS you can monitor the IOPS in a VM. It can be dynamically configured while the VM is running and can restrict disk throughput for overactive disruptive VMs Guest clustering with shared virtual disks. You can now do guest cluster using the same infrastructure Improvements to Hyper-V replica. Finer grained control of replication such as 30 seconds, 5 minutes and 15 minutes. With 30 seconds you never more than 1 minute behind the primary VM and useful for WAN connections with enough bandwidth.With Extended replication you can use a third location to replicate the VM. "},{
  "section": "Blog",
  "slug": "/logbook/site/2013/05/30/vcenter-single-sign-on-sso-password-reset/",
  "title": "vCenter Single Sign On (SSO) password reset",
  "description": "",
  "date": "May 30, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "sso, vcenter-2",
  "tags": "sso, vcenter",
  "content":"During the installation of the Windows vCenter Single Sing On (SSO) service you must provide a password for the SSO admin user named “admin@System-Domain ”.\nThe password you enter is called the master password. If you change the master password, the password entered during the installation of the SSO service is needed as master password for resetting the “admin@System-Domain ”. You can reset it by using the following syntax:\nnavigate to the following directory \\Program Files\\VMware\\Infrastructure\\SSOServer\\utils` Use the rsautil reset-admin-password command. The VMware KB article can be found here . If you forgot the master password and have no other admin account, there is no supported way to reset the SSO password. You need to reinstall your vCenter environment!\nThere is an unsupported way to recover the SSO password by reading the sha256 hashed password. The complete procedure can be found on Schubis Blog .\nMake sure that you document master SSO password entered during the installation. After the installation add some other users to Administrators group in SSO. I hope VMware will make it possible to reset the “admin@System-Domain ” password. in a future patch of release.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/05/29/vexpert-2013-award/",
  "title": "vExpert 2013 award",
  "description": "",
  "date": "May 29, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "",
  "content":"Last night the list of vExperts are announced. On the moment there are named 580 vExperts. For the third year on a row I earned the vExpert award. I’m honored to be a part of this amazing group of people!\nI would like to thank John Troyer, Corey Romero, and the VMware Social Media \u0026amp; Community Team for making this possible.\nCongratulations to all the other vExperts! The list of vExperts can be found here .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/05/01/test-your-esxi-network-resiliency-with-esxcli/",
  "title": "Test your ESXi network resiliency with ESXCLI",
  "description": "",
  "date": "May 1, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi, networking, vSphere",
  "tags": "esxi-2, networking, vSphere",
  "content":"After configuring the network portion for your ESXi servers you need to test if the redundancy is working as accepted. From the ESXi layer you can bringing down/up one or more uplinks to test the network resilience. No longer you need to pull out the UTP cables. Since ESXi5 this can be done by using the esxcli network nic down/up command.\nFirst log in to ESXi using for example using Tech Support Mode\nGet a overview of the installed vmnics esxcli network nic list\nBring a vmnic down esxcli network nic down –n \u0026lt;vmnicNumber\u0026gt;\nBring a vmnic up esxcli network nic up –n \u0026lt;vmnicNumber\u0026gt;\nOnly auto-negotiation 10Mb/100Mb/1000Mb/10000Mb speeds vmnics are supported. FlexNics with different speed are not supported.s\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/04/12/optimize-windows-8-for-virtual-desktop-infrastructure-vdi-environments/",
  "title": "Optimize Windows 8 for Virtual Desktop Infrastructure (VDI) environments",
  "description": "",
  "date": "April 12, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vdi, view, windows-8",
  "tags": "vdi, view, windows-8",
  "content":"Optimize and tuning a Windows 8 desktop in a VDI environment is important to reduce for example the CPU, IOPS and the memory footprint. During the Microsoft Management Summit (MMS) 2013 a breakout session about optimizing a Windows 8 desktop for Virtual Desktop Infrastructure (VDI) is held. The session has three main subjects:\nMicrosoft Guidance for Windows 8 Configuration VDI desktop. What version of Windows 8 do I need, how many CPUs, memory, disk partitioning etc. Detailed Review of Component Configuration. What services do I need to enable or disable, do I need to disable SuperFetch? All the optimization settings are available in VBS script Recommendations for performance testing. This section is about the (third party) tools that can be used to do performance testing. . The Windows 8 VDI sizing and optimizations can be used for example on the following VDI solutions:\nVMware Horizon View Citrix XenDesktop Microsoft VDI A Windows 8 VDI optimization VBS script is available. This script does all the optimization work for you. Review all the settings before executing if the fits for your environment! There will be a PowerShell version available in the future. The Windows 8 optimization VBS script can be found here .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/04/03/vmware-horizon-view-and-microsoft-lync-2013-support/",
  "title": "VMware Horizon View and Microsoft Lync 2013 support",
  "description": "",
  "date": "April 3, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "lync, view, VMware",
  "tags": "lync, view, VMware",
  "content":"VMware Horizon View 5.2 adds support for Microsoft Lync 2013 with audio en video. With Microsoft Lync 2010, only VoIP was supported, but required a dedicated IP-based phone. Microsoft and VMware collaborated to bring Lync 2013 support to the View 5.2 desktop.\nHere is a list of supported features with Lync 2013 in VMware View:\nFeatures\nSupport/Unsupported\nPresence\nSupported\nInstant Message\nSupported\nDesktop Sharing\nSupported\nApplication Sharing\nSupported\nPowerPoint Sharing\nSupported\nWhiteboards\nSupported\nFile transfer\nSupported\nOnline meetings\nSupported\nOffice Integration\nSupported\nAudio\nSupported (with Lync 2010, this used to only be supported via IP-Phone)\nVideo\nSupported (with Lync 2010, this was never supported)\nRecording audio\nUnsupported\nAll the media processing is offloaded from the datacenter to the client endpoint. The following diagram highlights the different components and the communication flow of the VMware View and Microsoft Lync 2013:\nThe VDI Plug-in is a standalone application that needs the be installed on the local Windows computer and allows the use of local audio and video devices with the Lync 2013 client running in the View Desktop. Audio and Video traffic is sent point-to-point between the endpoints.\nOn the moment only Windows 7 SP1 is supported as client OS and View desktop.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/03/21/windows-server-2012-hyper-v-best-practices/",
  "title": "Windows Server 2012 Hyper-V Best Practices",
  "description": "",
  "date": "March 21, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v",
  "tags": "hyper-v-2",
  "content":"Roger Osborne has create a huge checklist form of best practices on Microsoft Windows Server 2012 Hyper-V. The Windows Server 2012 Hyper-V or Hyper-V 3 best practices focuses on the following topics:\nHost settings Anti-virus exclusions Physical NICs settings, NIC teaming, VLANS, Virtual Network Adapters (NICs) Disk settings, VHDX Memory, dynamic memory Cluster settings Hyper-V replica Cluster aware updating SMB 3.0 File shares Virtual Domain Controllers Integration Services The best practice checklist form can be found here "},{
  "section": "Blog",
  "slug": "/logbook/site/2013/03/20/vmware-horizon-view-and-html-access-blast-protocol/",
  "title": "VMware Horizon View and HTML access (Blast protocol)",
  "description": "",
  "date": "March 20, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "horizon, view",
  "tags": "blast, horizon, security-server, unity, view, VMware",
  "content":"With the release of the VMware Horizon View Feature Pack 1 for VMware Horizon View 5.2 it possible to connect with HTML5 to your View desktop. This without installing additional software. The new HTML5 protocol is called Blast. Connecting by using the Blast HTML protocol can be handy when you are on a device that does not have the VMware View client installed.\nThe VMware Horizon View Feature Pack 1 contains the following two main components:\nRemote Experience Agent installer HTML Access installer Remote Experience Agent installer contains:\nHTML Access Agent: The HTML Access Agent allows users to connect to Horizon View desktops by using HTML Access Unity Touch: With Unity Touch, tablet and smart phone users can easily browse, search, and open Windows applications and files, choose favorite applications and files,and switch between running applications, all without using the Start menu or Taskbar. Unity touch requires a VMware View Client This component is installed on the View Desktop (XP SP3, Windows Vista (32-bit), Windows 7 or 8 )\nHTML Access installer: This installer configures View Connection Server instances to allow users to select HTML Access to connect to desktops. After you run the HTML Access installer, the View Portal displays an HTML Access icon in addition to the View Client icon.\nThis component is installed on the Blast Secure Gateway know as View Connection Server (Not the Security Server).\nHere is an overview of the components and firewall ports that’s needs to be opened:\nA single security server can support up to 100 simultaneous connections to Web clients using the Blast protocol. For a complete list and drawing of the firewall ports that needs to be opened in a VMware View Security Server environment see my earlier post here .\nIn the View Administrator the connections using a the Blast protocol can be monitored:\nUnity Touch is supported on the following Horizon View Client versions:\nHorizon View Client for iOS 2.0 or later Horizon View Client for Android 2.0 or later Unity Touch is supported on the following mobile device operating systems:\niOS 5.0 and later Android 3 (Honeycomb) The following Web browsers are supported:\nChrome 22 or later Internet Explorer 9 or later Safari 5.1.7 or later Firefox 16 or later Mobile Safari on iOS devices running iOS 6 or later Don’t expect: that the Blast protocol offers:\nThe same performance as PCoIP! USB and multimedia redirection ThinPrint support But the Blast HTML protocol can be handy when you are on a device that does not have the VMware View client installed.\n\u0026nbsp;View Portal. Choose\u0026nbsp; between the View Client or HTML accessLogon screen HTML accessUnity touch from iPhoneUnity touch from iPhone"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/03/19/vmware-vcenter-multi-hypervisor-manager-has-now-hyper-v-2012-support/",
  "title": "VMware vCenter Multi-Hypervisor Manager has now Hyper-V 2012 support",
  "description": "",
  "date": "March 19, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v, vSphere",
  "tags": "hyper-v-2, vSphere",
  "content":"VMware has released the beta the public beta of VMware vCenter Multi-Hypervisor Manager 1.1. This beta supports Microsoft Windows Server 2012 Hyper-V or Hyper-V Server 2012. Another new capability is to migrate VMs from your Hyper-V to your VMware vSphere environment .\nThe VMware vCenter Multi-Hypervisor Manager 1.1 is a minor release which introduces the following new capabilities:\nMigration of virtual machines from Hyper-V to ESX or ESXi hosts. Support for the latest Microsoft Hyper-V hypervisor (as well as earlier Hyper-V versions). Increased scalability with regards to an increased number of supported third-party hosts to 50 (from 20 in vCenter Multi-Hypervisor Manager 1.0). Ability to provide custom certificates for the vCenter Multi-Hypervisor Manager server from the installer wizard. Multiple objects selection in the UI of the vCenter Multi-Hypervisor Manager plug-in and a number of other usability improvements. vCenter Multi-Hypervisor Manager server and client-side bug fixes. Version 1.1 is now in public beta available and can be obtained from here.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/03/15/remove-a-host-from-the-vsphere-distributed-switch-vds/",
  "title": "Remove a vSphere Distributed Switch (VDS) from host",
  "description": "",
  "date": "March 15, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vds, vSphere",
  "tags": "vSphere-vds",
  "content":"The option to remove a ESXi host from a vSphere Distributed Switch can be difficult to find. Here are the steps listed to remove an ESXi host from a vSphere Distributed Switch (VDS):\nOpen the vSphere client Click Home and the Networking icon in the inventory tab Select the desired VDS (2) Select the hosts tab Select the desired ESXi host, right click and select Remove from vSphere Distributed Switch (4) "},{
  "section": "Blog",
  "slug": "/logbook/site/2013/03/05/tips-for-implementing-a-vmware-horizon-view-security-server/",
  "title": "Tips for implementing a VMware Horizon View Security Server",
  "description": "",
  "date": "March 5, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "horizon, security-server, view, VMware",
  "tags": "firewall-ports, horizon, open, security-server, view, VMware",
  "content":"A security server is a special instance of View Connection Server that runs a subset of View Connection Server functions. You can use a security server to provide an additional layer of security between the internet and your internal network. A security server resides within a DMZ and acts as a proxy host for connections inside your trusted network.\nSetting up a VMware Horizon View Security server can be a challenging task because you have to deal with firewalls and some ports that’s need to be opened between the servers. Here are some tips for implementing a VMware Horizon View Security server:\nA Security server resides within a DMZ The security server is not a member of the Active Directory Create or obtain a signed certificate for the Security Server from a trusted Certificate Authority. More information about the certificate options can be found here . To allow tunneling of the PCoIP protocol from the Security Server to a Connection Server, configure the PCoIP Secure Gateway. More info can be found here Verify that Windows Firewall with Advanced Security is set to on in the active profiles. It is recommended that you turn this setting to on for all profiles. By default, IPsec rules govern connections between security server and View Connection Server and require Windows Firewall with Advanced Security to be enabled Back-end firewalls must be set up to support IPsec. If you have a back-end firewall between security servers and View Connection Server instances, you must configure firewall rules to allow the connections to work. More information: See “Configuring a Back-End Firewall to Support IPsec ” in the View Installation guide. Windows Firewall with Advanced Security must be enabled on Security Server and View Connection Server hosts. By default, IPsec rules govern connections between the View security server and View Connection Server and require Windows Firewall with Advanced Security to be enabled. Best choice: Set Windows Firewall with Advanced Security to on before you install the View servers. Make sure it’s on for any active profiles; better still, set it to on for all profiles. Alternative: Before you install security servers, open View Administrator and disable the Global Setting, Use IPsec for Security Server Connections, by setting it to no. (This is not recommended.) The firewall rules that needs to be used can be found here . I made a drawing (based on VMware Horizon View Security server version 5.2) of a single View Security server that list the ports and rules that needs to be opened between the servers: (*1) HTML Access uses TCP port 8443 for client connections to the Blast Secure Gateway\n(*2) Enable this port for firewalls that use NAT. For non-NAT firewalls use the ESP protocol.\n(*3) Enable this port if you use VMware Horizon View HTML Access, security servers connect to View desktops on HTTPS port 22443 to communicate with the Blast agent.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/02/21/display-the-protocol-used-on-the-vmware-view-desktop-background/",
  "title": "Display the protocol used on the VMware View desktop background",
  "description": "",
  "date": "February 21, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "horizon, view, VMware",
  "tags": "horizon, view, VMware",
  "content":"Systinternals has a tool called “BgInfo”. With this tool it is possible to display content on a Windows desktop background. For example environment variable Information such as “computer name” and the “IP address” can be displayed. This can be very handy when testing or for people that do they support for the Windows environment.\nVMware View 5.1 has the following environment variables available in a desktop session :\nViewClient_Broker_DNS_Name ViewClient_Broker_DomainName ViewClient_Broker_Remote_IP_Address ViewClient_Broker_Tunneled ViewClient_Broker_Tunnel_URL ViewClient_Broker_URL ViewClient_Broker_UserName ViewClient_IP_Address ViewClient_LoggedOn_Domainname ViewClient_LoggedOn_Username ViewClient_Machine_Name ViewClient_MAC_Address ViewClient_Protocol ViewClient_Type ViewClient_Windows_Timezone The View environment variables can be added to BgInfo using the custom field option.\nAfter running BgInfo, the View environment variables are displayed on the desktop background. In the following example we added information on the desktop about what protocol (RDP or PCoIP) is used to connect to the View desktop:\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/02/15/control-remotely-the-power-of-your-home-lab/",
  "title": "Control (remotely) the power of your Home Lab",
  "description": "",
  "date": "February 15, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "home-lab, homebrew, whitebox",
  "tags": "home-lab, homebrew, whitebox",
  "content":"I have a lab at home to test for example VMware vSphere and Microsoft stuff. Running your home lab for 24/7 will result in a high electricity bill. For a couple of months I use the Internet Control Station ICS-1000 (ICS-1000) to power on my home lab when needed from anywhere. The ICS-1000 controls (left picture) controls the receivers (right picture). The ICS-1000 is connected to my router. In the receivers are the power cables plugged from the devices you manage.\nSo when needing my lab environment I open the App on my iPhone and power on the home lab from everywhere. After a short time I can remotely access the home lab and connect for example to my:\nNAS VMware vSphere with ESXi servers environment Microsoft Hyper-V environment Using the web browser or the iPhone App for example you can program the timers to power on/off devices on specific times and dates. I use different receivers through the whole house and control it with the ICS-1000. For example I control the light outside the house with timers I programmed in the the ICS-1000. The App has still some limitations and bugs. For example it is not possible to edit timers. To change the timers you need to delete and recreate them. Probably in March 2013 the App will be updated to solve some bugs and add new functionality.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/02/07/configure-the-view-5-1-event-database-with-sql-server-express/",
  "title": "Configure the VMware Horizon View Event database with MS SQL Server Express",
  "description": "",
  "date": "February 7, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "view, VMware",
  "tags": "view, VMware",
  "content":"The event database record information about View Manager events. Without configure the event database events are logged in a log file. The log file has very limited information. So configuring the Event Database in the View environment is a best practice.\nIn Proof of Concept (PoC) environments MS SQL Server Express can be used for the Event database. This procedure describes how-to create a event database by using an MS SQL Server Express database:\nInstall the Microsoft SQL Server Management Studio. For more information see my earlier blog post link Make sure the SQL server authentication is set to SQL and Windows Authentication mode Create a new database in Microsoft SQL Server Management Studio (There is no ODBC data source connection needed!). Create a new user using SQL Server authentication, disable enforce password policy and select as default database the event database. In the User Mapping field, map de the database and add the role db_owner to the new user Open the SQL Server Configuration Manager \u0026gt; SQL Server Network Configuration \u0026gt; Protocols for VIM_SQLEXP, open the TCP/IP protocol and make sure it is enabled. Scroll down to IPAll and write down the TCP Dynamic Ports number Disable Windows Firewall on the SQL server machine. If you are unable to do this, set a Firewall exception for the dynamic port listed In the View Administrator (https://connectionserver/admin) select View Configuration \u0026gt; Event Configuration. In the Event Database section click Edit and enter the information needed. And the Event database is configured with MS SQL Server Express.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/01/28/health-check-your-system-center-virtual-machine-server-scvmm-2012-environent-with-powershell/",
  "title": "Health Check your System Center Virtual Machine Server (SCVMM) 2012 environent with PowerShell",
  "description": "",
  "date": "January 28, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v, PowerShell, scvmm",
  "tags": "hyper-v-2, PowerShell, scvmm",
  "content":"Last week I created a simple example of a HealtCheck PowerShell script that connects to Microsoft System Center Virtual Machine Manager and displays information about the Hyper-V hosts and VMs managed by this server.\nI run the PowerShell script from another Windows Server 2012 host. To make this work make sure the Hyper-V manager and the VMM Console is installed on the server. The VMM console can be installed from the Microsoft System Center 2012 Virtual Machine Manager ISO.\nThe output is displayed on the screen and exported to a HTML file. The following information is generated:\nHost information:\nCluster it belongs, host name, CPU count, core count, CPU speed, CPU model, memory, operating System, and VM hostgroup\nVM information:\nVM name, computer name, host the VM is on, CPU count, CPU type, memory, if dynamic Memory is enabled, Operating System, If integration tools are installed, integration tool version, VM status, Replication Status and VM location\nVM snapshot information:\nVM Name, Name of the snapshot, description, time added and modified time\nHere is an example how the output looks like:\nThe only parameter that needs to be changed is the $File variable that specify the location were the HTML file is stored.\nPowerShell script:\n\u0026lt;# .SYNOPSIS System Center Virtual Machine Manager Healthcheck .VERSION 1.0 .DESCRIPTION Generates a HTML Healthcheck report .NOTES Author(s): Ivo Beerens .EXAMPLE PS\u0026gt; ./scvmmhc.ps1 #\u0026gt; # Import modules Import-Module -Name \u0026#34;Hyper-v\u0026#34; Import-Module -Name \u0026#34;VirtualMachineManager\u0026#34; #Variables $Date = Get-Date $Datefile = ( get-date ).ToString(\u0026#39;yyyy-MM-dd-hhmmss\u0026#39;) $File = New-Item -type file \u0026#34;D:\\Temp\\Healtcheck_$datefile.html\u0026#34; #Connect to the SCVMM server Clear $VMMName = Read-Host \u0026#34;Enter System Center Virtual Machine Server Name to check\u0026#34; Write-Host \u0026#34;VMM name is $VMMName\u0026#34; -ForeGround Red Get-VMMServer -ComputerName $VMMName #HTML # Add Text to the HTML file Function Create-HTMLTable { param([array]$Array) $arrHTML = $Array | ConvertTo-Html $arrHTML[-1] = $arrHTML[-1].ToString().Replace(\u0026#39;\u0026lt;/body\u0026gt;\u0026lt;/html\u0026gt;\u0026#39;,\u0026#34;\u0026#34;) Return $arrHTML[5..2000] } $output = @() $output += \u0026#39;\u0026lt;html\u0026gt;\u0026lt;head\u0026gt;\u0026lt;/head\u0026gt;\u0026lt;body\u0026gt;\u0026#39; $output += \u0026#39;\u0026lt;style\u0026gt;table{border-style:solid;border-width:1px;font-size:8pt;background-color:#ccc;width:100%;}th{text-align:left;}td{background-color:#fff;width:20%;border-style:so lid;border-width:1px;}body{font-family:verdana;font-size:12pt;}h1{font-size:12pt;}h2{font-size:10pt;}\u0026lt;/style\u0026gt;\u0026#39; $output += \u0026#39;\u0026lt;h1\u0026gt;Hyper-V health check\u0026lt;/h1\u0026gt;\u0026#39; $output += \u0026#39;\u0026lt;h1\u0026gt;Versie 1.0\u0026lt;/h1\u0026gt;\u0026#39; $output += \u0026#39;\u0026lt;h2\u0026gt;Date and time\u0026lt;/h2\u0026gt;\u0026#39;,$date # Hosts $HVHosts = Get-VMHost | Select HostCluster,Name,PhysicalCPUCount,CoresPerCPU,ProcessorManufacturer,CPUSpeed,CPUModel,@{N=\u0026#34;Memory(GB)\u0026#34;;E={[math]::Round((($_.TotalMemory)/1GB),3)}},OperatingSystem,EnableLiveMigration,VMHostGroup $output += \u0026#39;\u0026lt;p\u0026gt;\u0026#39; $output += \u0026#39;\u0026lt;h1\u0026gt;Hosts\u0026lt;/h1\u0026gt;\u0026#39; $output += \u0026#39;\u0026lt;p\u0026gt;\u0026#39; $output += Create-HTMLTable $HVHosts $output += \u0026#39;\u0026lt;/p\u0026gt;\u0026#39; # VM $VMs = Get-VM | Select Name,ComputerName,HostName,CPUCount,CpuType,MemoryAssignedMB,DynamicMemoryEnabled,OperatingSystem,HasVMAdditions,VMAddition,VirtualMachineState,Status,ReplicationStatus,Location $output += \u0026#39;\u0026lt;p\u0026gt;\u0026#39; $output += \u0026#39;\u0026lt;h1\u0026gt;VMs\u0026lt;/h1\u0026gt;\u0026#39; $output += \u0026#39;\u0026lt;p\u0026gt;\u0026#39; $output += Create-HTMLTable $VMs $output += \u0026#39;\u0026lt;/p\u0026gt;\u0026#39; # Snapshots $VMSnaps = Get-VM | Get-VMCheckpoint | Select VM,Name,Description,AddedTime,ModifiedTime $output += \u0026#39;\u0026lt;p\u0026gt;\u0026#39; $output += \u0026#39;\u0026lt;h1\u0026gt;Snapshots\u0026lt;/h1\u0026gt;\u0026#39; $output += \u0026#39;\u0026lt;p\u0026gt;\u0026#39; $output += Create-HTMLTable $VMSnaps $output += \u0026#39;\u0026lt;/p\u0026gt;\u0026#39; # End $output += \u0026#39;\u0026lt;/body\u0026gt;\u0026lt;/html\u0026gt;\u0026#39; $output | Out-File $file -Force # Open the HTML file ii $file The script can be easily extended with other checks, for example an e-mail option. If you have other additions let me know so the script can be extended.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/01/24/in-the-vsphere-web-client-the-use-windows-session-authentication-is-grayed-out/",
  "title": "In the vSphere Web Client the &amp;ldquo;Use Windows session authentication&amp;rdquo; is grayed out",
  "description": "",
  "date": "January 24, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware, vSphere51",
  "tags": "VMware, vSphere51",
  "content":"When logging in the vSphere Web Client login page the “Use Windows session Authentication” check box is grayed out. To solve this you need to install the Client Integration Plug-in.\nThe Client Integration Plug-in provides:\nAccess to the VM console Deploy OVF or OVA templates Transfer files with the datastore browser Use Windows Session authentication Without the VMware Client Integration Plug-in, the “Use Windows session Authentication” check box is grayed out (1) in the vSphere Web Client login page.\nAfter installing the VMware Client Integration Plug-in (2) from the vSphere Web Client login page, the Use Windows session Authentication check box option can be checked and the current login setting are used in the vSphere Web Client.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/01/22/why-switch-between-windows-server-2012-core-and-windows-server-2012-gui/",
  "title": "Switch between Windows Server 2012 core and Windows Server 2012 GUI",
  "description": "",
  "date": "January 22, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v, windows-server-2012",
  "tags": "hyper-v-2, windows-server-2012",
  "content":"In Windows Server 2012 you can choose between a Server Core and Server with a GUI (full) during the installation. The Full Server GUI has all the tools and options to configure and troubleshoot. Server core is a minimal Windows installation with less tools and options.\nServer Core has the following advantages over Server Full:\nSmaller footprint (disk and memory). It is more secure because the smaller attack surface. For example the Server core version has no Internet Explorer included. So no IE patches are needed to install. Server Core disadvantages over Server Full**:**\nConfiguration, management and troubleshooting can be more complex. For example when you want to change the binding order and NIC order you need to use PowerShell or Netsh commands. In Windows Server 2008 R2 you cannot switch between Server core and Server with the full GUI. With Windows Server 2012 it is possible to switch between a Server Core and Server Full as needed. Switching between Server core and Server Full requires a reboot.\nIn Windows Server 2012 there are three GUI options to configure:\nServer Core. Includes the sconfig menu and PowerShell. It can be managed by RDP and Server Manager and MMC remotely. Graphical Management Tools and Infrastructure. Provides a minimal server interface and server management tools such as Server Manager and the Microsoft Management Console (MMC). Server Graphical Shell. This is the full installation including Server Manager, MMC, Internet Explorer and Windows Explorer. Use case switching between Server Core and Server with a GUI (full) and vise-versa When configuring the Hyper-V role with multiple NICs it can be difficult to optimize (for example NIC and binding order) the NIC configuration in Server Core.\nTo make it easier to do the configuration you can begin the installing and configuring of the Windows Server 2012 in full GUI mode. After the configuration is completed you can switch to Server Core back. Another case to switch to the Server Full GUI is during troubleshooting.\nSwitch between Server Core and Server with a GUI (full) Switching between the GUI modes can be via Server Manager and PowerShell. Microsoft Hyper-V Server 2012 stand-alone (free) version does not support switching between the Server Core and Server GUI!\nServer Manager\nIn Server Manager you can add or remove the Graphical Management Tools and Infrastructure or the Server Graphical Shell (full) feature.\nPowerShell\nHere are some PowerShell examples that can be used:\nList Server roles beginning with Server*\nGet-WindowsFeatures Server*\nSwitch from Core Server to the Server Full\nInstall-WindowsFeature Server-Gui-Mgmt-Infra,Server-Gui-Shell –Restart\nSwitch from Server full to Core Server\nRemove-WindowsFeature Server-Gui-Mgmt-Infra,Server-Gui-Shell –Restart\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/01/18/windows-2008-r2-vms-fail-to-backup-with-vmware-data-protection-vdp/",
  "title": "Windows 2008 R2 VMs fail to backup with VMware Data Protection (VDP)",
  "description": "",
  "date": "January 18, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vdp, VMware-data-protection, vSphere51",
  "tags": "vdp, VMware-data-protection, vSphere51",
  "content":"When using VMware Data Protection (VDP) 5.1 and want to backup Windows 2008 R2 VM’s you should disable application-consistent quiescing. On the moment the VADP API doesn’t support Windows 2008 R2 application-consistent quiescing. So be sure that servers that uses a database such as SQL and Exchange are backuped with other third party backup software else the database will be not consistent when restoring!\nIf you don’t disable application-consistent quiescing the backup of the Windows 2008 R2 will probably fail. I experienced this problem by customers who are using VDP and wanted to backup Windows 2008 R2 VMs.\nTo disable application quiescing use the following steps (This example is based on the vSphere Client but the vSphere Web client can be used to):\nShut Down the VM Edit the settings of the VM, go to the Options tab – go to General and click on Configuration Parameters box Look if the disk.EnableUUId parameter exist. If not Add a new row with this parameter. Change the value of the disk.EnableUUId parameter to false Click Power On the VM After changing the disk.EnableUUId parameter to false the backup of the Windows 2008 R2 succeeded with VDP. If you have a lot of VMs you can use PowerCLI to automate this process.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/01/14/allocate-a-static-ip-address-to-the-vmware-vcenter-server-appliance-vcsa/",
  "title": "Allocate a static IP address to the VMware vCenter Server Appliance (VCSA)",
  "description": "",
  "date": "January 14, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vcenter-2, vcsa",
  "tags": "vcenter, vcsa",
  "content":"When deploying the VMware vCenter Server Appliance (VCSA) it will default look for a DHCP address. When there is no DHCP server available the following error is displayed:\nO NETWORKING DETECTED.\nit is possible to manually configure a static IP address by using the command line. Here are the steps:\nOpen a console session of the VCSA Login as: root Default password is: VMware Execute the following command: /opt/vmware/share/vami/vami_config_net\nAfter executing the command, a menu is displayed. Within the menu It is possible to change the IP address, hostname, DNS, Default gateway and proxy server. After allocate a static IP Address to the VCSA the post configuration can be done by using the following URL: https://static-ip-address:5480\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2013/01/02/license-windows-server-2012-editions-in-virtual-environments/",
  "title": "License Windows Server 2012 editions in virtual environments",
  "description": "",
  "date": "January 2, 2013",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "windows-server-2012",
  "tags": "windows-server-2012",
  "content":"As virtualization consultant I got frequently questions about Windows Server 2012 licensing in virtual environments such as VMware and Hyper-V. Here is a short blog about Windows Server 2012 licensing in virtual environments.\nWhat about the Windows Server 2012 license:\nThe Windows Server 2012 licenses are based on the physical processor A single license covers two physical processors. There are two license editions available:\nWindows Server 2012 Standard edition. A Standard edition license will entitle you to run up to two VMs on up to two processors. Windows Server 2012 Datacenter edition. A Datacenter edition license will entitle you to run an unlimited number of VMs on up to two processors The only difference between the two editions are the virtualization rights. All the features that are available, are the same in both editions for example Windows Server Failover Clustering! The Enterprise edition is retired in Windows Server 2012 licensing.\nWindows Server 2012 license examples:\nFor a 2 processor VMware or Hyper-V host with 8 VM’s you need 4 Standard edition licenses For a 4 processor VMware or Hyper-V host with 4 VM’s you need 2 Standard edition licenses The retail list prices of Windows Server 2012 are:\nEditionRetail list price ($)Standard882Datacenter4809\rClient Access Licenses (CALs) will be needed to access to Windows Server 2012 servers.\nThe decision to use the standard of datacenter edition licensing depends on the total number of VMs on your hosts. On hosts with more than 11 VMs the datacenter license will be cost effective.\nIt is allowed to reassign a Windows Server 2012 license from one server to another server but more often than every 90 days. There are some expectations of the 90 days rule to assign the license sooner for example:\nWhen having a permanent hardware failure Reallocate processors from one host to another What about moving a VM?\nWhen using a dynamic move a Windows Server VM to another node for example with Windows Server Clustering, VMware vMotion or Live Migration, the other node needs to be have sufficient Microsoft Windows Server 2012 licenses. So in most cases an Windows Server 2012 Datacenter edition license is recommend.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/12/31/2012-blog-statistics-overview/",
  "title": "2012 blog statistics overview",
  "description": "",
  "date": "December 31, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "blogs",
  "tags": "blog",
  "content":"As the year 2012 is almost over, I like to thank everyone for supporting my blog! It was a good year. Google Analytics collected in 2012 the following statistics:\n217,650 visitors 159,187 unique visitors 345,650 pageviews The busiest day was on march 1, 2494 visitors The most visitors came from the United States, followed by Germany, United Kingdom and The Netherlands Average page visit duration was 01 minute and 21 seconds The top browsers used are: Firebox (32%) followed by Internet Explorer (30%) and Chrome (28%) The top Operating Systems used are: Windows (85%), Macintosh (14%) and Linux (4%) I wish everyone a happy, healthy and great 2013! See you next year!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/12/24/update-vmware-tools-without-reboot/",
  "title": "Update VMware tools without reboot",
  "description": "",
  "date": "December 24, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vSphere, vSphere51",
  "tags": "vSphere51",
  "content":"Update February 22, 2013: William Lam created a clarification on the Zero-Down Time) VMware Tools Upgrade. Here is a quote from the post:\nIs there downtime when upgrading to future versions of VMware Tools?\nIt depends. If one or more components have been updated since the last VMware Tools upgrade or one of the VMware Tools components requests a system reboot, then a reboot will be required. The following VMware KB http://kb.VMware.com/kb/2015163 has been created to help identify the components that would require a reboot. A reboot would not be require if only the base components of VMware Tools have been upgraded (e.g. no PVSCSI, VMXNET3). You can refer to the above KB for components that require a reboot.\nMore information can be found here .\nUpdate December 24, 2012:\nOne of the cool new features of vSphere 5.1 is that you can update the VMware tools without the requirement to reboot each Virtual Machine (VM). It is called zero-downtime upgrade for VMware Tools.\nWhen upgrading from a early version of vSphere such as 4.x and 5 the VMware tools update still needs a reboot when updating. Once you are on ESXi 5.1 and updating all the VMs to the latest VMware tools, no reboots will be required for subsequent VMware Tools upgrades!\nTo make this work you need at least VMware tools 9.0.0 build-782409.\nIn this example I upgraded first the vCenter server 5.1 to 5.1.0B and installed the latest patches on all the ESXi 5.1 hosts (build 914609) in the cluster. After the upgrade of all VMware ESXi 5.1 hosts, the VMware tools versions of all the VMs reports that the are Out-of-date. This is tested with versions 9.0 Build 782409 of the VMware tools.\nIn the vSphere client, click VM in the virtual machine menu, then click Guest \u0026gt; Install/Upgrade VMware Tools and click OK.\nChoose Automatic Tools Upgrade for an unattended upgrade.\nAfter some time the VMware tools are updated the latest version without a reboot! This example can be a good business case for upgrading to vSphere 5.1!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/12/11/windows-8-and-windows-server-2012-support-on-vmware-esxi-workstation-and-fusion/",
  "title": "Windows 8 and Windows Server 2012 support on VMware ESXi, Workstation and Fusion",
  "description": "",
  "date": "December 11, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi, windows-8, windows-server-2012",
  "tags": "esxi-2, windows-8, windows-server-2012",
  "content":"The following VMware releases are supported with Windows 8 and Windows Server 2012:\nOS Supported versions Windows 8 32/64 Bits Workstation 9 Fusion 5.0 ESXi 5.0 U1 ESXi 5.1 Windows Server 2012 64 Bits Workstation 9 Fusion 5.0 ESXi 5.0 U1 ESXi 5.1 Windows 8 and Windows Server 2012 are supported on ESX 5.0 U1 and 5.1. Here are some things to watch when implementing Windows 8 or Windows Server 2012 on ESXi environment.\nvNIC For Windows 8 and Windows Server 2012 the E1000e adapter is the default vNIC. The E1000e feature emulates a newer model of Intel Gigabit NIC (number 82574) in the virtual hardware. This is known as the \u0026ldquo;e1000e\u0026rdquo; vNIC. e1000e is available only on hardware version 8 (and newer) virtual machines in vSphere 5! VMXNET 3\nThe VMXNET 3 is optimized for performance in a virtual machine. Because operating system vendors do not provide built-in drivers for this card, you must install VMware Tools to have a driver for the VMXNET3 network adapter available. The VMXNET3 is available only on hardware version 7 and newer!\nSCSI Disk controller The default SCSI disk controller is the LSI Logic SAS.\nPVSCSI\nThe Paravirtual SCSI (PVSCSI) adapters are high-performance storage adapters that can result in greater throughput and lower CPU utilization. When browsing through the FLP images there is no Windows Server 2012 driver available for the PVSCSI adapter.\nThe KB says nothing on Windows 8 or Server 2012 support (Link ). In the computability OS guide it stated the the PVSCSI adapter is supported on Windows Server 2012 and Windows 8.\nUsing the 2008 PVSCSI FLP image will install the PVSCSI driver in Windows 8 and Server 2012.\nGuest OS Customization support Guest OS Customization support is only supported on Windows 8 and not on Windows Server 2012!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/12/07/upgrading-the-vsphere-data-protection-vdp-appliance/",
  "title": "Upgrading the vSphere Data Protection (VDP) appliance",
  "description": "",
  "date": "December 7, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "backup, vdp",
  "tags": "backup, vdp",
  "content":"Here are the steps outlined for upgrading the vSphere Data Protection (VDP) appliance.\n1. Check the version of the VDP. SSH to the VDP appliance and use the following command:\nrpm –qa | grep vdr\nThe current version of the VDP appliance is: vdr-1.1.53-53\n2. The vSphere (web) client displays version 5.1.0.0 (5.1.0.0). This version will not change after the upgrade.\n3. Shutdown the VDP appliance.\n4. The virtual disks used by the vSphere Data Protection appliance are set to be “Independent - Persistent.” However, in order to take a snapshot, the disks will have to be temporarily changed to “Dependent.” Starting with Hard disk 2 till disk 7\n.\n5. Take a snapshot. This must be done else you wont be able to upgrade the VDP appliance\n6. Start the VDP appliance. Wait till the VDP appliance is started. It can takes 10 minutes!\n7. Download the VDP upgrade ISO needed and verify the checksum of the ISO!\n8. Mount the upgrade ISO to the VDP appliance using VM Edit Settings.\n9. Connect to the appliance using the following URL:\nhttps://ip address of VDP appliance:8543/vdp-configure/\n10. Login the appliance (username is root)\n11. Go to the upgrade tab. Click check upgrades (be patient it will take some time to see the upgrade package)\n12. Select the package and press the upgrade VDP button\n13. The warning “No valid Integrity Check taken Today of Yesterday” appeared.\nRun a manual Integrity Check by using the vSphere Web Client, select “Run Integrity Check” in the vSphere Data Protection plugin.\n14. Watch in the tasks till the VDP Integrity check completes\n15. Select the package and press the upgrade VDP button\n16. Wait till upgrade completes\n17. Shut down the VDP appliance\n18 . Delete the snapshot\n19. re-enable the independent disks\n20 . Detach the ISO VDP upgrade\n21. Start the VDP appliance\n22. Check the version of the VDP appliance. Make a SSH connection and use the following command:\nrpm –qa | grep vdr\nThe new version of the VDP appliance is: vdr-1.1.56-56. The vSphere (web) client displays still version 5.1.0.0 (5.1.0.0).\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/11/28/upgrading-to-vsphere-5-1-check-your-third-party-software/",
  "title": "Upgrading to vSphere 5.1? Check your third party software",
  "description": "",
  "date": "November 28, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "upgrade, vSphere51",
  "tags": "upgrade, vSphere51",
  "content":"Before upgrading to vSphere 5.1 it is important to check your existing hardware, firmware levels, drivers, vSphere versions, other VMware products that integrates and third party software if it is compatible with vSphere 5.1. Here is a list of third party software and it’s support for vSphere 5.1 .\nSoftware Version vSphere 5.1 Support Comment Veeam Backup \u0026amp; Replication 6.5 yes CommVault 9 SP8 yes 3 extra SP8 post patches needed PHDVB 6.1 yes Trilead Explorer 4.1.010 yes Quest vRanger Backup \u0026amp; Replication 6 no Trend Micro Deep Security 8 SP2 yes *4 NetApp Virtual Storage Console 4.1 yes Including SnapManger for Virtual Infrastructure (SMVI) Symantec NetBackup 7.5.0.4 yes *3 Symantec Backup Exec 2010 2012 no Beta for Backup Exec 2010 R3 SP3 and Backup Exec 2012 SP2*2 HP Insight Control for VMware vCenter server 7.1 yes EMC NetWorker 8.0 SP1 Yes Citrix VDI-in-a-Box 5.2 Yes Citrix XenDesktop 5.6 No *1 IBM Tivoli Storage Manager 6.4 Yes If other third party software vendors have support for vSphere 5.1 please let me know so I could add them to the list.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/11/22/manage-hyper-v-from-vsphere-with-vmware-vcenter-multi-hypervisor-manager/",
  "title": "Manage Hyper-V from vSphere with VMware vCenter Multi-Hypervisor Manager",
  "description": "",
  "date": "November 22, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v, manage, vSphere51",
  "tags": "hyper-v-2, manage, vSphere51",
  "content":"VMware released the first version (1.0) of the vCenter Multi-Hypervisor Manager (MHM). MHM makes it possible to manage multiple heterogeneous hypervisors in VMware vCenter server.\nMHM supports only Microsoft Hyper-V Server 2008 and Microsoft Hyper-V Server 2008 R2 as hypervisor! MHM requires vCenter Server 5.1 and can manage 20 Hyper-V hosts with up to 500 VMs running.\nAs minimum vCenter Server Standard edition is needed. The vCenter Multi-Hypervisor Manager is not available with the vCenter Server Foundation or Essentials edition!\nThe installation of MHM consist of two components:\nvCenter Multi-Hypervisor Manager Server vCenter Multi-Hypervisor Manager Plug-In After the installation of the plug-In it appears in the inventory tab of the vSphere Client. The MHM Plug-in s not compatible with the vSphere Web Client.\nThe following tasks can be performed by MHM:\nThird-party host management including add, remove, connect, disconnect and view the host configuration. Ability to provision virtual machines on third-party hosts. Ability to edit virtual machine settings. Integrated vCenter Server authorization mechanism across ESX and third-party hosts inventories for privileges, roles, and users. Automatic discovery of pre-existing third-party virtual machines Ability to perform power operations with hosts and virtual machines. Ability to connect and disconnect DVD, CD-ROM, and floppy drives and images to install operating systems. Conclusion Before MHM VMware released vCenter XVP Manager and Converter as Fling in 2011. The fling can be found here . MHM is not changed that much from vCenter XVP Manager and Converter. MHM has no support for Microsoft Server 2012 Hyper-V or Hyper-V 3.0 and the tasks that you can perform on Hyper-V are limited.\nSome suggestions for the next release:\nSupport for Hyper-V 3.0 Ability to perform a live migration Console access to the VM Hyper-V to VMware migration (V2V) Update integration components "},{
  "section": "Blog",
  "slug": "/logbook/site/2012/11/21/useful-esxcli-commands-for-configuring-and-troubleshooting-esxi-environments/",
  "title": "Useful ESXCLI commands for configuring and troubleshooting ESXi environments",
  "description": "",
  "date": "November 21, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "",
  "content":"ESXCLI commands are very useful for configuring and troubleshooting ESXi servers. The vSphere vCLI 5.1 includes the following namespaces:\nHere is a small list of some examples of ESXCLI commands:\nesxcli system Show ESXi version and build\nesxcli system version get\nEnter Maintenance Mode\nesxcli system maintenanceMode set –-enable yes\nExit maintenance Mode\nesxcli system maintenanceMode set --enable no\nList only advanced settings that have been changed from the system defaults\nesxcli system settings advanced list –d\nList only kernel settings that have been changed from the system defaults\nesxcli system settings kernel list –d\nList / Change / Test SNMP\nesxcli system snmp get | hash | set | test\nesxcli vm List VMs on the ESXi server with the World ID\nesxcli vm process list\nKill a VM\nesxcli vm process kill –t soft -w WorldID\nesxcli software Install updates and drivers on a ESXi host (make sure the ESXI host is MaintenanceMode)\nesxcli software vib install -d /vmfs/volumes/VMFS01/patches/nameoftheupdate.zip\nesxcli network List physical NICs and connection state\nesxcli network nic list\nList network information for the VM\nesxcli network vm list\nesxcli storage List the devices currently controlled by the VMware NMP Multipath Plugin and show the SATP and PSP information associated with that device\nesxcli storage nmp device list\nList VAAI properties for devices currently registered with the PSA.\nesxcli storage core device vaai status get\nChange the default pathing policy to Round Robin\nesxcli storage nmp satp set --default-psp VMW_PSP_RR --satp youre_satp_policy\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/10/29/migrate-to-a-new-vcenter-server-with-the-vsphere-distributed-switch-vds-enabled-in-vsphere-5-1/",
  "title": "Migrate to a new vCenter server with the vSphere Distributed Switch (VDS) enabled in vSphere 5.1",
  "description": "",
  "date": "October 29, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vds, vSphere, vSphere-distributed-switch, vSphere51",
  "tags": "vds, vSphere, vSphere-distributed-switch, vSphere51",
  "content":"Migrating to a new fresh vCenter server using the vSphere Distributed Switch (VDS) prior vSphere 5.1 is not a easy task. The VDS is part of the vCenter configuration. If you try to import hosts that have a VDS configuration to a new vCenter server the following warning will appear:\nThe distributed Virtual Switch corresponding to the proxy switches d5 6e 22 50 dd f2 94 7b-a6 1f b2 c2 e6 aa 0f bf on the host does not exist in vCenter or does not contain the host.\nvSphere 5.1 supports to backup and restore the VDS configuration. This makes it possible to migrate the VDS configuration on a new vCenter server very easily, without to migrate the VDS first to the vSS on the old vCenter server and on the new vCenter server migrate the vSS to the VDS. Here are the steps:\nUpgrade the old vCenter server to version 5.1 Install a new vCenter 5.1 server and create a datacenter and cluster Export the DVS configuration on the old vCenter server Disable HA on the old cluster(s) Disconnect all the hosts on the old vCenter server Import all the hosts on the new vCenter server. The following warning is displayed and it is safe to ignore the warning: Import the VDS configuration on the new vCenter server Remove the disconnected hosts on the old vCenter server After the VDS import, the warning will disappear and the VDS configuration is migrated to the new vCenter server.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/10/22/what-about-vmware-vcenter-server-appliance-vcsa-version-5-1/",
  "title": "What about the VMware vCenter Server Appliance (VCSA) version 5.1?",
  "description": "",
  "date": "October 22, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vcenter-2, vcsa",
  "tags": "vcenter, vcsa",
  "content":"I get a lot of questions from customers if the could use the VMware vCenter Server Appliance (VCSA) in there production environments as replacement for the standard vCenter Server. With the standard vCenter Server is based on Microsoft Windows. you know for sure that all the other vSphere products are supported and integrate. But what about vCenter Server Appliance (VCSA) 5.1?\nThe vCenter Server Appliance (VCSA) 5.1 is a 64-bit SUSE Linux Enterprise Server 11 OVF appliance. The appliance is installed default with 2 vCPUs, 8 GB memory and consumes between approximate 5 GB and 80 GB of disk space. This is the configuration for a small inventory (up to 100 hosts and 1000 VMs). If the environment is larger you need to scale up the appliance hardware configuration.\nAfter the deployment the initial configuration can be done by using the wizard.\nOn the VCSA appliance the following components are preinstalled:\nvCenter Single Sign On (SSO) Inventory Service vSphere Web Client vSphere Auto Deploy Server Syslog Collector ESXi Dump Collector During the web based configuration the following database options can be selected:\nThe embedded database is a vPostgres database that has support for 5 hosts and 50 Virtual Machines. This is what the installation guide says about the vPostgres: IMPORTANT The embedded database is not configured to manage an inventory that contains more than 5 hosts\nand 50 virtual machines. If you use the embedded database with the vCenter Server Appliance, exceeding\nthese limits can cause numerous problems, including causing vCenter Server to stop responding\nAs external database the VCSA support Oracle only! Using the Oracle database has support for 1000 hosts and 10.000 Virtual Machines. The installation and configuration is very easily. Within a couple minutes the VCSA is up and running.\nPros:\nVery easy and quick to install and configure No Windows license needed Easy to install an update and upgrade Quick recovery of the vCenter appliance Cons:\nThe embedded vPostgres database has support for 5 hosts and 50 VM’s. As external database only Oracle is supported. No Linked mode support (requires ADAM (AD LDS) No SQL Server as backend database support VMware Update Manager can’t be installed in the VCSA, additional Windows based VM or physical server needed. vCenter Heartbeat is not supported VMware View is not supported Not all 3e party plugins will work Conclusion:\nThe embedded database has limited support so it only usable in small SMB and test environments on the moment. For the external database only Oracle is supported. VMware Update Manager is not preinstalled, so you need an extra Windows Server for installing VMware Update Manager. When these and above issues are fixed in further versions, it’s a great and easy way to set up an vCenter Server environment without using Windows!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/09/21/implementing-vsphere-data-protection-vdp-tips/",
  "title": "Implementing vSphere Data Protection (VDP)  tips",
  "description": "",
  "date": "September 21, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vdp, vSphere-data-protection",
  "tags": "vdp, vSphere-data-protection",
  "content":"vSphere Data Protection (VDP) is replacing VMware Data Recovery (vDR). VDP is a more robust product based on the EMC Avamar product.\nHere are some VDP implementing tips:\nEach vCenter server can support up to 10 VDP appiances Each VDP appliance supports up to 100 VMs VDP stores deduplicated data on the 0.5,1 or 2 TB datastores. It is not possible to use CIFS or NFS shares directly from the VDP appliance. VDP comes in 3 different OVA sizes 0,5TB, 1TB and 2TB. Amount of disk space needed: OVA Size (TB) Disk Space Required (GB) 0,5 850 1 1600 (1,57 TB) 2 3100 (3,02 TB) It is not possible to expand the VDP destination datastore VDP is managed by the vSphere Web client At least one vCenter 5.1 server is required VDP is included in vSphere 5.1 Essentials Plus and higher To configure the VDP appliance use the following URL: https://ip appliance:8543/vdp-configure/ The default username is root and the password is changeme For the VDP vCenter registration use formats as in the screenshot: After the VDP is configured the following URL can be used to do some configuration and maintenance: https://\u0026lt;ip address of VDP appliance\u0026gt;:8543/vdp-configure/ VDP supports up to 8 simultaneously backups of 8 VMs "},{
  "section": "Blog",
  "slug": "/logbook/site/2012/09/13/tips-for-upgrading-to-vmware-vcenter-5-1/",
  "title": "Tips for upgrading to VMware vCenter 5.1",
  "description": "",
  "date": "September 13, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vcenter-2, vSphere51",
  "tags": "vcenter, vSphere51",
  "content":"Before starting the upgrading to version 5.1 of the vCenter Server, the following steps can be taken to be able to successfully upgrade. The first step is reading the upgrade guides. After the RTFM stuff check the following:\nMake sure the SQL Server authentication checkbox is set to SQL Server and Windows Authentication mode on the SQL server. More info found here . The SQL server service is listening to port 1433. You can check this by using the following command: netstat –a | find “1433”\nif the SQL Server is not listening on port 1433, use the following steps:\nOpen SQL Server Configuration Manage Expand the SQL Server Network configuration Click on the “Protocols for SQLEXP_VIM”. SQLEXP_VIM is the name of the SQL instance Select TCP/IP – Properties – IP Addresses tab an scroll down to IPALL, enter value 1433 in the TCP Port field Restart the SQL Server service Open the sql script called “rsaIMSLiteMSSQLSetupTablespaces.sql” (found in the vCenter ISO in …..\\Single Sign On\\DBScripts\\SSOServer\\schema\\mssql\\) and customize the location of the *.mdf, *.ndf and *.lfd file to your needs. After customizing the SQL file execute it and make sure the RSA database is created. If installing Single Sign On in a IPv6 environment check this KB article If after upgrading the vCenter services hangs on startup check this KB article The warning “The Fully Qualified Domain Name cannot be resolved. If you continue the installation, some features might not work correctly” appear during the installation. Make sure the reverse DNS record exist in the Reverse lookup Zones. Test this with the nslookup command The vCenter Server services hang on starup after upgrading to vCenter Server 5.1. More info can be found here . "},{
  "section": "Blog",
  "slug": "/logbook/site/2012/09/11/vcenter-5-1-single-sign-on-error-during-installation/",
  "title": "vCenter 5.1 Single Sign On error during installation",
  "description": "",
  "date": "September 11, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vcenter-2, vSphere51",
  "tags": "vcenter, vSphere51",
  "content":"Today vSphere 5.1 is released. I did an upgrade of my existing vSphere 5 vCenter server. During the installation of the vCenter Single Sign On (SSO) software the following warning occurred:\nError 29115: Cannot authenticate to DB.\nAfter this error the installation stops and the rollback begins. To solve this make sure the server authentication checkbox is set to SQL Server and Windows Authentication mode on the SQL server.\nThanks to Gabrie van Zanten and Maish Saidel-Keesing for helping me out!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/09/07/upgrade-windows-server-2012-release-candidate-rc-to-rtm/",
  "title": "Upgrade Windows Server 2012 Release Candidate (RC) to RTM",
  "description": "",
  "date": "September 7, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "upgrade, windows-server-2012",
  "tags": "upgrade, windows-server-2012",
  "content":"Now Windows Server 2012 is release I tried to upgrade my lab environment from Microsoft Windows Server 2012 RC 8400 to Windows 2012 RTM. It is not officially supported to upgrade from Windows Server 2012 RC to Windows Server 2012 RTM by Microsoft.\nI did the following steps to upgrade:\nDownloaded the Windows Server 2012 ISO Mount or extract the ISO Executed setup.exe After several screens it is possible to choose for “Upgrade: Install Windows and keep files, settings and applications” option Now the he following error appeared: The upgrade cannot continue. The upgrade you needs to be running the following Windows Server 2012 build number of higher: 8508.0\nuse the work around by editing the file “cversion.ini” found in the “sources” folder. Change the “MinServer=8508.0” line in “MinServer=8400.0” Start the setup process again. Now repeat the above steps. The installation checks the compatibility. In my case the following errors are displayed: To solve the above errors I did the following things: Uninstall the Intel Wired PROset for Windows software\nBecause the Active Directory (AD) role is installed, I needed to upgrade the AD schema by using the ADPREP /FORESTPREP and ADPREP / DOMAINPREP commands\nReboot the system\nAgain the setup process must be started and the upgrades completes. After the upgrade the Windows Server 2012 version is Build 9200 (RTM). "},{
  "section": "Blog",
  "slug": "/logbook/site/2012/09/05/vmware-fusion-5-and-microsoft-office-2013-screen-refresh-problem/",
  "title": "VMware Fusion 5 and Microsoft Office 2013 screen refresh problem",
  "description": "",
  "date": "September 5, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "fusion, office-2013, VMware",
  "tags": "fusion, office-2013, VMware",
  "content":"When using Microsoft Office 2013 on Windows 7 or Windows 8 in VMware Fusion 5 the screen is not properly refreshed and leaving black regions.\nThis is because VMware Fusion 5 offers DirectX9 for Windows 7 and Windows 8, but Microsoft Office 2013 requires DirectX10. This is a know issue in VMware Fusion 5.\nThere are two work arounds available:\nDisable 3D acceleration in the VM settings Disable hardware acceleration in the Microsoft Office 2013 application Disable 3D acceleration in the VM settings Shut Down the VM Go to Settings and click on Display Turn the Accelerate 3D Graphics setting to OFF Start the VM Disable hardware acceleration in the Microsoft Office 2013 application Open the Office application you want to turn disable the hardware acceleration Click on Settings – Advanced – Disable hardware acceleration "},{
  "section": "Blog",
  "slug": "/logbook/site/2012/08/27/the-end-of-the-vram-entitlement-in-vmware-vsphere-5-and-5-1/",
  "title": "The end of the vRAM entitlement in VMware vSphere 5 and 5.1!",
  "description": "",
  "date": "August 27, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vram, vSphere5",
  "tags": "vram, vSphere",
  "content":"About a year ago VMware introduced the vRAM entitlement (see post VMware vSphere 5 Licensing explained ). Today at VMworld 2012, VMware announced the end of the vRAM entitlement in VMware vSphere 5 and 5.1!\nIn vSphere 5 and 5.1 the licensing will be per physical processor. Each physical processor needs to have at least one vSphere 5 license key assigned. The vSphere licensing removes restrictions on:\nphysical cores RAM number of VMs Removing the vRAM entitlement makes it possible to scale up VMware vSphere hosts without buying extra vSphere licenses! With the end of the vRAM entitlement, VMware can easily competes against Hyper-V 3.0!\nMore on VMware vSphere 5 Licensing, Pricing and Packaging found here .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/08/21/tested-phd-virtual-backup-6-0/",
  "title": "Tested: PHD Virtual Backup 6.0",
  "description": "",
  "date": "August 21, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "backup, reviews, VMware, vpshere",
  "tags": "backup, VMware, vpshere",
  "content":"PHD Virtual Backup is a backup and recovery solution for VMware and Citrix environments. PHD Virtual Backup version 6 is released. We tested this new version with VMware vSpher\nWhat’s new in PHD Virtual Backup version 6: PHD Virtual Backup version 6.0 contains the following major enhancements:\nPHD Instant Recovery: Instant Recovery lets you access your backed up data right away. The VM(s) will be powered on directly from the backup storage. Instant Recovery can be used for verifying backups or when needed mission critical data immediately. Application Aware Backups: PHDVB v6.0 provides the ability to take application aware backups for any application. Application aware backups include the ability to properly quiesce the application prior to backup, as well as perform any post-backup processes, such as automated log management (truncate, shrink, etc.). This is done by leveraging a very small guest application called the PHD Guest Tools. Full and incremental backup mode: Prior to v6.0, PHDVB provides a single backup mode called the virtual full. Virtual Full backups include source-side deduplication across all backups within a backup target. They are very efficient for storage utilization and backup and restore speeds. There are certain configurations that are not optimized to handle the many files that the virtual full leverages. Therefore, PHD is implementing a traditional full / incremental backup mode for those configurations such as using a CIFS share or deduplicating hardware appliance as the backup target or using 3rd party tools to copy full and incremental files off-site or to tape. Email Enhancements: The enhancements include: test Email, get HTML summary reports and fewer alerts Encryption: Those requiring strict requirements for backup data security can now choose to enable one of many types of industry standard encryption levels for PHD Virtual Backups. When enabled, data will be encrypted at the file system level of the VBA to ensure that it is secure in transit to the backup target and at rest when it reaches the backup target. Enhanced File Level Recovery (FLR): In PHDVB v6.0, users will now be able to select an option to use CIFS for FLR, whereby the backup will be mounted to the VBA and presented out as a CIFS share. This allows the admin to share backup data so that other users can recover files or application items. For additional flexibility, you can also choose or ability to present backups out as an iSCSI target from the VBA so that other machines can mount the backup as a local disk. Installation PHD Virtual Backup has the following requirements:\nVMware vSphere 4.x or 5.x needed as hypervisor for the Virtual Backup Appliance (VBA) and the plug-in 1 vCPU, 1024 MB memory and 8 GB free disk space on the datastore for the Virtual Backup Appliance (VBA) The PHD Virtual Backup Console can be installed on Windows XP, Windows Server 2003, Windows 7, Windows Server 2008, Windows\nServer 2008 R2, or Windows Vista, with .NET Framework version 2.0 SP2 or later. The installation of PHD Virtual Backup consist of two steps:\n1. Install the PHD Virtual Backup Console.\nThis is a small executable that installs the PHD Virtual Backup Console and vSphere Client plugin. After the installation, the PHD Virtual Backup plugin is installed on the vSphere client and on the desktop is a PHD Virtual Backup console icon placed.\n2. Deploying the Virtual Backup Appliance (VBA) appliance\nVia the vSphere client the Virtual Backup Appliance (VBA) appliance (OVF) can be deployed. When the Virtual Backup Appliance (VBA) appliance is deployed, it can be powered on.\nConfiguration First we need to give the Virtual Backup Appliance (VBA) an IP Address by opening the PHD Virtual Backup Console, select configuration and select the network tab. After settings the IP configuration we configure the following tabs options in the configuration menu:\nGeneral\ntime zone NTP servers vCenter credentials Backup Storage\nBackup Storage type: None, Attached (Virtual Disk(s), NFS and CIFS. When using Attached (Virtual Disk(s) you can add one or more disks to the VBA and create a backup greater than 2 TB. Backup Storage Thresholds Email\nconfigure email reporting recipient(s) The initial basic configuration is now done.\nBackup First we describe the general backup options available in PHD 6. There are two backup modes available:\nVirtual Full Backups: After the initial backup is created, only changes are recorded. This saves time and network bandwidth. These small files of changes are stored along with links to previous changes all the way back to the initial backup, presenting a\nvirtual \u0026ldquo;full\u0026rdquo; version of the backed up VM available for restore at any point in time. This ensures your backed up virtual machines\nare always available with no additional requirements. Virtual Full Backups are ideal for backing up directly to disk (Attached disk to the PHD VBA). Full/Incremental Backups (new): Consist of a single full backup and many incremental files with the changes since the last full backup. This is called a backup chain. All backups in the chain must be available to successfully restore a VM. Full/Incremental backups are recommended when backing up to network storage, for backups sent to tape often, and for storage not optimized for backup. For example, when using certain CIFS storage types, you may consider using Full/Incremental backup mode. Full/Incremental backup do not support Instant VM Recovery or export via PHD Exporter! PHD Guest Tools (new)\nPHD Guest Tools enable application aware processing for individual virtual machines including quiesce, log truncation, and the\nability to run custom scripts.\nPHD Virtual Backup takes advantage of Microsoft\u0026rsquo;s Volume Shadow Copy Service (VSS) to perform quiesce for any VSS-aware\napplications running on the virtual machine to ensure an application-consistent backup is created. In addition, log truncation\noptions are available for Microsoft Exchange, to avoid running out of storage space on your VM.\nApplication aware processing and custom scripts can be configured in the backup job.\nScripts can be used to perform application aware processing in the guest VM. In fact, I’m told that PHD will be supplying scripts for SQL Server log management in their GA release. Additionally, you can make your own application aware processing scripts for other databases and applications that run on Windows.\nThe installation of the PHD Guest Tools can be done by using the ISO or the executable file.\nApplication aware processing scripts can be place in the “scripts.d” directory on the guest VM were the PHD Guest Tools are installed.\nPHD Virtual Backup Exporter\nThe PHD Virtual Backup Exporter lets you export backup files in any existing backup storage location for long term or offsite\nstorage. When the PHD Exporter is configured, the compressed and deduplicated backup files stored on your PHD VBA\u0026rsquo;s backup storage locations are exported to an external staging location in standard OVF format\nPHD Virtual Backup Exporter is a separate Windows utility that needs to be installed.\nBackup Data Connector\nWith the Backup Data Connector, you can allow access to all of your backup files through the PHD VBA via an SMB/CIFS share. Then you can use third-party tools or your own scripting to copy and move these uncompressed files to tape or to another disk location. This can be configured in the configuration menu under Connectors:\nBelow is the share location of the Backup Data Collector:\nTrueRestore\nTrueRestore is a verifying technology that ensures that the data backed up can be restored. Verify options can be enabled during the backup and restore.\nCreating a Backup Job\nFirst you need to create a backup job. Here are the steps for creating a backup job:\nIn the vSphere client, right click on a VM and select “PHD Virtual Backup” and select Backup. Select the VMs you want to backup. It is possible to exclude disks Select the Backup appliance Select the backup mode Virtual Full or Full/Incremental Schedule: Now, Once, Daily and Weekly. Options: Job Name, Verify Backup (TrueRestore), powered off virtual machines, and use Changed Block Tracking (minimal Hardware Version 7 needed)! VM Processing Options: Quiesce applications, truncate logs and run custom scripts (requires PHD Guest Tools) Summary Complete After the above steps the configuration of backup job is ready.\nRecover To recover or restore a VM or file you need to configure a recover job using the following settings:\nIn the vSphere client, right click on a VM and select “PHD Virtual Backup” and select Recover. Select the appliance to restore from Select the Virtual Machine(s) to restore Define Job Settings. Enter the job name, Select the recovery type, select the storage and network the VM will be restored to and configure the schedule View Summary Recover single files and subfolders (new)\nIt is possible to restore individual files (File Level Recovery) from the VM backups. PHD creates a Windows share (CIFS) or iSCSI target from the backups. You can easily browse and recover the files and subdirectories needed.\nInstant VM Recovery (new)\nInstant Recovery lets you access your backed up data right away. The VM(s) will be powered on directly from the backup storage. Instant Recovery can be used for verifying backups or when needed mission critical data immediately. Configure Instant VM Recovery:\nIn the Configuration menu select the Instant VM Recovery tab Configure were changed data is stored (Instant VM Recovery Write Space) when the instant VM(s) are started Create a Instant recovery job. There are two ways to move the VMs from the Backup location to the production storage using a Storage vMotion (NO downtime) or using PHD Motion (small downtime window). Use PHD Motion if you don’t have the proper license to perform a Storage vMotion.\nReplication With PHD Virtual Backup, you have the ability to further protect your virtual environment by replicating virtual machines from one\nenvironment to another (DR site). PHD Virtual Backup VM Replication takes advantage of existing VM backups created by PHD VBAs.\nVM replication can be used in the following scenarios:\nUsing a single PHD VBA. VMs can be replicated within the same virtual environment from one host to another. This is done by creating backups for your VMs, then creating replication jobs that will create replicas of those VMs on another host in the same virtual environment. Replicating VMs from the primary site to a DR site. In this scenario, the PHD VBA\nat the DR site would be configured to connect to the primary site\u0026rsquo;s backup storage directly, then use that data to create the\nreplica VMs on the hosts at the DR site. Then as backups are created at the primary site each night, replicas can be updated\nwith the changed data from each backup. To configure VM replication with a primary and DR site use the following global steps:\nDeploy a new PHD VBA at your DR site Configure the PHB VBA to use the backup location of the primary site in the replication tab Create VM replication job(s). Select the VMs to replicate, select the server, datastore and network. Run the replication job(s). The Replicas can be managed in the replication menu. You can test and failover the VM(s). Reports (new) The reports function is much improved. The HTML reports present information such as:\nGlobal information: Status, Duration, Data Written, Speed (MB/s), total VMs and total disks Per VM info such as status, Started, Ended, Size, Speed, Data Written and messages Licensing PHD Virtual Backup is licensed per hosts. If you purchase a 2 host license you can backup all the VMs on the 2 hosts. The replication to other hosts requires an extra license per host.\nConclusion PHD Virtual Backup 6 has great new features. It’s easy to install and configure and it integrates in vCenter. Because it is a small appliance, it involves no operating system license cost. You can scale up by adding more appliances when needed. The Instant VM Recovery can be very useful when you need the mission critical data immediately and he File Level Restore (FLR) is so easy to use! When searching for backup and recovery solution, PHD Virtual Backup 6 is certainly worth to try!\nGeneral Availability for PHD Virtual version 6.0 will occur August 27, 2012!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/08/17/new-updates-available-on-vmware-vcenter-vmware-view-microsoft-virtual-machine-converter-and-veeam-backup-replication/",
  "title": "New updates available on VMware vCenter, VMware View, Microsoft Virtual Machine Converter and Veeam Backup &amp; Replication",
  "description": "",
  "date": "August 17, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "updates, view, VMware, vSphere5",
  "tags": "updates, view, VMware, vpshere5",
  "content":"Over the last days the following updates are released:\nVMware vCenter Server 5.0 Update 1b VMware View 5.1.1 Microsoft Virtual Machine Converter Plug-in for VMware vSphere beta Veeam Backup \u0026amp; Replication 6.1 Patch 1 Below are the enhancements listed per product.\nVMware vCenter Server 5.0 Update 1b What\u0026rsquo;s New:\nVMware vCenter Server 5.0 Update 1b is a patch release and offers the following improvements:\nvCenter Server 5.0 Update 1b introduces support for the following vCenter Databases Oracle 11g Enterprise Edition, Standard Edition, Standard ONE Edition Release 2 [11.2.0.3] - 64 bit Oracle 11g Enterprise Edition, Standard Edition, Standard ONE Edition Release 2 [11.2.0.3] - 32 bit vCenter Server Appliance Database Support: The DB2 express embedded database provided with the vCenter Server Appliance has been replaced with VMware vPostgres database. This decreases the appliance footprint and reduces the time to deploy vCenter Server further. Resolved Issues: In addition, this release delivers a number of bug fixes that have been documented in the Resolved Issues section. vCenter Server 5.0 Update 1a has been removed from the VMware download site due to issues encountered when upgrading with an Oracle database for Windows. vCenter Server Update 1a is replaced by vCenter Server 5.0 Update 1b, which is functionally identical to vCenter Server 5.0 Update 1a and includes the fix for the issue encountered when upgrading with an Oracle database for Windows. Please refer to KB 2032277 and the Resolved issues section of the release notes for more information.\nMore information can be found here .\nVMware View 5.1.1 VMware View 5.1.1 is a maintenance release that resolves some known issues in the previous releases. Resolved Issues:\nView Administrator\nWhen the number of View entities managed by one group of View Connection Server instances exceeded 10,000, View Administrator had intermittent problems displaying desktop pools, desktops, and user/group references. The intermittent display problems caused many administrative operations to fail. A View entity can be a desktop pool, desktop, or user/group reference. View Persona Management\nView Persona Management failed to replicate a user profile that contained very large files to the remote profile repository. The incomplete replication could result in data loss or data corruption in the user profile. User Profile Management in View\nThe following resolved issues concern desktop session management by View Agent and View Connection Server. In certain situations, View closed sessions prematurely, affecting user profile synchronization. In View 5.1.1, View Agent and View Connection Server wait for user profile replication to be completed before closing desktop sessions.\nWhen a user logged off soon after adding a large amount of data to the user profile, View shut down the View desktop before the user profile had finished being replicated to the remote profile repository. The incomplete replication could result in data loss or data corruption in the user profile. This issue is resolved when PCoIP or RDP is used. If a user logged off from a View desktop and immediately logged in to a new desktop session within the same pool, user profile data that was created in the new session could not be saved. The user could also lose data that was created in the previous session. This issue applied to desktops running Windows Vista, Windows 7, Windows Server 2008, or later Windows operating system releases. More information can be found here .\nA new document on VMware View 5 and SSL Certificates is published. The document provides an example that shows how to obtain signed SSL certificates from a Certificate Authority and ensure that the certificates are in a format that can be used by View servers. More info: Link Microsoft Virtual Machine Converter Plug-in for VMware vSphere beta The Microsoft Virtual Machine Converter (MVMC) Plug-in for VMware vSphere Client is a Microsoft-supported solution for IT pros or solution providers who want to convert VMware-based virtual machines to Microsoft Hyper-V®-based virtual machines from vSphere Client. This plug-in extends vSphere Client to facilitate conversions from a virtual machine context menu and without changing configurations on the source VMware host. It is built upon Microsoft Virtual Machine Converter release candidate.\nVeeam Backup \u0026amp; Replication 6.1 Patch 1 Veeam Backup \u0026amp; Replication 6.1 Patch 1 brings the following additional changes and enhancement:\n•Increased synthetic full transformation, and reverse incremental backup performance (up to a few times depending on backup storage).\n• Improved Direct SAN Access mode performance by disabling excessive VDDK logging.\n• Processing engine should now be much more tolerant to network packet loss.\n• Added PowerShell cmdlet for VeeamZIP operation.\n• Added new registry value that reverses the sequence of application-aware processing, making jobs try network-less processing mode before network one.\nHKEY_LOCAL_MACHINE\\SOFTWARE\\VeeaM\\Veeam Backup and Replication DWORD: InverseVssProtocolOrder Value = 1 To disable (default behavior), value is 0 (false) • Increased certain network-less application aware processing timeouts to make it work more reliably with applications requiring longer time to perform VSS quiescence.\n• Added internet access from virtual lab environment for VMs using port groups other than first.\n• Reduced the amount of logs application-aware processing produces on guest VMs.\n• Added support for application-aware processing for VM\u0026rsquo;s that use EFI boot.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/08/08/enable-the-intel-82579v-nic-in-windows-server-2012/",
  "title": "Enable the Intel 82579V NIC in Windows Server 2012",
  "description": "",
  "date": "August 8, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "Windows Server 2012",
  "tags": "windows server 2012, Network",
  "content":"After installing Windows Server 2012 on my homebrew server, the onboard Intel 82579V Gigabit NIC on the Asus P9X79 motherboard was not working. On the Asus site I found Windows 8 Intel drivers for the motherboard. After installing the drivers the NIC was still not working. To get the Intel 82579V NIC working in Windows Server 2012 follow these steps:\nTo be able to modify the drivers you need to run the the following commands: bcdedit -set loadoptions DISABLE\\_INTEGRITY\\_CHECKS bcdedit -set TESTSIGNING ON Reboot\nDownload the Intel drivers. In my case I used the Intel drivers Asus has available for the Asus P9X79 motherboard\nSave them to a map and extract them if needed\nOpen the folder PRO1000\nOpen the folder Winx64\nOpen the folder NDIS63\nOpen the e1c63x64.inf file, I used Notepad++ to edit the file\nIn the [ControlFlags] section delete the 3 lines (1)\nSelect and copy the five %E1503 lines (2)\nPaste the 5 lines in the [Intel.NTamd64.6.2] section below the %1502NC lines\nAfter the modifications the e1c63x64.inf file must look like this: Save the file\nInstall the Intel drivers\nAfter the installation the Intel 82579V Gigabit NIC is recognized and enabled Enable the driver integrity checks and disable test signing again by using the following commands: bcdedit -set loadoptions ENABLE\\_INTEGRITY\\_CHECKS\rbcdedit -set TESTSIGNING OFF Reboot Now you can use the Intel 82579V Gigabit NIC in Windows Server 2012.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/08/02/tested-altaro-hyper-v-backup/",
  "title": "Tested: Altaro Hyper-V Backup",
  "description": "",
  "date": "August 2, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "backup, hyper-v, reviews",
  "tags": "backup, hyper-v-2",
  "content":"In my LAB environment I tested Altaro Hyper-V Backup version 3. Altaro Hyper-V Backup is software that makes it possible to backup and restore Windows 2008 (R2) Hyper-V VMs.\nEditions There are three editions available: The free edition, the standard edition and the unlimited edition. For this test I used the unlimited edition because it supports “Cluster Shared Volumes (CSVs)”. More info can be found here.\nInstallation Altaro Hyper-V Backup needs to be installed on the Hyper-V host. In a Hyper-V Cluster environment, the cluster node were Altaro Hyper-V Backup is installed, is called the Master Controller. On all the other nodes agents are installed. The Master Controller node configures and controls all the Altaro Background Agents on the cluster.\nOn the node you that will become the Master Controller launch the downloaded 14 MB installation file. Within a minute the installation is competed.\nConfiguration The configuration is a couple of steps:\n1. Select the Master Controller Node and install the “background backup agents” to the other cluster node(s).\n2. Select the Hyper-V VMs to backup\n3. Select a Backup Drive. The following backup drives are supported:\nUSB External Drives\neSata External Drives\nUSB Flash Drives\nFileserver Network Shares using UNC Paths\nNAS devices (Network Attached Storage) using UNC Paths\nPC Internal Hard Drives (recommended only for evaluation purposes)\nRDX Cartridges\nIt supports multiple backup drive swapping and It is possible to mirror the backup data to another location by creating a mirror schedule..\n4. Setup the notifications.\nNotifications can be set by Event Log and/or Email. 5. Create a backup schedule and place the VMs in the schedule group.\nAfter these 5 steps the backup schedule is ready.\nBackup Altaro used the ReverseDelta technology. ReverseDelta only save the changes between each version of a changed file, rather than backing up the whole file every time it changes. The latest version of a file is always made available in its entirety and not as a delta file. More information about the ReverseDelta can be found here .\nWhen Altaro initiates a backup from the Hyper-V Host it invokes a VSS on the Hyper-V server (software VSS) and then it invokes a VSS within the Virtual Machines - this last step is done automatically by the MS Hyper-V VSS Writer. This means that as long as the VSS within the VM succeeds then any VSS applications (for example Microsoft SQL or Exchange) within the VM will commit their data to disk resulting in a proper application-consistent backup. When Altaro makes a backup from a VM on a Cluster Shared Volume (CSV) the the volume is in redirected mode during the whole backup! This is common CSV behavior when using software VSS.\nTo shorten the time the volume is in redirected mode it is possible to use a hardware VSS provider (SAN must support a hardware VSS provider). To enable hardware VSS you must contact Altaro support. There is no option in the GUI interface available to enable hardware VSS.\nWhen the backup is finished and Email notification is enable, you get an backup report in your inbox. The report is very limited.\nRestore In Altaro you can choose the following restore options:\nRestore a VM to its original location. This will overwrite the current guest VM Restore a VM as clone to a different location. The VM will restored given a new name and to a new location Individual File level restore. Restores individual files from a VHD or AVHD file Fire Drill. The Fire Drill feature allows you to plan and execute test restores at a scheduled time. That way you can easily verify that your VMs are being backed up correctly Boot from Backup Drive. Run a guest VM directly from the backup location without having to do a full restore I tested the Restore a VM as clone without any problems.\nDashboard The dashboard gives an overview on the following items:\nBackup Drive Status as pie chart on free space and backup space Graph statistics display with drop down list for Total Backup Size /day, backup duration / day, total data transferred / day and total number of backups / day Cluster status, Latest Backups, Mirror Backup Drive History, Restore History and Errors Since Last Backup Conclusion Altaro Hyper-V Backup is an easy backup application with the following pros and cons:\nPros\nEasy to install, configure and use Fast Inexpensive (see pricing ) Reverse Delta technology Mirror Backup Drive Cons\nAltaro needs be installed on the Hyper-V host. The Management Console cannot be installed on another server Backups all the VHDs, no exclusions possible Reporting very basic No tape handling No Hardware VSS support in the GUI Only backup to drives, no cloud support Support only the MS Hyper-V hypervisor Further versions will address some of the cons. For more information click on the Altaro banner on the right side of the blog.\nUpdate 07 august 2012:\nToday Altaro released the beta of Hyper-V Backup version 3.5. Version 3.5 has new features and fixes.\nNew features:\nWindows Server 2012 Support, including support for VHDX files. Windows 2012: support for backup and restore of VMs located on network paths. Windows 2012: support for Volume Shadow Copies of SMB3.0 network paths. Windows 2012: support for CSV3.0 and scale-out CSV file shares. New and improved Metro-Style User Interface. Fixes:\nLink to error reporter from Management Console. Extra verification checks in Reverse Delta algorithm. Improved free-space calculation (Backup no longer checks for full size of VM in free space). Many more improvements and bug fixes under the hood. "},{
  "section": "Blog",
  "slug": "/logbook/site/2012/07/31/shadow-a-vmware-view-desktop-session/",
  "title": "Shadow a VMware View desktop session",
  "description": "",
  "date": "July 31, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "view, VMware",
  "tags": "VMware, VMware-view",
  "content":"In VMware View there is no central way shadow a desktop session such as for example in Citrix XenApp. It would be nice if in the future it is possible to shadow a desktop from for example the VMware View Connection server. This is frequently asked question by customers were VMware View is implemented.\nBrian Knudtson explain in his blog post how to access a PCoIP session from the vSphere Console.\nThe following steps must be taken to shadow a PCoIP session from the vSphere Console by using a GPO:\nUse VMware vSphere 5 and VMware View 5 or greater (in vSphere 4 there is a registry hack available) For Windows 7 be sure to use Hardware Version 8. For Windows XP or Vista you can use any hardware version Create a new Group Policy Object (GPO) Add the “pcoip.adm” file to the Computer Configuration. The ADM file can be found on the VMware View Connection server in the “C:\\Program Files\\VMware\\VMware View\\Server\\extras\\GroupPolicyFiles” folder Enable the “Enable access to PCoIP session from a vSphere console” in the Computer Configuration settings. Link the GPO to the OU were the VMware View Windows 7 desktop resides Sync Domain Controllers Restart the VMware View desktop After configuring this, it is possible to shadow a PCoIP session from the vSphere Console. T The user doesn’t need to approve the shadow session so this could be security and privacy issue. Here’s are screenshot, The left side is the VMware View desktop and the right side is the vSphere client console:\nThe keyboard and mouse movements are displayed on the two screens synchronously. I don’t know if it has any performance impact.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/07/30/convert-vmware-to-hyper-v-vms-with-microsoft-virtual-machine-converter/",
  "title": "Convert VMware to Hyper-V VMs with Microsoft Virtual Machine Converter",
  "description": "",
  "date": "July 30, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v, v2v, VMware, vSphere",
  "tags": "hyper-v-2, v2v, VMware, vpshere",
  "content":"Last week Microsoft Virtual Machine Converter RC is released. Microsoft Virtual Machine Converter is a stand-alone tool that makes it possible to convert and deploys VMware based VMs to Hyper-V based VMs. It’s coverts the VMware VM and virtual disks (VMDK) to Hyper-V VMs and Virtual Hard Disks (VHDs). As virtualization consultant I got “sometimes“ involved in migrating VMware to Hyper-V VMs, so I tried Microsoft Virtual Machine Converter.\nWhat’s supported Supported VMware platforms to convert from :\nvCenter Server 5.0 vCenter Server 4.1 VMware ESXi Server 5.0 VMware ESXi/ESX Server 4.1 Supported Windows platforms to convert to:\nWindows Server® 2012 release candidate Microsoft Hyper-V Server 2012 release candidate Microsoft Hyper-V Server 2008 R2 SP1 Windows Server 2008 R2 SP1 Guest operating Systems supported to convert:\nWindows Server 2003 SP2 x86 \u0026amp; x64 Windows Server 2008 \u0026amp; 2008 R2 x86 \u0026amp; x64 Windows Vista \u0026amp; 7 x86 \u0026amp; x64 MVMC will successfully perform virtual machine conversions when the following conditions are met:\nThe virtual machine to be converted is in a running state The virtual machine has VMware tools installed (make sure the VMware tools are up-to-date!) The VMware VM is stopped during the VMDK copy process The virtual machine is joined to an Active Directory® domain. Remote access through Windows Management Instrumentation (WMI) is enabled on the VMware-based virtual machine to be converted and the destination Hyper-V host. See the “Troubleshooting” section in this guide for more details. The account used for connecting to the VMware-based virtual machine that needs to be converted is part of an Active Directory domain and also a local administrator on that machine. You have the correct credentials to connect to the required environments. The Windows user account that you are using has write access to the UNC path specified on the destination Hyper-V host for copying the virtual hard disks. The Hyper-V host has the required disk space available for the converted virtual hard disks. How it works Microsoft Virtual Machine Converter contains the following components:\nMVMC.exe, a command-line utility that converts VMware-based virtual machines to Hyper-V-based virtual machines MVMC.GUI.exe, a wizard-driven GUI that helps convert VMware-based virtual machines to Hyper-V-based virtual machines MVDC.exe, a command-line utility that converts VMware virtual disks (VMDK) to Hyper-V-based virtual hard disks (VHD) The MVMC.GUI.exe provides a wizard-driven GUI. The conversion takes the following steps:\nTakes snapshot VMware VM Uninstall VMware tools Shutdown VM Copy the VMDKs to conversion machine Remove snapshot Depending on “final state” settings the VMware VM will be started or stopped Convert VMDKs to VHDs Import the VM in Hyper-V Installs integration services Depending on “final state” settings the Hyper-V VM will be started or stopped I tested a conversion and deployment of a Windows 2008 R2 VM, hosted on a VMware vSphere 5 update 1 environment using the GUI. I executed the following steps:\nInstall Microsoft Virtual Machine Converter. For best performance, it is recommended that you run the conversion on the destination host (Hyper-V host) Start MVMC.GUI.exe Enter the vCenter or ESXi information Select a running VM. Be aware that the VM will be stopped during the conversion! Specify account details en select the final state of the source and target Select the temporarily location to store the disks. Make sure it has enough free space (double size of the source VMDKs). It will store the VMDKs and convert the VMDKs to VHDs. Enter the Hyper-V server information and select the share to store the VHD. Make sure you have enough free space to store all the VHDs Some warnings will appear. Read them and click Finish The copy and conversion steps are executed The VM is converted successfully In Windows Server 2012 the VM can be started. It has the Integrated Components installed Conclusion Microsoft Virtual Machine Converter is a very basic VMware to Hyper-V conversion program. Here are some Pros and Cons:\nPros\nSupport for Windows Server 2012 Command line scripting possible Cons\nIt does not pre-check for example if there is sufficient disk space available. During the copy and conversion process you get a error when the disk is full. This cost a lot of extra time! The VMware tools must be up to date. With outdated VMware tools it is not possible to convert Hot cloning not possible. Downtime needed! No Linux support Pre-checks are not No disk alignment of Windows 2003 If you like it to do the other way, VMware has a tool called “VMware vCenter Converter Standalone 5.0 ” which convert Hyper-V based VMs to VMware vSphere VMs with more advanced functions to use such as hot cloning and disk aligning.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/07/23/after-upgrading-to-vcenter-server-5-com-vmware-converter-alert/",
  "title": "After upgrading to vCenter Server 5, &amp;ldquo;com.VMware.converter&amp;rdquo; alert",
  "description": "",
  "date": "July 23, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "converter, vcenter-2",
  "tags": "converter, vcenter",
  "content":"After upgrading to vCenter 5, the vCenter Service Status page displays the following error:\ncom.VMware.converter alert unable to retrieve health data from https:///converter/health.xml\nThis error occurs because the integrated vCenter Converter plug-in is no longer available in vSphere 5! To solve this error following the VMware KB article listed below:\nError after upgrading to vCenter Server 5.0: com.VMware.converter alert unable to retrieve health data – KB: 2006132 After following the KB article, the converter plug-in is removed from the vCenter Service Status page.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/07/17/add-hp-drivers-vib-to-vmware-update-manager-vum/",
  "title": "Add HP or Dell drivers to VMware Update Manager (VUM)",
  "description": "",
  "date": "July 17, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hp, VMware-update-manager, vum",
  "tags": "dell, hp, repository, VMware-update-manager, vum",
  "content":"HP has created a vSphere Installation Bundle (VIB) depot for all sort of important HP driver bundles for VMware vSphere 5 and higher. The VIP depot contains:\nHP ESXi 5.0 Management Providers bundle - includes the latest HP Common Information Model (CIM) Providers, HP Integrated Lights-Out (iLO) driver, HP Compaq ROM Utility (CRU) driver, and the new HP Agentless Management Service (AMS). HP ESXi 5.0 Utilities bundle - ESXCLI utilities such as HPBOOTCFG (boot order configuration),HPONCFG (remote iLO configuration) and HPACUCLI (Smart Array reporting and configuration) HP ESXi 5.0 NMI bundle - Non Maskable Interrupt (NMI) driver used to write VMware® errors to the Insight Management Log (IML) HP Agentless Management Service Offline Bundle - a service that provides support for Agentless Management and Active Health. Agentless Management Service provides a wider range of server information (e.g. OS type and version, installed applications, IP addresses) allowing customers to complement hardware management with OS information and alerting. Agentless Management provides Integrated Lights Out (iLO) based robust management without the complexity of OS-based agents. Active Health provides 24x7 mission control for servers, delivering maximum uptime through automated monitoring, diagnostics and alerting. Device Drivers as used in the HP Customized VMware images Latest ProLiant Server and option firmware and driver version recipe The VIB depot can be used by the following tools:\nVMware Update Manager (VUM) ESXCLI ImageBuilder With the HP VIB depot integration for example in VUM there is no need to download and install the bundles manually. In this blog post I explain how to add the HP VIB depot to VMware Update Manager (VUM) by using the following steps:\nAdd the VIB Depot to VUM Open the vCenter Client Select under Solution and Application in the main screen of the vCenter client – Update Manager Select configuration In the Download sources select - Add Download Source In Source URL use: For HP Updates: http://vibsdepot.hpe.com/index.xml For Dell Updates: http://VMwaredepot.dell.com/index.xml Press OK Select – Download Now to update the baseline Create a new Baseline Select the Baselines and Groups tab\nCreate\nBaseline Name – HP Updates\nBaseline Type – Host Extension\nExtensions to Add – Select the extensions you need. In this example I selected the following extensions:\nhpnmi for ESXi 5.0 v1.3\nHP ESXi 5.0 Complete Bundle Update 1.3\nHP ESXi 5.0 Management Bundle 1.2-26\nHP Utility Bundle ESXi 5.0 v 1.2\nFinish Attach the baseline and remediate Attach the baseline to the cluster Select the baseline and scan for patches and extensions The HP bundles that are missing are listed Use Remediate to install the HP bundles When the hosts are rebooted and the remediation is finished, the Host Compliance overview is 100%.\nUsing the HP VIB depot is great way of keep your HP server up-to-date with the latest HP bundles.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/06/28/nest-windows-server-2012-hyper-v-in-vmware-esxi-5/",
  "title": "Nest Windows Server 2012 Hyper-V in VMware ESXi 5",
  "description": "",
  "date": "June 28, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi, hyper-v, windows-server-2012",
  "tags": "esxi-2, hyper-v-2, windows-server-2012",
  "content":"In this blog post I explain how you can install Windows 2012 Server Release Candidate (RC) in VMware ESXi and enable the Hyper-V role. It is possible to build a Hyper-V cluster LAB and live migrate VMs between the virtual Hyper-V nodes on one VMware ESXi 5 host.\nBefore you begin make sure:\nWindows 2012 Server RC ISO is place on a datastore VMware ESXi 5 Update 1 is installed with the latest updates To be able to boot 64bit guest OSes, make sure that on the VMware ESXi host the line below is added to the /etc/VMware/config file on your physical ESXi 5.x host: vhv.allow = TRUE\nCreate a new VM with the following settings (adjust the settings for your own need):\nConfiguration – Custom\nName – HV2012-02\nStorage – Choose VMFS\nVirtual Machine Version - Virtual Machine Version 8\nGuest Operating System – Microsoft Windows Server 2008 R2 (64-bit)\nCPUs – 2 Sockets, 2 Cores\nMemory – 4 GB\nNetwork – 4 NICs VMXNET 3\nSCSI Controller – LSI logic SAS\nCreate a new virtual disk\nDisk Size – 40 GB\nVirtual Device Node – SCSI(0:0)\nFinish\nAfter the VM is created edit the VM configuration and add or change the following settings:\nHardware – CD/DVD drive 1 – Datastore ISO file – browse to the Windows Server 2012 ISO\nOptions – General Options – Guest Operating System – Microsoft Windows Server 8 (64-bit)\nOptions – CPUID Mask – Advanced – Level 1 ecx (add the mask below for Intel Hosts)\n\u0026mdash;- \u0026mdash;- \u0026mdash;- \u0026mdash;- \u0026mdash;- \u0026mdash;- \u0026ndash;H- \u0026mdash;-\nOptions – Boot Options – Specify the boot firmware - EFI Options – General – Configuration Parameters – Add Row – Add the line below (without =) hypervisor.cpuid.v0 = FALSE\nStart the VM and install Windows Server 2012 Install VMware tools\nAdd the Hyper-V role\nIf you need to install more Windows Server 2012 Hyper-V VMs, create a template so that you only need to do the settings once.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/06/04/install-windows-server-2012-in-vmware-workstation/",
  "title": "Install Windows Server 2012 in VMware Workstation",
  "description": "",
  "date": "June 4, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware-workstation, windows-server-2012",
  "tags": "VMware, windows-server-2012, workstation",
  "content":"This procedure describes how to install Windows Server 2012 in VMware Workstation. The following versions are used:\nVMware Workstation Technology Preview 2012 e.x.p Build-646643 Windows Server 2012 Release Candidate Datacenter Build 8400 In VMware Workstation Technology Preview 2012 create a new VM with the following settings:\nNew Virtual Machine Custom (advanced) Workstation Tech Preview Select “I will install the operating system later” Select “Microsoft Windows” and select as version “Windows 8 x64” Set the Name and Location Minimal 1 processor, 1 core 2048 MB memory Select “Use network address translation (NAT)” Select “LSI Logic SAS” Create a new virtual disk SCSI 60 GB disk size Leave default disk file Finish After the VM is created, edit virtual Machine settings and browse for the Windows Server 2012 ISO in the the CD/DVD option Remove the VM from VMware Workstation by clicking on the X icon Edit the VMX file (i use Notepad++) and add the following line to the end to of the VMX file: vmGenCounter.enable = FALSE Add the VM back to VMware Workstation by clicking on the *.VMX file\nDuring the installation choose the Windows Server 2012 Release Candidate (Server wit GUI)\nWhen the installation is ready you have a working Windows Server 2012 server Install VMware tools "},{
  "section": "Blog",
  "slug": "/logbook/site/2012/05/29/vsphere-syslog-collector-troubleshooting/",
  "title": "vSphere Syslog Collector troubleshooting",
  "description": "",
  "date": "May 29, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi, syslog",
  "tags": "esxi-2, syslog",
  "content":"During a VMware health check, I noticed that the syslog files aren’t updated anymore in the repository from he vSphere Syslog Collector server.\nHere are some basic steps I used to troubleshoot this problem.\nVMware ESXi hosts On the VMware ESXi hosts check the following settings:\nSyslog destination. Open the vSphere Client. On the ESXi server, open the configuration tab and select advanced Settings. Check the Syslog.global.logHost value. The format is: protocol://FQDN:port . For example udp://syslog.beerens.local:514 Is the ESXi firewall port open for syslog traffic. Open the vSphere Client, on the ESXi server, open the Configuration tab, select Security Profile, Firewall and select Properties. Check if the syslog service is enabled. vSphere Syslog Collector On the vSphere Syslog Collector server check the following settings:\nIs the syslog port 514 (default) listening: - Reload and update the syslog configuration. On the ESXi host use the following command:\nesxcli system syslog reload In PowerCLI, the following command can be used to reload the syslog settings:\n$esxCli = Get-EsxCli\r$esxCli.system.syslog.reload() Is the Syslog Collector service started. Restart the Syslog Collector service if needed After the reloading the syslog settings and restarting the Syslog Collector service the files begun to update again in the repository.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/05/16/configure-the-link-layer-discovery-protocol-lldp-in-vsphere-5/",
  "title": "Configure the Link Layer Discovery Protocol (LLDP) in vSphere 5",
  "description": "",
  "date": "May 16, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "networking, vSphere5",
  "tags": "networking, vSphere5",
  "content":"Link Layer Discovery Protocol (LLDP)is a vendor-neutral open standard discovery protocol that is supported by multiple vendors such as Cisco, HP and Juniper for example. LLDP displays for example on what network switch and port the NIC in the ESXi hosts is connected. Prior VMware vSphere 5 only Cisco Discovery Protocol (CDP) was supported.\nIn vSphere 5 Link Layer Discovery Protocol (LLDP) is supported. CDP and LLDP can be handy for example when you want to know that the correct network switch port is used when installing or troubleshooting ESXi hosts. LLDP is only available on the vNetwork Distributed Switch (vDS), so you need an Enterprise Plus license to use LLDP!\nEnable the LLDP protocol Right-click the vSphere distributed switch in the inventory pane, and select Edit Settings. On the Properties tab, select Advanced. Select Enabled from the Status drop-down menu. Select Link Layer Discovery Protocol from the Type drop-down menu. Select the LLDP mode from the Operation drop-down menu. There are three operation modes:\nListen ESXi detects and displays information about the associated physical switch port, but information about the vSphere distributed switch is not available to the switch administrator.\nAdvertise\nESXi makes information about the vSphere distributed switch available to the switch administrator, but does not detect and display information about the physical switch.\nBoth\nESXi detects and displays information about the associated physical switch and makes information about the vSphere distributed switch available to the switch administrator.\nChecking LLDP statistics After configuring LLDP, you can check the port statistics by clicking on the ‘blue Information icon’ on the NIC in the ESXi host:\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/05/10/vm-snapshot-needs-consolidation/",
  "title": "VM snapshot needs consolidation",
  "description": "",
  "date": "May 10, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "snapshot-2, vSphere5",
  "tags": "snapshot, vSphere5",
  "content":"When a snapshot didn’t commit properly, it can happen that the snapshot manager in the vCenter server shows no snapshot(s), but that there are still active delta files on the datastore. These ‘hidden’ snapshot can cause the datastore to run out of space.\nTo report these ‘hidden’ snapshots (prior vSphere 5), I created a script that searches all the datastores for ‘*.delta’ files and reported them by mail.\nIn vSphere 5 you have a new feature that reports and make it possible to consolidate these ‘hidden’ snapshot(s). In vSphere 5 you get a warning ‘Virtual machine disks consolidation is needed’ when the virtual machine snapshot consolidation has failed.\nThe snapshot manager shows no snapshots but there are delta files present on the datastore(s).\nIn the vCenter server on the Virtual Machines tab you can enable the field “Needs Consolidation” to filter all the VMs that needs consolidation.\nTo consolidate the snapshot, right-click the virtual machine and choose Snapshot - Consolidate.\nConfirm the consolidate\nCheck the datastore and all the delta files are consolidated\nWith PowerCLI you can use the following one liner to list all the VMs that needs consolidation:\nGet-VM | where {$\\_.ExtensionData.Runtime.consolidationNeeded} | Select Name "},{
  "section": "Blog",
  "slug": "/logbook/site/2012/05/02/configure-sql-server-express-2008-r2-instance-to-host-the-vcloud-director-database/",
  "title": "Configure SQL Server Express 2008 R2 instance to host the vCloud Director database",
  "description": "",
  "date": "May 2, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "sql-2, vcd, vcloud",
  "tags": "sql, vcd, vcloud",
  "content":"This blog will explain how to configure the vCenter Server SQL Express 2008 R2 instance to host the vCloud Director database. This can be handy when you have limited resources in your test environment. SQL Server Express 2008 R2 is not a supported database for vCloud Director. For production environments check always first the VMware interoperability Matrix to know what’s supported .\nSteps: Make sure SQL Server Management Studio is installed on the vCenter server. See “Add SQL Server Management Studio to Microsoft SQL Server Express 2008 R2 ” Open SQL Server Management Studio Change Server Authentication to Mixed Authentication (SQL Server and Windows Authentication mode) Select “New Query” The following script (from vCloud Director installation and configuration guide ) creates a database named “vcloud” on the c-drive and a special SQL user \u0026ldquo;vcloud” . Customize this script for your environment. Paste this script in the “New Query” window” USE \\[master\\]\rGO\rCREATE DATABASE \\[vcloud\\] ON PRIMARY\r(NAME = N\u0026#39;vcloud\u0026#39;, FILENAME = N\u0026#39;C:\\\\vcloud.mdf\u0026#39;, SIZE = 100MB, FILEGROWTH = 10% )\rLOG ON\r(NAME = N\u0026#39;vcdb\\_log\u0026#39;, FILENAME = N\u0026#39;C:\\\\vcloud.ldf\u0026#39;, SIZE = 1MB, FILEGROWTH = 10%)\rCOLLATE Latin1\\_General\\_CS\\_AS\rGO\rUSE \\[vcloud\\]\rGO\rALTER DATABASE \\[vcloud\\] SET SINGLE\\_USER WITH ROLLBACK IMMEDIATE;\rALTER DATABASE \\[vcloud\\] SET ALLOW\\_SNAPSHOT\\_ISOLATION ON;\rALTER DATABASE \\[vcloud\\] SET READ\\_COMMITTED\\_SNAPSHOT ON WITH NO\\_WAIT;\rALTER DATABASE \\[vcloud\\] SET MULTI\\_USER;\rGO\rUSE \\[vcloud\\]\rGO\rCREATE LOGIN \\[vcloud\\] WITH PASSWORD = \u0026#39;vcloudpass\u0026#39;, DEFAULT\\_DATABASE =\\[vcloud\\], DEFAULT\\_LANGUAGE =\\[us\\_english\\],CHECK\\_POLICY=OFF\rGO\rCREATE USER \\[vcloud\\] for LOGIN \\[vcloud\\]\rGO\rUSE \\[vcloud\\]\rGO\rsp\\_addrolemember \\[db\\_owner\\], \\[vcloud\\]\rGO Execute the script (1) and make sure it has executed successfully (2) Open Start – All Programs – Microsoft SQL Server 2008 R2 – Configuration Tools – SQL Server Configuration Manager Expand the “SQL Server Network Configuration” (1) Select TCP/IP (2) and open the properties In the IPALL section, select the TCP port and fill in “1433” Restart the SQL Server (VIM_SQLEXP) service Open the command prompt on the SQL Server and check if port 1433 is listening by using this command: netstat -an | find \u0026#34;1433\u0026#34; Configure vCloud Director and point to the SQL Express instance "},{
  "section": "Blog",
  "slug": "/logbook/site/2012/04/20/vmware-esxi-5-snapshot-changes/",
  "title": "VMware ESXi 5 snapshot changes",
  "description": "",
  "date": "April 20, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi, snapshot-2",
  "tags": "esxi-2, snapshot",
  "content":"In ESX(i) 3.x and 4.x snapshots files are default created in the virtual machine’s working directory (home directory). The working directory is the same directory as the were the virtual machine configuration (*.vmx) file is stored.\nIn this example a VM called “test” that has two disks (VMDK’s) placed on two datastores. The first disk is created on the VMFS01 datastore and the second disk is created on the VMFS02 datastore. When a snapshot is created, the VM “test”, the snapshot redolog (-delta.vmdk) files are place in the working directory (home directory). So the snapshots files are created on datastore VMFS01.\nIn ESXi 5 the snapshot delta disks are stored in the same home folder as the base disk. On every disk a snapshot file is created.\nI have seen VMware ESX(i) 3.x and 4.x environments were only the working directory (home directory) is sized to store snapshot files . The other datastores didn’t have enough room for storing snapshot files. So be sure before upgrading to vSphere 5 that all the datastores have enough free space to store snapshot files!\nThe snapshot location can changed in ESXi 5 but when performing a Storage vMotion, all the snapshot deltas will get migrated to the same folder as the VM\u0026rsquo;s base disk on the destination. Be sure to check this before upgrading to VMware vSphere 5!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/04/16/vexpert-2012/",
  "title": "vExpert 2012",
  "description": "",
  "date": "April 16, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vexpert",
  "tags": "vexpert",
  "content":"Yesterday the 2012 vExpert awards are announced. Great to hear that I have the vExpert title for another year!\nTwo Ictivity colleagues are on the list too. Edwin Friesen made it for the fourth year and Michael Wilmsen for the second year. Congrats guys!\nI want to thank John Troyer, Alex Maier and the VMware team for making this possible.\nThe full list of all the 2012 vExperts can be found here .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/03/26/identify-nics-in-windows-server-8-hyper-v/",
  "title": "Identify NICs in Hyper-V 2012",
  "description": "",
  "date": "March 26, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v",
  "tags": "hyper-v-2, PowerShell",
  "content":"In a Hyper-V cluster are normally a lot of NICs involved. Identifying the right can be challenging. It is important to consequently label your network adapters on all the servers in the Hyper-V cluster.\nIn Windows Server 2012 there are PowerShell Cmdlets that can be used for identifying NICs. Once you identified the NIC, rename it to meaningful name. The PowerShell Cmdlets listed below can be executed on the following versions:\nWindows Server 2012 with the Hyper-V role Hyper-V Server 2012 Here are three ways listed using PowerShell to identify the NIC in a Windows Server 8 Hyper-V environment.\nBefore you begin Execute PowerShell and import the Hyper-V module using the following command:\nImport-Module Hyper-V 1. Identify the NIC by connection State Connect one NIC and use the following command:\nGet-NetAdapter | Select Name, InterfaceDescription, MediaConnectionState | FL Look at which NIC is connected and rename the NIC to a meaningful name (listed below)\nAdd the second NIC and execute the command again and rename the name of the NIC. Do this for all NICs\n2. Identify the NIC using the MAC address When you know the MAC address of the NIC (for example in a HP Flex-10 environment) it can be identified using the following command:\nGet-NetAdapter | Select Name, InterfaceDescription, MacAddress | FL Look at the corresponding MAC address and rename the NIC to a meaningful name (listed below). Do this for all NICs.\n3. Identify the NIC by PCI bus ID The last option is to identify the NIC by PCI bus ID. The following command list all NICs PCI bus adapter information:\nGet-NetAdapterHardwareInfo | select Name, InterfaceDescription, DeviceType, Busnumber, Devicenumber, Functionnumber | FL Look at the corresponding PCI bus and rename the NIC to a meaningful name (listed below). Do this for all NICs.\nRename the NIC Rename the NIC to a meaningful name, for example, rename the name “Wired Ethernet Connection 2” to “MGMT-LOM01-VLAN20” use the following command**:**\nRename-NetAdapter “Wired Ethernet Connection 2” –NewName “MGMT-LOM01-VLAN20” "},{
  "section": "Blog",
  "slug": "/logbook/site/2012/03/22/unable-to-join-domain-when-deploy-a-template-using-guest-customization-specification/",
  "title": "Unable to join domain when deploy a template using guest customization specification",
  "description": "",
  "date": "March 22, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "template, vcenter-2, vSphere",
  "tags": "template, vcenter, vpshere",
  "content":"At a customer I was unable to join a domain when deploying a template from vCenter using a guest customization specification. This only happened with Windows 2008 R2 and Windows 7 templates.\nTo solve this problem, you need the do the following in the guest customization specification:\nEnter the FQDN name in Windows Server Domain field (1) Enter the user@domain_FQDN in the username field (2) I used the NetBIOS domain name in the “Windows Server Domain” field and “domain\\username” in the username field what doesn’t work with Windows 2008 R2 and Windows 7 anymore.\nMore information can be found here state that you need to fill in.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/03/13/enable-windows-server-8-hyper-v-in-vmware-workstation/",
  "title": "Enable Windows Server 8 Hyper-V in VMware Workstation",
  "description": "",
  "date": "March 13, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v, windows-8, workstation",
  "tags": "hyper-v-2, windows-8, workstation",
  "content":"VMware Workstation Technology Preview 2012 is available as download. The Technology Preview makes it possible for example to install and operate Windows 8 and Windows Server 8 in a VM and the possibility to nest VMs.\nI tested the installation of Windows Server 8 in VMware Workstation TP, enabled the Hyper-V role and run a Windows 7 64-bit VM in Hyper-V. Here are some screenshots (Hyper-V manager and the Windows 7 64 bit running in Hyper-V): To make the above configuration work, add to following options to the end of the VMX file before starting the Windows Server 8 installation:\nhypervisor.cpuid.v0 = FALSE\rmce.enable = \u0026#34;TRUE\u0026#34; The VMware Workstation TP VMs are started in debug mode which impacts the performance! "},{
  "section": "Blog",
  "slug": "/logbook/site/2012/03/13/intel-x79-whitebox-for-vsphere-5-and-hyper-v-3/",
  "title": "Intel X79 whitebox for vSphere 5 and Hyper-V 3",
  "description": "",
  "date": "March 13, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hardware, homelab, homebrew, hyper-v, vSphere, whitebox",
  "tags": "hardware, homelab, hyper-v-2, vSphere, whitebox",
  "content":"In an earlier blog post (found here ) I mentioned that it is time for a new homebrew whitebox based on the Intel X79 chipset. With the X79 chipset it is possible to install 64GB of memory (8 x 8 GB). Because the 8 GB DIMMs are expensive on the moment, I decided to use 8 x 4GB DIMMs (total 32GB).\nI decided to create one physical host for testing VMware vSphere 5, vCloud Director, VMware SRM, VMware View 5 etc. The possibility to create a physical ESXi5 server, create virtual ESXi hosts on it and start VM on the virtual hosts is great! This feature is called nesting. How to do this, can be found on William Lam blog found here .\nComponents used for the VMware ESXi 5 / Microsoft Windows Server 2012 whitebox: Intel i7-3820 CPU 3.60 GHz, 4 cores, with Hyper threading 8 cores Zalman CNPS10X performance cooler Asus P9X79 s2011 motherboard. Some specs: Socket 2011 8 DIMM slots, supports 64GB memory Expansions slots: 2 x PCIe 3.0 (dual x16), 1 x PCI (x8 mode), 2 x PCIe 2.0 x1, 1 x PCI 2 SATA 6 Gb/s port, 4 x SATA 3 Gb/s LAN: Intel 82579V Gigabit LAN controller 2 x Corsair Vengeance DDR3- 1600 16GB (4 x 4) kit, total 32GB memory (max 64GB) The case, power supply, graphical card, RAID controller and extra NIC(S) are reused. Here are some photos of the configuration:\nWhen the hardware configuration was done and tried to power on the system, nothing happened (black screen). The appears that BIOS of the motherboard didn’t know the i7-3820 CPU yet. The cool thing is that the motherboard has a function called “USB BIOS Flashback”. It is possible to flash the BIOS without CPU or memory installed. Here are the steps:\nDownload the latest BIOS from the Asus site; Extract the BIOS on a USB stick; Rename the BIOS file, example: rename “P9X79-ASUS-0906.ROM” in “P9X79.ROM” (important); Place the USB stick in the USB port with the WHITE interior on the back; Press the BIOS flashback button for 3 seconds and the light will begin to flash; Don’t turn of the computer during the BIOS flash; When the flashing light stop, the BIOS has been complete; After the BIOS update was finished, the system boots and I was able to install VMware ESXi and Windows Server 2012 and enable the Hyper-V role.\nvSphere 5 / ESXi 5 screenshots: Hyper threading enables 8 cores32GB memoryThe onboard SATA controller is listed as Patsburg 6 Port SATA AHCI controller.\nSoftware-RAID does not work\nThe hardware RAID controller is added as extra PCI cardThe onboard Intel 82579V NIC is not supported in ESXi5. Use the procedure found here to add the NIC. Use at your own risk!\nThe Intel 82574L NIC is added as extra PCIe card.\nThe latest firmware includes support for DirectPath I/O\u0026nbsp;\rMicrosoft Windows Server 2012 It is possible to install Microsoft Windows 2012 and enable the Hyper-V role. Here are some screenshots:\nThe onboard Intel 82579V NIC is not recognized in Windows Server 2012 by default. How-to enable the Intel 82579V NIC is explained in this explained in this blog post.\nThis whitebox is a great extension to my home lab!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/03/07/windows-server-8-powershell-cmdlets-for-hyper-v-help/",
  "title": "Windows Server 2012 PowerShell Cmdlets for Hyper-V help",
  "description": "",
  "date": "March 7, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v, PowerShell, windows-8",
  "tags": "hyper-v-2, PowerShell, windows-8",
  "content":"In Windows 2008 \u0026amp; Windows2008 R2 there were no official PowerShell Cmdlets available for Hyper-V. This is changed in Windows 2012 and Windows 8. Windows Server 2012 and 8 has 162 or more PowerShell Cmdlets available for Hyper-V. Windows 8 uses PowerShell version 3.\nCmdlets are very powerful, that lets you automate all aspects of Hyper-V. Here some guidance how-to find the Cmdlets you need.\nTo view all the Hyper-V PowerShell Cmdlets:\nGet-Command -Module Hyper-V To search for Cmdlets, for example with the name “host” in it:\nGet-Command -Module Hyper-V -Noun \\*host\\* To get the Cmdlet syntax:\nGet-VMHost -? Get the Cmdlet syntax and available parameters, details and examples:\nget-Help Get-VMHost -Full More information over the Hyper-V Cmdlets can be found here . PowerShell 3.0 is available as Community Technology Preview (CTP) found here.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/02/29/install-windows-8-consumer-preview-as-vm-in-vmware-vsphere-5/",
  "title": "Install Windows 8 Consumer Preview as VM in VMware vSphere 5",
  "description": "",
  "date": "February 29, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vpshere-5, windows-8",
  "tags": "vpshere-5, windows-8",
  "content":"Today the Windows 8 Consumer Preview is launched. To install the Windows 8 Consumer Preview as VM in VMware vSphere 5, use the following steps:\nInstall VMware ESXi 5.0 patch release ESXi500-201112001 . If you didn’t install the patch the following screen appears when booting the Windows 8 ISO: Your computer ran into a problem and needs to restart\nWhen the patch is installed, create a new VM and choose the following settings: 1. Choose custom2. Enter VM Name3. Select datastore4. Virtual Machine Version 85. Choose Microsoft Windows 7 64-bit6. Select the amount of processor and cores needed7. Enter memory8. Select E1000 network adapter9. Select default SCSI controller10. Create New disk11. Enter the desired disk size (default)12 Select controller13. Finish\rEdit the VM configuration and change the following settings: Enable 3D graphicsChoose the Windows 8 ISO to boot from\u0026nbsp;Select as guest OS “Microsoft Windows 8 Server (64-bit)”\r4. Boot the VM and install Windows 8\nNow you’re able to install Windows 8 as VM in VMware vSphere 5.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/02/29/kill-a-vm-in-resxtop/",
  "title": "Quick tip: How to kill a VM with esxtop",
  "description": "",
  "date": "February 29, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi, esxtop",
  "tags": "esxi-2, esxtop",
  "content":"There are different ways to kill an unresponsable VM by using the vCLI or the console. In VMware ESXi, it is possible to kill a running VM process by using esxtop or resxtop. For VMware ESXi you need to enter Tech Support Mode (TSM) first to run esxtop.\nThe following procedure can be used to kill a VM (The bold text are the commands to enter):\nesxtop\nPress c for the CPU resource screen Press shift + V to display VMs only Press f to change the display fields Press c to select the LWID (Leader World Id) and press enter Identify the VM by it’s LWID Press k Enter the LWID of the VM to kill and press enter Wait for 30 seconds and validate that the VM is no longer listed "},{
  "section": "Blog",
  "slug": "/logbook/site/2012/02/13/add-the-latest-patches-to-the-vmware-esxi-5-installation-media/",
  "title": "Customize the VMware ESXi 5 installation media by adding the latest patches using Image Builder",
  "description": "",
  "date": "February 13, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "customization, esxi, image-builder, VMware",
  "tags": "customization, esxi-2, image-builder",
  "content":"When you want to customize the VMware ESXi 5 installation media you need to use Image Builder. Image Builder CLI is a set of PowerCLI cmdlets that you can use to manage vSphere image profiles and VIB (VMware Installation Bundle) packages, such as driver VIBs and update VIBs. You can also use Image Builder cmdlets to export an image profile to an ISO or offline depot ZIP file that you can use to install ESXi with a customized set of updates, patches, and drivers\nIn this blog post are the steps outlined on how-to create a customized VMware ESXi5 ISO with the latest patches. Adding the latest patches can be useful because it contains for example the updated HP Emulex net-be2net driver needed for HP Flex-10 ESXi5 installations.\nPrerequirements Download and install PowerCLI 5.x. Open PowerCLI and set the remote signing to RemoteSigned by using the following command: Set-ExecutionPolicy RemoteSigned Create a folder structure like this: \u0026lt;drive letter\u0026gt;:\\ImageBuil\\ESXi\nDownload the VMware ESXi Offline bundle from the VMware download website and save the file in \u0026lt;driveletter\u0026gt;:\\ImageBuil\\ESXi The ESXi offline bundle we use is named ESXi500-201111001.zip\nCreate a customized ESXi5 ISO Add the ESXi offline bundle and latest patches to depots* Add the VMware ESXi offline bundle and the latest patches use the Add-EsxSoftwareDepot command. First add the offline ESXi depot by using the following command:\nAdd-EsxSoftwareDepot F:\\ImageBuil\\ESXi\\ESXi500-201111001.zip\nReturn a list of all the VMware Installation Bundle (VIB) objects, use the Get-EsxSoftwarePackage command. This example list all the software package (VIB) objects sorted on release date:\nGet-EsxSoftwarePackage | select Name,Version,ReleaseDate | sort ReleaseDate\nAdd the URL of the patch depot (we use the VMware Update Manager URL) using the following command:\nAdd-EsxSoftwareDepot -DepotUrl https://hostupdate.VMware.com/software/VUM/PRODUCTION/main/vmw-depot-index.xml\nList the VMware Installation Bundle (VIB) objects again and see the new VIBs added:\nGet-EsxSoftwarePackage | select Name,Version,ReleaseDate | sort ReleaseDate\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2012/02/01/hp-p4000-display-saniq-version-installed-patches-and-up-time/",
  "title": "Display HP P4000 SAN/iQ version, installed patches and up-time",
  "description": "",
  "date": "February 1, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hp, lefthand, p4000",
  "tags": "hp, lefthand, p4000",
  "content":"During a health check I needed to know the SAN/iQ version, installed patches and the up-time of the HP P4000 storage nodes because of a nasty bug in SAN/iQ 9.0 or 9.0.01 that hang or reboot nodes after 208.5 days.\nTo see the SAN/iQ version, installed patches and the up-time (thanks to Calvin Zito @HPStorageGuy for guiding me to the up-time counter in CMC)\nHere are the steps:\nOpen the Centralized Management Console (CMC) Login Expand the cluster Expand the Storage Systems Select Diagnostics for the first node (1) Select “Hardware information” (2) Select “Click to refresh” (3) The Storage System Software displays the SAN/iQ version and Software Patches installed: Scroll down to the Stat section and look at the Machine Uptime. The up-time is in hours, 2138/24= 89 days up-time for one node. Repeat step 5 till 9 for all storage nodes "},{
  "section": "Blog",
  "slug": "/logbook/site/2012/01/06/vmware-vcenter-4-and-ms-sql-express-2008-r2-bug/",
  "title": "VMware vCenter 4 and MS SQL Express 2008 R2 bug",
  "description": "",
  "date": "January 6, 2012",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vcenter-2, vSphere",
  "tags": "vcenter, vSphere",
  "content":"When looking for performance data in vCenter 4.1 from the past week, month or year, I got the message “Performance data is currently not available for this entry”. Only real time data is visible in vSphere client.\nIn the vCenter Service Status the warning “Performance statistics rollup from Past Day to Past Week is not occurring in the database” appeared.\nThe vCenter server is installed on MS Windows 2008 R2 and uses vCenter server version 4.1 Update 2 Build 491557 with Microsoft SQL Server 2008 Express R2 64-bit.\nWhen looking in the VMware Product Interoperability matrixes, it says is a supported configuration.\nSearching on the VMTN I found more people who are experiencing this problem. The following KB article says:\nTo resolve this issue, migrate the SQL database to a full edition (32bit or 64bit) or a 32bit SQL Express edition. For more information on how to move the vCenter Server SQL database, see\u0026hellip;\u0026hellip;\u0026hellip;..\nFor small environments this is not an option! When installing vCenter 4.1 Update 2, the MS SQL Express 2005 database is default installed. MS SQL Express 2005 is 32-bit application and you can have a maximum database size of 4GB. With MS SQL Server 2008 Express R2 64-bit you can have maximum database size of 10GB.\nvCenter 5 installs by default MS SQL Server 2008 Express R2 64-bit and doesn’t have this bug.\nThe MS SQL Express database is only supported for test and small VMware environments (5 hosts and 50 VMs maximum).\nSo watch out when considering MS SQL Server 2008 Express R2 64-bit and vCenter 4!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2011/12/29/what-about-vmware-virtual-machine-hardware-versions/",
  "title": "What about VMware Virtual Machine hardware versions",
  "description": "",
  "date": "December 29, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hardware, tools, VMware, vpshere",
  "tags": "hardware, tools, version, VMware",
  "content":"It depends on the features you need. If you want for example use the “Changed Blocked Tracking (CBT)” feature, you need at least hardware version 7.\nIn ESX 3.x hardware version 4 is introduced, in vSphere 4.x hardware version 7 is introduced and in vSphere 5 hardware version 8 is introduced. Here is an overview of the hardware version and the features they have:\nHardware versionFeaturesProducts8- Up to 32 vCPUs per VM\n- Maximum 1 TB RAM per VM\n- 3-D graphics and high-definition audio\n- Smart-card reader support\n- USB 3.0 devices are supported\n- Improved network driver for the E1000e network adapter, provided by VMware tools\n- Greater resources are available with vCloud Director 1.5Hardware version 8 is the default for new VM in:\n- ESX 5.x\n- Fusion 4.x\n- Workstation 8.x\n- Player 4.x7- Serial Attached SCSI (SAS) virtual device for Microsoft Cluster Service — Provides support for running Windows Server 2008 in a Microsoft Cluster Service configuration.\n- IDE virtual device — Ideal for supporting older operating systems that lack SCSI drivers.\n- VMXNET Generation 3. VMXNET is optimized for performance in a virtual machine\u0026nbsp;\n- Virtual Machine Hot Plug Support— Provides support for adding and removing virtual devices, adding virtual CPUs, and adding memory to a virtual machine without having to power off the virtual machine.\n- Change Block Tracking (CBT) support. Incease VADP backupsHardware version 7 is the default for new VM in:\n- ESX 4.x\n- Fusion 3.x\n- Fusion 2.x\n- Workstation 7.x \u0026 6.5\n- Player 3.x\n- Server 2.x4Hardware version 4 is the default for new VM in:\n- ESX 3.x\n- ACE 2.x\n- Fusion 1.x\n- Player 2.x3\u0026nbsp;Hardware version 3 is the default for new VM in:\n- ESX 2.x\n- GSX Server 3.x\rConsiderations before upgrading the hardware version of the VM:\nImportant to know is that upgrading the hardware version of the VM requires downtime! Virtual machines with hardware version 7 can only run on ESX(i) 4.x and ESXi 5.x. Virtual machines with hardware version 8 can only run on ESXi 5.x When you upgrade from virtual hardware version 4 to version 8, the upgrade is reversible if you take a virtual machine backup or snapshot before performing the upgrade. To automate this process, consider using Update Manager for virtual machine upgrades Update Manager takes automatic snapshots before performing virtual machine upgrades Be sure to upgrade first the VMware tools of the VM. I you upgrade the virtual hardware before you upgrade VMware Tools, the virtual machine might lose its network settings Verify that all VMs and .VMDK files are stored on VMFS3, VMFS5 or NFS volumes Steps in the hardware version upgrade process:\nDo an inventory on the current hardware and VMware tools versions. This can be done for example by using the vCenter client, RVtools utility or PowerCLI\nInstall or upgrade the VMware tools (reboot required)\nPower on the VM\nBefore upgrading create a backup or snapshot of the VM\nBackup the NIC IP settings with the VMUpgradeHelper.exe command.\nPower off the VM\nUpgrade Virtual Hardware\nStart VM (reboot after the new hardware is discovered)\nCheck if all the IP addresses are correct\nDowngrade methods:\nThere is no button in vCenter to revert back to an earlier Hardware version. Here are two methods to go back to an earlier version of the hardware version:\nCreate before upgrading the hardware version a snapshot when the VM is powered down. Using VMware Converter Upgrading issues to know about:\nUpgrading virtual hardware in ESX 4.x may cause Windows 2008 disks to go offline (more information can be found here ) After a hardware version upgrade the configuration can be messed up on for example Microsoft ISA, Microsoft NLB clusters and RSA servers After upgrading a Windows virtual machine from hardware version 4 to hardware version 7, virtual NIC settings (such as static IP configuration) are lost. Make sure you backup the VM IP settings with the VMUpgradeHelper.exe command. "},{
  "section": "Blog",
  "slug": "/logbook/site/2011/12/19/unable-to-create-vmfs-partition/",
  "title": "Unable to create VMFS partition",
  "description": "",
  "date": "December 19, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esx, esxi, vmfs, VMware",
  "tags": "esx, esxi-2, VMware",
  "content":"On my home lab I tried to create a new VMFS volume on a RAID-0 disk set that was coming from another host. When creating the new VMFS volume from the vSphere client, the following error appeared:\nCall “HostDatastoreSystem.QueryVmfsDatastoreCreateOptions” for object “datastoresystem-9” on vCenter Server “VC01″ failed.\nOn the VMware ESXi 5 server I enabled “Local Tech Support Mode”, so I was able to logging in directly on the console and used the fdisk-l command to see the partition information on the disk. I notice that the disk contains four old partitions from another system.\nI deleted the four partitions by using the following commands (displayed in bold):\nfdisk /dev/disk/mpx.vmhba3:C0:T1:LO (see the above picture) p (for printing the partition information and verify that you choose the right disk) d and enter the partition numbers (1, 2, 3, and 4) for deleting the partition - p to verify that all the partitions are deleted w to write the modifications to disk After the deletion of the old partitions I was able to create the VMFS volume on the RAID-0 disk set.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2011/12/13/vmware-esxi-5-whitebox-nic-support/",
  "title": "VMware ESXi 5 whitebox NIC support",
  "description": "",
  "date": "December 13, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi, home-lab, whitebox",
  "tags": "esxi-2, homebrew, whitebox",
  "content":"I tested the NICs below in my VMware ESXi 5.x whitebox server at home. Here the status:\nNICRecognized by VMware ESXi 5Listed in ESXi 5 asIntel PRO/1000GT Desktop Adapter PCIYesIntel 82541PI Gigabit Ethernet ControllerRealtek RTL 8111EYesRealtek 8168 Gigabit EthernetIntel Gigabit CT Desktop Adapter PCI-eYesIntel Corporation 82574LIntel 82579 Gigabit LAN controllerNo You need the make a customized ESXi 5 ISO or VIB file.This is a not supported configuration!Intel Corporation 82579V\u0026nbsp;orIntel Corporation 82579LM\rTo add for example the Intel 82579 chipset, create a customized ESXi 5 ISO. This is very simple because some people have already done the hard work.\nHere are the steps:\nDownload ESXi-Customizer (create by Andreas Peetz) Download the driver (created by Chilly) Start the ESXi-Customizer and follow the 3 steps: And you\u0026rsquo;re ready to create the customized VMware ESXi 5 ISO. The ISO supports the Intel 82579V and 82579LM NIC(s) found on many whitebox motherboards today. Possible future updated version(s) of the driver can be found in the following post .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2011/12/08/add-sql-server-management-studio-to-microsoft-sql-server-express-2008-r2/",
  "title": "Add SQL Server Management Studio to Microsoft SQL Server Express 2008 R2",
  "description": "",
  "date": "December 8, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "sql-2, vcenter-2",
  "tags": "sql, vcenter",
  "content":"When installing VMware vCenter 5 with the default database engine (Microsoft SQL Server Express 2008 R2) the SQL Management Studio is not installed by default. It can be confusing to add SQL Management studio at a later time. Here are the steps explained:\nDownload Microsoft SQL Express 2008 R2 or browse the vCenter installation ZIP or ISO. The installation package can be found in the “\\redist\\SQLEXPR” folder.\nSelect “New Installation or add features to an existing installation”.\nSelect “New installation or add shared features”. Only select “Management Tools – Basic”. When the installation is completed you see the “SQL Server Management Studio” listed under the start menu.\nImportant to know is that you need exactly to follow these steps. If you choose the wrong option and use the back button the “Management Tools – Basic” isn’t listed anymore.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2011/12/05/tool-esx-system-analyzer/",
  "title": "Migrate to VMware ESXi? Use the &amp;ldquo;ESX System Analyzer&amp;rdquo; tool",
  "description": "",
  "date": "December 5, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esx, esxi, tools",
  "tags": "esx, esxi-2, tools",
  "content":"VMware Flings did it again. They released another cool tool called “ESX System Analyzer”. This tool helps when you want to migrate from VMware ESX to VMware ESXi. It scans the VMware environment and collects the following information:\nHardware compatibility with ESXi. It checks if the hardware is compatible with ESXi 4 and ESXi 5. VMs registered on the ESX host, as well as VMs located on the host’s local disk Modifications to the Service Console\n- RPMs which have been added or removed\n- Files which have been added\n- Users and cronjobs which have been added This tool also provides summary information for the whole existing environment\nVersion of VMware Tools and Virtual Hardware for all VMs Version of Filesystem for all datastores By having this information, administrators can determine what tasks need to be done prior to the migration. Examples include:\nRelocate VMs from local datastores to shared datastores Make note of what agent software has been added to the host and obtain the equivalent agentless version Replace cronjobs with equivalent remote scripts written with PowerCLI or vCLI The installation and configuration of the “ESX System Analyzer” appliance is very easy. Here are some screenshots of the appliance:\nScreenshots of the Output in XLS (Excel):\nOverview output:\nESX server output:\nThis is a very handy tool when you want to migrate from VMware ESX to ESXi. More information can be found on the VMware Flings website found here .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2011/11/18/time-for-new-whitebox-for-your-vmware-vsphere-or-ms-hyper-v-home-lab-environment/",
  "title": "Time for new whitebox for your VMware vSphere or MS Hyper-V home lab environment?",
  "description": "",
  "date": "November 18, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "homelab, vSphere, whitebox",
  "tags": "vSphere, whitebox, homelab",
  "content":"When using a whitebox lab environment at home and like to test for example vSphere 5, vCloud Director, VMware View and MS Hyper-V (nested in VMware vSphere you need a lot of processor power and memory. In almost all whitebox lab environment the processor power is not the problem but the amount of memory is.\nTill now the Sandy Bridge desktop boards support up to 32GB memory with only four DIMM slots on the motherboard. For 32GB you need 4 * 8GB DIMMs, 8GB DIMMs are very expensive on the moment when writing this post.\nIntel Introduced the Sandy Bridge-E processors and motherboards with the X79 based chipset that support this processors. This gives new possibilities for building a new whitebox home lab.\nProcessor Intel introduced the Sandy Bridge-E or the 2nd generation Core i7 Extreme Processors. On the moment there are two Sandy Bridge-E processors available:\nIntel Core-I7-3960X 3,3GHz,15M L3-cache, list price around €950,00\nIntel Core-I7-3930K 3,2GHz,12M L3-cache, list price around € 550,00\nAs you can see the processors are pretty expensive. The Sandy Bridge-E has the following features:\nSocket LGA2011; 6 cores (12 cores with Hyper-Threading); Quad channel DDR3-1600 memory controller; Supports Hyper-Threading, Intel VT-x, VT-d; PCI-Express 3.0 support; 40 PCI-Express lanes; Max TDP 130 W; Multiplier unlocked. The 2nd generation Core i7 Extreme Processors can be compared here .\nBegin 2012 Intel will release the Core I7 3820 Sandy Bridge-E processor. This processor will support 4 cores (8 with Hyper-Threading) and have 10MB L3-cache. The price is not announced yet but will be much lower as the Intel 3930K and 3960X processors. When you buy a Sandy Bridge-E processor there is no CPU cooler in the box.\nMotherboard The Intel X79 chipset support the Socket LGA2011. To choose a motherboard you can for example check the following things:\nHow much DIMM slots it has (some X79 motherboard have 4 DIMM slots) How much expansion slots it has Price How many USB ports and what speed they have Type and number of SATA controllers Type of number of NIC(s) Important for a whitebox lab configuration is that the SATA controller (if you want to use local storage) and NIC(s) are supported by VMware ESXi. When choosing a motherboard with enough expansion slots you can always add extra RAID and NIC cards that are supported.\nThe most X79 based motherboards have 8 DIMM slots and supports up to 64GB memory. 8GB memory modules are expensive. So you can make a configuration with 8 x 4GB = 32 GB DDR-3 memory which is much cheaper. When 8GB memory modules become cheaper you can upgrade to 64GB memory.\nAsus has a nice overview of all the X79 bases series motherboards they have, found here.\nShopping list I made a shopping without the case, storage and the power supply. The prices are taken from the Tweakers pricewatch (Dutch) an can change every day.\nShopping list: | | |\nComponent List Price (euro) Intel Core-I7-3930K 520,00 Asus P9X79 230,00 4 x 4 x 2GB DDR3-1600 memory (total 32GB) 160,00 Simple processor cooler\t30,00 Simple graphic card PCI-E\t25,00 Total 965,00 Conclusion With the Sandy Bridge-E processor and X79 based motherboard you can build a monster whitebox lab environment with the best performance on the moment.\nThe advantage of using one huge whitebox you can use nesting to run your VMware vSphere and MS Hyper-V environment(s) on one box. An other advantage of using a whitebox is that you can make a low noise system. It’s a lot of money for a whitebox home lab environment but if you you wait for the Intel Core I7 3820 Sandy Bridge-E processor (announced in January 2012) can save you around €270,00 (this is an assumption because the list prices are not available yet).\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2011/11/11/enable-or-disable-remote-tech-support-mode-ssh/",
  "title": "Enable and disable Remote Tech Support mode (SSH)",
  "description": "",
  "date": "November 11, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "powercli, vpshere",
  "tags": "powercli, vSphere",
  "content":"When you start the Remote Tech Support (TSM) service on a VMware ESXi host a warning and the following message will appear:\nRemote Tech Support Mode (SSH) for the host … has been enabled\nWhen the warning appears some Admins get a little nervous. Since VMware ESXi 4.1 Update 2 and VMware ESXi 5 the warning can be suppressed.\nWhen starting the Remote Tech Support (TSM) service it is possible to SSH to the ESXi host.\nThe following script can start or stop the Remote Tech Support mode and suppress the warnings on the VMware ESXi hosts.\n\u0026lt;# .SYNOPSIS Enable or Disable TSM .VERSION 1.0 .DESCRIPTION TSM-SSH Remote Tech Support (SSH) .NOTES Author(s): Ivo Beerens .EXAMPLE PS\u0026gt; ./tsm.ps1 #\u0026gt; Add-PSSnapin VMware.VimAutomation.core -ErrorAction SilentlyContinue # VMware VirtualCenter server name $VCserver = read-host \u0026#34;Enter your vCenter server\u0026#34; $Username= read-host \u0026#34;Enter the username\u0026#34; $Password = read-host \u0026#34;Enter password\u0026#34; # Connect to the vCenter server Connect-VIServer $VCserver -User $Username -Password $Password -port 443 # Menu Write-Host \u0026#34;Choose Start or to stop the Remote Tech Support (SSH)service\u0026#34; Write-Host \u0026#34; 1. Start Remote Tech Support (SSH)\u0026#34; Write-Host \u0026#34; 2. Stop Remote Tech Support (SSH)\u0026#34; $response = Read-Host \u0026#34;Select 1 or 2\u0026#34; if ($response -eq 1){ #Start get-vmhost | Set-VMHostAdvancedConfiguration -Name \u0026#34;UserVars.SuppressShellWarning\u0026#34; -Value 1 get-vmhost | Get-VMHostService | Where {$\\_.key -eq \u0026#34;TSM-SSH\u0026#34;} | Start-VMHostService } if ($response -eq 2){ #Stop get-vmhost | Get-VMHostService | Where {$\\_.key -eq \u0026#34;TSM-SSH\u0026#34;} | Stop-VMHostService -Confirm:$false get-vmhost | Set-VMHostAdvancedConfiguration -Name \u0026#34;UserVars.SuppressShellWarning\u0026#34; -Value 0 } "},{
  "section": "Blog",
  "slug": "/logbook/site/2011/09/20/create-vmware-esxi-5-pxe-unattended-scripted-installation-using-windows/",
  "title": "Create a VMware ESXi 5 PXE unattended scripted installation using Windows",
  "description": "",
  "date": "September 20, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi, kickstart, pxe, scripted",
  "tags": "esxi-2, kickstart, pxe, scripted",
  "content":"The most information available on how-to perform a unattended scripted installation of VMware ESXi 5 is based on Linux. Here is a procedure how-to create a scripted installation of VMware ESXi 5 using Microsoft Windows.\nHere is an overview of the boot process:\nWhat do we need The following software must be downloaded:\nSyslinux 3.86 (This is the Syslinux version VMware supports) FileZilla Server 0_9_39 TFTPD 4.00 Notepad ++ VMware ESXi 5 ISO Step 1 Windows XP This procedure is tested with Microsoft Windows XP SP2. The following requirements must be met:\nIn Windows XP use a fixed IP. In this example we use 192.168.1.1/24 IP address Make sure there is enough free disk space available (approximately 500 MB needed) Disable the Windows firewall Step 2 Create directory structure Create the following directory structure in the root of the C: partition:\nC:\\PXEboot\rC:\\PXEboot\\\\pxelinux.cfg\rC:\\PXEboot\\\\kickstart Step 3 Copy the content of the ESXi 5 ISO Mount the VMware ESXi 5 ISO and copy the content to following folder: c:\\PXEboot_ directory\nStep 4 Copy the Syslinux files The Syslinux files allow the target ESXi server to boot the ESXi installer.\nExtract Syslinux 3.86 and: Copy the pxelinux.0 and menu.c32 files to the C:\\PXEboot directory. Overwrite the menu.c32 file Step 5 Install \u0026amp; Configure tftpd32 The Tftpd32 utility gets the function DHCP and TFTP server.\nRun Tftpd32.exe and make the following configuration settings: Choose: TFTP Server \u0026amp; DHCP Server Point the base directory to c:\\PXEboot Create a DHCP range Edit the ini file c:\\program files\\tftpd32\\tftpd32.ini. Add the DHCP options 066 with DHCP server IP address and 067 pxelinux.0 Restart and run the tftpd32.exe utility Step 6 Install \u0026amp; configure FileZilla server Install the FileZilla Server with the default settings Create a user username: VMware password: VMware Add a shared folder c:\\PXEboot\\Kickstart folder with the default rights Step 7 Create default file Create a file named default (Use notepad ++ for the file creation) and save the file in the C:\\PXEboot\\pxelinux.cfg directory. Here is an example default script:\nDEFAULT menu.c32\rMENU TITLE ESXi 5 Boot menu\rNOHALT 1\rPROMPT 0\rTIMEOUT 80\rLABEL install KERNEL mboot.c32 APPEND -c boot.cfg MENU LABEL ^ESXi-5 Interactively install\rLabel ESXi 5 install scripted KERNEL mboot.c32 APPEND -c boot.cfg ks=ftp://VMware:VMware@192.168.1.1/ks.cfg +++ MENU LABEL ^ESXi5-01 Scripted install IPAPPEND 1\rLABEL hddboot LOCALBOOT 0x80 MENU LABEL ^Boot from local disk If you want to install more VMware ESXi 5 servers you can add extra entries in the default file and point them to separate Kickstart file.\nStep 8 Create ks.cfg file Create a Kickstart file named ks.cfg (Use notepad ++ for the file creation ) and place the file in the c:\\PXEboot\\Kickstart directory. Here is a sample ks.cfg script:\n#Sample kickstart scripted installation\rvmaccepteula\rrootpw VMw@re\rinstall --firstdisk --overwritevmfs\rnetwork --bootproto=static --ip=192.168.250.21 --gateway=192.168.250.1 --nameserver=192.168.250.6 --netmask=255.255.255.0 --hostname=esxi5-01.beerens.local --device=vmnic0 --addvmportgroup=0\rreboot\r%firstboot --interpreter=busybox\r# Rename local datastore name\rvim-cmd hostsvc/datastore/rename datastore1 \u0026#34;$(hostname -s)-local-storage-1\u0026#34;\r# DNS names\resxcli system hostname set --fqdn=esxi5-01.beerens.local\resxcli network ip dns search add --domain=beerens.local\r# DNS server addresses\resxcli network ip dns server add --server=192.168.250.6\resxcli network ip dns server add --server=192.168.250.1\r# SSH and ESXi shell\rvim-cmd hostsvc/enable\\_ssh\rvim-cmd hostsvc/start\\_ssh\rvim-cmd hostsvc/enable\\_esx\\_shell\rvim-cmd hostsvc/start\\_esx\\_shell Step 9 Test the installation Boot the server and select ESXi5-01 Scripted Install option to test the scripted installation.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2011/09/17/create-a-bootable-vmware-esxi-5-usb-stick-in-windows-and-perform-a-scripted-installation/",
  "title": "Create a bootable VMware ESXi 5 USB stick in Windows and perform a scripted installation",
  "description": "",
  "date": "September 17, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi, kickstart, usb",
  "tags": "esxi-2, ks, usb",
  "content":"Here is a simple procedure to make a bootable VMware ESXi 5 or ESXi 6 USB stick in Windows and perform a scripted unattended VMware ESXi installation. The 5 steps are:\nStep 1 Be sure removing all partitions and format a FAT32 partition on the USB stick by using the following command:\nOpen the command prompt and enter the following commands:\ndiskpart (make sure you run diskpart as administrator) list disk (list the disk in your system including the USB) select disk USB number clean create partition primary active format fs=fat32 quick\rassign\rexit Step 2 Download the Windows LinuxLive USB creator utility here .\nStep 3 Start the Lili USB creator utility.\nFollow the steps 1,2,4 and click 5 to create the USB stick. Wait till the USB creation process is finished. So now you have a bootable ESXi stick. You can stop here if you you want to install ESXi with manual installation steps.\nStep 4 Edit the BOOT.CFG file in the root of the USB stick and add ks=usb between /b.b00 and \u0026mdash; /useropts.gz modules\nThe BOOT.CFG should look like this:\nbootstate=0 title=Loading ESXi installer kernel=/tboot.b00 kernelopt=runweasel modules=/b.b00 ks=usb --- /useropts.gz --- /k.b00 --- /a.b00 --- /ata-pata.v00 --- /ata-pata.v01 --- /ata-pata.v02 --- /ata-pata.v03 --- /ata-pata.v04 --- /ata-pata.v05 --- /ata-pata.v06 --- /ata-pata.v07 --- /block-cc.v00 --- /ehci-ehc.v00 --- /s.v00 --- /weaselin.i00 --- /ima-qla4.v00 --- /ipmi-ipm.v00 --- /ipmi-ipm.v01 --- /ipmi-ipm.v02 --- /misc-cni.v00 --- /misc-dri.v00 --- /net-be2n.v00 --- /net-bnx2.v00 --- /net-bnx2.v01 --- /net-cnic.v00 --- /net-e100.v00 --- /net-e100.v01 --- /net-enic.v00 --- /net-forc.v00 --- /net-igb.v00 --- /net-ixgb.v00 --- /net-nx-n.v00 --- /net-r816.v00 --- /net-r816.v01 --- /net-s2io.v00 --- /net-sky2.v00 --- /net-tg3.v00 --- /ohci-usb.v00 --- /sata-ahc.v00 --- /sata-ata.v00 --- /sata-sat.v00 --- /sata-sat.v01 --- /sata-sat.v02 --- /sata-sat.v03 --- /scsi-aac.v00 --- /scsi-adp.v00 --- /scsi-aic.v00 --- /scsi-bnx.v00 --- /scsi-fni.v00 --- /scsi-hps.v00 --- /scsi-ips.v00 --- /scsi-lpf.v00 --- /scsi-meg.v00 --- /scsi-meg.v01 --- /scsi-meg.v02 --- /scsi-mpt.v00 --- /scsi-mpt.v01 --- /scsi-mpt.v02 --- /scsi-qla.v00 --- /scsi-qla.v01 --- /uhci-usb.v00 --- /tools.t00 --- /imgdb.tgz --- /imgpayld.tgz build= updated=0 Step 5 Create a Kickstart configuration file for the scripted installation in the root of the USB stick. Here is an example:\n#Sample kickstart scripted installation\rvmaccepteula\rrootpw VMw@re\rinstall --firstdisk --overwritevmfs\rnetwork --bootproto=static --ip=192.168.250.21 --gateway=192.168.250.1 --nameserver=192.168.250.6 --netmask=255.255.255.0 --hostname=esxi5-01.beerens.local --device=vmnic0 --addvmportgroup=0\rreboot\r%firstboot --interpreter=busybox\r# Rename local datastore name\rvim-cmd hostsvc/datastore/rename datastore1 \u0026#34;$(hostname -s)-local-storage-1\u0026#34;\r# DNS names\resxcli system hostname set --fqdn=esxi5-01.beerens.local\resxcli network ip dns search add --domain=beerens.local\r# DNS server addresses\resxcli network ip dns server add --server=192.168.250.6\resxcli network ip dns server add --server=192.168.250.1\r# SSH and ESXi shell\rvim-cmd hostsvc/enable\\_ssh\rvim-cmd hostsvc/start\\_ssh\rvim-cmd hostsvc/enable\\_esx\\_shell\rvim-cmd hostsvc/start\\_esx\\_shell For editing and creating the boot.cfg and ks.cfg file in Windows I use Notepad++ so NO hidden carriage returns are in the files. And the USB stick creation in ready.\nAn easy way to test the ESXi 5 USB stick and the scripted installation is using VMware Workstation. See my post “Boot from USB in VMware Workstation” found here .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2011/09/06/things-to-know-before-implementing-vmware-data-recovery-vdr-2-0/",
  "title": "Things to know before implementing VMware Data Recovery (vDR) 2.0",
  "description": "",
  "date": "September 6, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vdr, VMware-data-recovery",
  "tags": "vdr, VMware-data-recovery",
  "content":"VMware Data Recovery (vDR) is an appliance to backup, storage, and recovery of virtual machines and files within the virtual environment. The new version 2.0 has the following enhancements:\nVMware Data Recovery 2.0 is now a fully 64-bit virtual appliance. Email reports. VMware Data Recovery 2.0 makes it possible to generate and email reports, in a fully automated fashion, to an administrator following the completion of a backup. Better deduplication Performance Job Suspension. VMware Data Recovery enables users to suspend individual jobs from continuing to run by right-clicking on the backup job and selecting “Suspend Future Tasks.” Advanced Options such as Change the number of days between automated integrity checks, Specify the day of the week on which the automated integrity check is run and Exclude or include backup of swap partitions or page data. Windows pagefile and Linux swap partitions are automatically excluded from backup by default. If the maintenance window closes before an integrity check or reclaim operation is completed, the datastore is not locked as it was in prior releases. This enables backups to continue working even if maintenance is not completed. If, however, damaged restore points are detected, the deduplication datastore will be locked until the damaged restore points are deleted. Issues resolved found in vDR 1.2.1: CIFS target handling and resilience • Incremental RDM backup • Backups failing with “not enough disk space” errors • Backups failing with “disk full” error despite free space being available Before implementing vDR 2.0 consider the following things: VMware Data Recovery is available in the following vSphere 5 editions: Essentials plus, Standard, Enterprise and Enterprise Plus. It is possible to full disaster recovery even when there isn’t any vCenter server available for example because it was installed as VM. Follow these steps: Connect directly to a ESXi server with the vSphere client Install the VMware Data Recovery appliance Install the VMware Data Recovery client Connect to the VMDK, NFS or CIFS share used as deduplication store(s) Message appears to import the “old” configuration: Select “yes” to import the “old” configuration Now the configuration is back, you are ready to restore all the VMs Each backup appliance can protect a total of 100 Virtual Machines. If you want more VMs to backup add an extra backup appliance. Each instance of vCenter Server can support up to ten Data Recovery backup appliances. support deduplication stores that are up to one terabyte in size and each backup appliance is limited to using two deduplication stores per appliance ( 1 TB on VMDKs and RDMs and 500 GB on CIFS network shares). vDR requires an absolute minimum of 10 GB of free space per store for indexing and restore point processing. Due to this seize the stores not smaller as 50 GB. For initial setup seize the deduplication store space equal to the amount of used disk space on all the VMs being protected. Use VMDK’s as deduplication store use thick provisioning eager zeroed for the best performance. Place the deduplication store(s) on storage device on another location. Using CIFS shares as deduplication store avoid stores on servers with multiple roles or/and services and in a VM. CIFS shares with passwords limited to 64 characters or less. CIFS share passwords must conform to the Latin 1(ISO 8859-1) standard. Double-byte characters are not supported. NFS is only supported as a deduplication store format if the share is presented by an ESX/ESXi Server and the VMDK is assigned to the Data Recovery appliance. All the vDR appliances are managed separately. Hardware version 7 of higher is needed for using Changed Block Tracing (CBT). Upgrade the hardware version 4 VMs. Windows pagefiles (pagefile.sys) file and the Linux swap partition is not backed up. VMware Data Recovery uses Microsoft Windows Volume Shadow Copy Service (VSS) quiescing ( point-in-time copies). Here’s an overview of the Guest Operating Systems and the quiescing method: Application consistent quiescing of Windows 2008 virtual machines is only available when those virtual machines are created in vSphere 4.1 and later. Virtual machines created in vSphere 4.0 can be updated to enable application consistent quiescing, as described in Enable Windows 2008 Virtual Machine Application Consistent Quiescing. Because Data Recovery uses VSS, Data Recovery can create snapshots while ensuring application consistency. This means that applications write to disk any important data that is currently in memory, making sure that a later restore of that virtual machine can restore the application back into a consistent state. - A maximum of 8 virtual machines can be backed up simultaneously. Default only 14 SCSI disks can be hot-added. For example when backup 8 VMs with three disks, the hot-add can only hot-add 14 disks, the other disks are backed up over the network. Add an extra dummy disk (1MB) for every SCSI adapter in the vDR appliance configuration so that the hot-add has enough room. vDR does not support:\nBacking up virtual machines that are protected by VMware Fault Tolerance Backing up virtual machines with 3rd party multi-pathing enabled where shared SCSI buses are in use Raw device mapped (RDM) disks in physical compatibility mode in virtual machines to be backed up Multiple backup appliances on a single host Backup of virtual machine disks that are marked as Independent Backup of Storage Virtual Appliances (SVAs) - vDR is intent for SMB customer. When using more than one vDR appliance it’s difficult to manage. If you want more robust solution look 3e party software for example at Veeam Backup and Recovery.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2011/09/01/vmware-esxi-5-whitebox-supported-motherboard/",
  "title": "VMware ESXi 5 whitebox supported motherboard",
  "description": "",
  "date": "September 1, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "whitebox, homelab",
  "tags": "homelab, whitebox",
  "content":"If you want a low power consumption whitebox motherboard to run some VMs that are not resource intensive the Asus E35M1-M PRO Zacate motherboard is an option. It has an AMD E-350 dual core 1,6 GHz processor with passive cooling, onboard graphics, max 8GB memory support, onboard LAN and 5x SATA 6 onboard. And it’s cheap.\nI test the Asus E35M1-M PRO Zacate motherboard in my home lab, and it will run for VMware ESXi 5.0.0 build 469512. This motherboard can be used in a homebrew server.\nSpecifications Asus E35M1-M PRO Zacate motherboard:\nForm factor uATX CPU AMD Fusion E-350 Dual-core onboard processor with passive cooler Memory Corsair XMS3 DDR3,1333-8GB KIT (2x4GB) Graphics Onboard integrated ATI Radeon HD 6310 GPU Storage 5 x SATA 6 Gb/s LAN 1 x Realtek 8111E , 1 x Gigabit LAN Controller USB ports 2 x USB ports, 12 x USB 2. ports BIOS 32 Mb flash ROM UEFI Here are some screenshots from the vSphere Client:\nVMware ESXi 5.0.0 DCUI\nSummary page\nExample of the processor load with 2 x MS Windows 2008 R2 VMs\nOnboard processor\nMemory\nOnboard disk controllers\nThe Realtek onboard LAN adapter.\nIn VMware ESX|(i) 4.x the Realtek LAN adapter is not supported.\nPower consumption\nThe following configuration is used:\nAsus E35M1-M Pro\nCorsair XMS3 DDR3,1333-8GB KIT (2 x 4GB memory)\nOCZ Vertex Plus - 60GB - 2.5inch\nBe Quiet! Pure Power L7 300W\nHypervisor VMware ESXi 5\nHere are some test I did:\nStartup VMware ESXi 5 30 Watt\nIdle with two Microsoft Windows 2008 R2 VMs 25 Watt\nOne Microsoft Windows 2008 R2 VM with 100% (using the cpubusy.vbs script) processor load 28 Watt\nTwo Microsoft Windows 2008 R2 VM with 100% (using the cpubusy.vbs script) processor load between 30 and 32 Watt\nTo power consumption is not bad if you want to run a couple of VMs 24x7.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2011/08/18/upgrading-to-vmware-esxi-5/",
  "title": "Upgrading to VMware ESXi 5",
  "description": "",
  "date": "August 18, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi, vSphere5",
  "tags": "esxi-2, vSphere5",
  "content":"The following three supported upgrade methods to VMware ESXi 5 are available:\nUpgrade Method ESX or ESXI to ESXi5 Upgrade or Patch from ESXi 5 to ESXi 5.x vSphere Update Manager yes yes Interactive upgrade from CD, DVD, or USB drive yes yes Scripted upgrade yes yes vSphere Auto Deploy no yes esxcli no yes It is not supported to directly upgrade ESX(i) 3.x to ESXi 5. You must first upgrade ESX(i) 3 to ESX(i) 4 before upgrading to ESXi 5. Another option is to do an fresh installation.\nWhen upgrading to vSphere ESXi 5 there are a couple of things to think about before starting:\nIt is now possible to upgrade VMware ESX 4.x and ESXi 4.x to VMware ESXi 5. Prior ESXi 5 the upgrade from ESX to ESXi was not supported (fresh installation needed). Make sure using static IP addresses. DHCP addresses can cause problems when upgrading with VMware Update Manager Backup your ESX or ESXi configuration: For ESX back up the /etc/passwd, /etc/groups, /etc/shadow, and /etc/gshadow directories, custom scripts, local VMs, templates, iso and *.VMX files For ESXi use vicfg-cfgbackup command in from the VMA or esxcli\nIf upgrading the host(s) managed by vCenter server, you must upgrade vCenter to version 5 before upgrade ESX or ESXi Once you have upgraded or migrated your host to ESXi 5.0, you cannot roll back to your\nversion 4.x ESX or ESXi software. Lopsided boot banks can occur in systems that are upgraded from ESXi 3.5 to ESXi 4.x, and then upgraded directly to ESXi 5.0. vSphere Update Manager assumes the boot banks are both at 250MB. If it detects one boot bank is smaller than the other it will report an invalid boot disk and won’t even try to upgrade. More information can be found here . For most ESXi 4.x hosts, the partition table is not rewritten in the upgrade to ESXi 5.0. The partition table is rewritten for systems that have lopsided bootbanks. Lopsided boot banks can occur in systems that are upgraded from ESXi 3.5 to ESXi 4.x, and then directly to ESXi 5.0. The ESXi 5.0 installer cannot detect ESX 2.x instances or VMFS2 datastores. You cannot migrate ESX 2.x instances to ESXi 5.0 or preserve VMFS2 datastores in an upgrade to ESXi 5.0. Instead, perform a fresh installation of ESXi 5.0. For ESX hosts, the partitioning structure is changed to resemble that of an ESXi 4.x host. The VMFS3 partition is retained and a new MSDOS-based partition table overwrites the existing partition table. Upgraded hosts do not have a scratch partition. Instead, the scratch directory is created and accessed off of the VMFS volume. Each of the other partitions, such as the bootbanks, locker and vmkcore will be identical to thatof any other system. The three upgrade methods are described with some screenshots.\nvSphere Update Manager (VUM) ESX 4 or ESXi 4 to ESXi 5 upgrade In vCenter open the VUM plug in and import Host Upgrade Image browse to the VMware vSphere 5i installer ISO The ISO is uploaded to VUM. Create Host Upgrade Baseline Attach the baseline Perform an scan If there is a warning. Click on the warning to expand The following warning is displayed that some modules are removed by the upgrade Click on the Remediate button and follow the steps: When the Remediate finish the upgrade is complete and VMware ESXi 5 is installed. Steps of the interactive upgrade using the CD/DVD from ESX4 or ESXi 4 to ESXi 5 A existing VMFS volume is found and the following selections can be made: In this example we migrate VMware ESX 4 to ESXi 5 and choose Migrate ESX, preserver VMFS datastore. Scripted upgrade from ESX4 or ESXi 4 to ESXi 5 Scripted upgrade can be done by using a kickstart text file for example ks.cfg. In this file the following options can be used for the upgrade:\nupgrade Upgrade to ESXi 5 installorupgrade Tries to upgrade to ESXi5. If it is not possible to upgrade it will perform a fresh installation William Lam has very good information and examples about ESXi 5 scripted installations. For more information see the posts How to Automate the Upgrade of Classic ESX 4.x to ESXi 5 and Automating ESXi 5.x Kickstart Tips \u0026amp; Tricks "},{
  "section": "Blog",
  "slug": "/logbook/site/2011/07/15/vmware-vsphere-5-licensing-explained/",
  "title": "VMware vSphere 5 licensing update explained",
  "description": "",
  "date": "July 15, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "licensing, vpshere, vpshere-5",
  "tags": "licensing, vSphere, vSphere5",
  "content":"With the announcement of VMware vSphere 5 a complete new license model is introduces.\nIn VMware vSphere 4 the licensing model was per physical processor based on the number of cores per CPU and the physical memory.\nThe VMware vSphere 5 license model is based per physical processor and the allocated memory (vRAM) across the entire vSphere environment for a particular vSphere 5 edition (pool).\nUpdate August 27, 2012\nToday VMware announced the end of the vRAM entitlement. More info can be found here .\nUpdate August 15, 2011\nVMware has announced an update in the licensing for vSphere 5. They listens to their customers and changed the licensing. The following things have been updated:\n- The vRAM entitlements are increased. See the new entitlements in this post.\n- Capped amount of vRAM that is counted for a VM with a max of 1 vSphere Enterprise license (96GB). So an 1TB VM cost 96GB.\n- More flexible around transient workloads, and short-term spikes that are typical in test \u0026amp; development environments for example. We will now calculate a 12-month average of consumed vRAM to rather than tracking the high water mark of vRAM.\n- **VMware launched an official tool “**The VMware vSphere Licensing Advisor”. This tool allows users with vSphere 4.1, vSphere 4.0 and Virtual Infrastructure 3.5 environments to calculate and understand their vRAM usage and vRAM capacity as if they upgraded to vSphere 5.0.\nEverything in red colored text is updated.\nvSphere 5 licensing facts:\nvRAM = virtual memory configured to a Virtual Machine Pooled vRAM = sum of all vRAM entitlements across all vSphere 5 licenses from the same edition in one or more vCenter(s) servers in linked mode Only powered-on VMs a counted in the total vRAM. vRAM pool must be licensed with the same vSphere edition. You can multiple vRAM pools in one or more vCenter servers for example a vSphere 5 standard and vSphere 5 Enterprise license pool The vSphere 4 Advanced edition is removed and customers get a free upgrade to Enterprise How many licenses do I need? For existing customers before upgrading to vSphere 5 you need to know if the upgrade can without needing extra licenses.\nTo calculate how many licenses you need to sum up the total amount of vRAM allocated in all the powered-on VMs and divide that to total amount by the for the particular vSphere 5 edition you are running. Here are two customer cases:\nCons of the new vSphere 5 licensing VMware listening to there customers and increased for example the vRAM entitlements. To most of the cons do not apply anymore.\nThe CPU core to memory ratio can be very low. For example for a six core CPU with hyper-treading and a standard license gives a very low ratio 1:1 if we use 4GB VMs. You may loss the the flexibility to scale-up the memory without invest in extra vSphere licenses. I have seen a lot of customers who upgrade the memory of their vSphere hosts within 3 a 4 years. With the new vSphere 5 licensing this can lead in buying extra licenses. The vSphere 5 Hypervisor version supports 8GB per CPU, a dual CPU sockets hosts gives u 16GB RAM. On this server you can place 3,5 Windows 2008 R2 VM with 4GB VMs. I think the vSphere 5 Hypervisor isn’t going to be used anymore because other hypervisors haven\u0026rsquo;t this restriction and even offer more functionality. No benefit for memory technics such as memory over allocation because the licensing is based on virtual memory configured to a Virtual Machine (vRAM) "},{
  "section": "Blog",
  "slug": "/logbook/site/2011/07/04/vmware-vexpert-2011-award/",
  "title": "VMware vExpert 2011 award",
  "description": "",
  "date": "July 4, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "",
  "content":"During my vacation i received an e-mail that I was designate as vExpert 2011. I was very pleased by getting the award. The VMware vExpert Award is given to:\nindividuals who have significantly contributed to the community of VMware users over the past year. vExperts are book authors, bloggers, VMUG leaders, tool builders, and other IT professionals who share their knowledge and passion with others. These vExperts have gone above and beyond their day jobs to share their technical expertise and communicate the value of VMware and virtualization to their colleagues and community.\nCongrats to all the other vExpert 2011. Thanks to John Troyer and the VMware Social Media team for given me the vExpert 2011 award!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2011/06/23/optimize-the-disks-and-partitions-on-your-vm-by-using-vmware-converter-5/",
  "title": "Optimize the disk(s) and partition(s) on your VM by using VMware Converter 5",
  "description": "",
  "date": "June 23, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "converter, VMware",
  "tags": "converter, VMware",
  "content":"By using VMware Converter 5 the following disk optimizations can be easily done on your existing VM:\nConvert one or more partition(s) on single disk to partitions on a separate disks. When you want to increase disk space on the C: partition this is a problem because of the D partition is on the same disk. Resize one or more partition(s) Align on or more disks. (not needed anymore for Microsoft Windows 2008, Windows Vista or greater). This example shows a partition that is not aligned Adjust the cluster size V2V procedure:\nPower down the VM In VMware Converter select “Convert Machine” Follow the instructions on the screen till you got the options screen Edit the “Data to copy” Change the “Data copy type” from “Copy all disks and maintain layout” in “Select volumes to copy”.\nSelect “Advanced” and choose the “Destination” layout Change the disk size (in the example we change the C-partition to 30GB) Use “Add Disk”, the VirtualDisk2 is created. Move the partition down (in the example the E: partition) Be sure that the “Create optimized partition layout” option is selected for all the disks. VMware Converter optimize the disk partitions alignment” The cluster size in this example at the default value After the V2V the VM has 2 disks, the partition size is increased and both disk are aligned. Check the disk alignment by using msinfo32.exe\nVMware Converter 5.0 is available as public beta and can be found here.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2011/06/09/powercli-list-vm-settings-and-export-to-csv-html-gridview-screen-and-email/",
  "title": "List VM settings to CSV, HTML, gridview, screen and email",
  "description": "",
  "date": "June 9, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "powercli, PowerShell",
  "tags": "powercli, PowerShell",
  "content":"This PowerCLI script will display specified VM settings for all VMs in the vCenter server you specify. If you do an inventory, a health check or need to troubleshoot VMware environment this PowerCLI script can be useful.\nThe following VM settings will be displayed:\nVMName, Hostname, IP address, OS version, Boottime, VMstate, Total vCPUs, CPU afinnity, CPU hot add status, CPU share, CPU limit, Overall CPU usage, CPU reservation, Total memory, Memory share, Memory usage, Memory hot add status, Memory limit, Memory reservation, Memory swap, Memory ballooning, Memory compression, Total NICs, VMware tools status, VMware Tools version, VM hardware version, Timesync status and CBT status.\nThe output can be specified in the scripts. The following formats:\nCSV HTML GridView. The cool about gridview is that you can easily sort and filter columns. On screen HTML file can be send by email. Requirements:\nMicrosoft PowerShell v2.0 VMware PowerCLI 4.1 U1 build 332441 What do I need to change:\nThe following variables can be changed to suit your needs:\n# Variable to change $CreateCSV= \u0026#34;yes\u0026#34; $GridView = \u0026#34;yes\u0026#34; $HTML = \u0026#34;yes\u0026#34; $DisplayHTMLOnScreen = \u0026#34;yes\u0026#34; $EmailHTML = \u0026#34;yes\u0026#34; $SendEmail = \u0026#34;yes\u0026#34; $EmailFrom = \u0026#34;vm@ivobeerens.nl\u0026#34; $EmailTo = \u0026#34;info@ivobeerens.nl\u0026#34; $EmailSubject = \u0026#34;VMs settings information\u0026#34; $EmailSMTP = \u0026#34;smtpserver\u0026#34; $FileHTML = New-Item -type file \u0026#34;D:\\temp\\VMInfo_$datefile.html\u0026#34; $FileCSV = New-Item -type file \u0026#34;D:\\temo\\VMInfo_$datefile.csv\u0026#34; The PowerCLI script listing:\n\u0026lt;# .SYNOPSIS Displays VM settings .DESCRIPTION Display VM settings by CSV, HTML, GridView, screen and as HTML by email .Author(s) Ivo Beerens www.ivobeerens.nl .EXAMPLE PS C:\\\u0026gt; ./vminfo.ps1 #\u0026gt; #Initialize PowerCLI Add-PSSnapin VMware.VimAutomation.Core C:\\\u0026#34;Program Files (x86)\\VMware\\Infrastructure\\vSphere PowerCLI\\Scripts\\Initialize-PowerCLIEnvironment.ps1\u0026#34; #Connect to vCenter $VCServer = Read-Host \u0026#34;Enter the vCenter server name\u0026#34; $Username= Read-Host \u0026#34;Enter the username\u0026#34; $Password = Read-Host \u0026#34;Enter password\u0026#34; Connect-VIServer $VCServer -User $username -Password $password -port 443 #Variables $Date = get-date $Datefile = ( get-date ).ToString(‘yyyy-MM-dd-hhmmss’) $ErrorActionPreference = \u0026#34;SilentlyContinue\u0026#34; # Variable to change $CreateCSV= \u0026#34;yes\u0026#34; $GridView = \u0026#34;yes\u0026#34; $HTML = \u0026#34;yes\u0026#34; $DisplayHTMLOnScreen = \u0026#34;yes\u0026#34; $EmailHTML = \u0026#34;yes\u0026#34; $SendEmail = \u0026#34;yes\u0026#34; $EmailFrom = \u0026#34;vm@ivobeerens.nl\u0026#34; $EmailTo = \u0026#34;info@ivobeerens.nl\u0026#34; $EmailSubject = \u0026#34;VMs settings information\u0026#34; $EmailSMTP = \u0026#34;smtpserver\u0026#34; $FileHTML = New-Item -type file \u0026#34;D:\\temp\\VMInfo_$datefile.html\u0026#34; $FileCSV = New-Item -type file \u0026#34;D:\\temo\\VMInfo_$datefile.csv\u0026#34; #Add Text to the HTML file Function Create-HTMLTable { param([array]$Array) $arrHTML = $Array | ConvertTo-Html $arrHTML[-1] = $arrHTML[-1].ToString().Replace(‘\u0026lt;/body\u0026gt;\u0026lt;/html\u0026gt;’,\u0026#34;\u0026#34;) Return $arrHTML[5..2000] } $output = @() $output += ‘\u0026lt;html\u0026gt;\u0026lt;head\u0026gt;\u0026lt;/head\u0026gt;\u0026lt;body\u0026gt;’ $output += ‘\u0026lt;style\u0026gt;table{border-style:solid;border-width:1px;font-size:8pt;background-color:#ccc;width:100%;}th{text-align:left;}td{background-color:#fff;width:20%;border-style:so lid;border-width:1px;}body{font-family:verdana;font-size:12pt;}h1{font-size:12pt;}h2{font-size:10pt;}\u0026lt;/style\u0026gt;’ $output += ‘\u0026lt;H1\u0026gt;VMware VM information\u0026lt;/H1\u0026gt;’ $output += ‘\u0026lt;H2\u0026gt;Date and time\u0026lt;/H2\u0026gt;’,$date #Gathering VM settings Write-Host \u0026#34;Gathering VM statistics\u0026#34; $Report = @() Get-VM | Sort Name -Descending | % { $vm = Get-View $_.ID $vms = \u0026#34;\u0026#34; | Select-Object VMName, Hostname, IPAddress, OS, Boottime, VMState, TotalCPU, CPUAffinity, CPUHotAdd, CPUShare, CPUlimit, OverallCpuUsage, CPUreservation, TotalMemory, MemoryShare, MemoryUsage, MemoryHotAdd, MemoryLimit, MemoryReservation, Swapped, Ballooned, Compressed, TotalNics, ToolsStatus, ToolsVersion, HardwareVersion, TimeSync, CBT $vms.VMName = $vm.Name $vms.Hostname = $vm.guest.hostname $vms.IPAddress = $vm.guest.ipAddress $vms.OS = $vm.Config.GuestFullName $vms.Boottime = $vm.Runtime.BootTime $vms.VMState = $vm.summary.runtime.powerState $vms.TotalCPU = $vm.summary.config.numcpu $vms.CPUAffinity = $vm.Config.CpuAffinity $vms.CPUHotAdd = $vm.Config.CpuHotAddEnabled $vms.CPUShare = $vm.Config.CpuAllocation.Shares.Level $vms.TotalMemory = $vm.summary.config.memorysizemb $vms.MemoryHotAdd = $vm.Config.MemoryHotAddEnabled $vms.MemoryShare = $vm.Config.MemoryAllocation.Shares.Level $vms.TotalNics = $vm.summary.config.numEthernetCards $vms.OverallCpuUsage = $vm.summary.quickStats.OverallCpuUsage $vms.MemoryUsage = $vm.summary.quickStats.guestMemoryUsage $vms.ToolsStatus = $vm.guest.toolsstatus $vms.ToolsVersion = $vm.config.tools.toolsversion $vms.TimeSync = $vm.Config.Tools.SyncTimeWithHost $vms.HardwareVersion = $vm.config.Version $vms.MemoryLimit = $vm.resourceconfig.memoryallocation.limit $vms.MemoryReservation = $vm.resourceconfig.memoryallocation.reservation $vms.CPUreservation = $vm.resourceconfig.cpuallocation.reservation $vms.CPUlimit = $vm.resourceconfig.cpuallocation.limit $vms.CBT = $vm.Config.ChangeTrackingEnabled $vms.Swapped = $vm.Summary.QuickStats.SwappedMemory $vms.Ballooned = $vm.Summary.QuickStats.BalloonedMemory $vms.Compressed = $vm.Summary.QuickStats.CompressedMemory $Report += $vms } #Output if ($GridView -eq \u0026#34;yes\u0026#34;) { $report | Out-GridView } if ($CreateCSV -eq \u0026#34;yes\u0026#34;) { $report | Export-Csv $FileCSV -NoTypeInformation } if ($HTML -eq \u0026#34;yes\u0026#34;) { $output += ‘\u0026lt;p\u0026gt;’ $output += ‘\u0026lt;H2\u0026gt;VMware VM information\u0026lt;/H2\u0026gt;’ $output += ‘\u0026lt;p\u0026gt;’ $output += Create-HTMLTable $report $output += ‘\u0026lt;/p\u0026gt;’ $output += ‘\u0026lt;/body\u0026gt;\u0026lt;/html\u0026gt;’ $output | Out-File $FileHTML } if ($DisplayHTMLOnScreen -eq \u0026#34;yes\u0026#34;) { ii $FileHTML} if ($SendEmail -eq \u0026#34;yes\u0026#34;) { Send-MailMessage –From $EmailFrom –To $EmailTo –Subject $EmailSubject –SmtpServer $EmailSMTP -Attachments $FileHTML } #Disconnect session from VC Disconnect-VIserver -Confirm:$false "},{
  "section": "Blog",
  "slug": "/logbook/site/2011/05/27/vmware-vcap-dca-exam-experience/",
  "title": "VMware VCAP-DCA exam experience",
  "description": "",
  "date": "May 27, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vcap-dca, VMware",
  "tags": "vcap-dca, VMware",
  "content":"I took the VCAP-DCA (VDCA410) exam on 12 May 2011 at Global Knowledge in Nieuwegein (The Netherlands). Today 27 May 2011 I received an e-mail that I passed the VCAP-DCA exam! Great news before starting the weekend!\nHere are some VCAP-DCA exam requirements:\nThe exam time is 4 hours (time is for non English speaking countries) The passing score is 300 out of 500 It takes up to business days 10 days (or more :-) before you know if you passed the exam Scheduling for the VCAP-DCA exam can be done by the Pearson VUE’s website Don’t underestimated the exam, it’s a hard one! I was sweating for four 4 hours and didn’t finished all the questions because the time stops.\nThe exam is all lab based so you need to do stuff as configuring and troubleshooting vSphere environments. You need to compete tasks they asked. The best advise is to create your own test lab environment as mentioned in the exam blueprint. Then use the blueprint and practice the objectives. The VMware PDF documents are available but try to avoid because they cost valuable time. So don’t rely on the PDFs! Go to the toilet before the exam several times till nothing is coming out. After three hours I needed to go but I had no time. It’s not a good feeling to hold it………….\nWhen I know my VCAP-DCA number I updated the post and if you have preparation resources please let me know. Good luck with the preparation for the VCAP-DCA exam!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2011/05/18/display-or-filter-vms-that-are-restarted-by-vmware-ha/",
  "title": "Display or filter VMs that are restarted by VMware HA",
  "description": "",
  "date": "May 18, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "ha, high-availaiblity, VMware, vSphere",
  "tags": "ha-2, high-availability, VMware, vSphere",
  "content":"When VMware High Availability(HA) comes in action, the VMs are restarted (depending on the HA settings) on other VMware ESX servers in the cluster. It’s handy to know what VMs are restarted.\nIn the vCenter client the Tasks and Events page size can be increased. Default the vCenter client displays 100 tasks and events. In a cluster with a lot of host and a HA action the 100 tasks and events can be to low. So increasing the size will display the events that list what VMs ate restarted. Increasing can be done by using the following steps:\nOpen the vCenter client Choose Edit Client Settings Lists Task and Events, Page size Increase the value (default value 100) To find the VMs that are restarted click on the cluster, go to events tab and search for the following message:\nVirtual machine was restarted on since failed\nThis is a time consuming task to filter out these messages.\nAn easier and quicker way is to use PowerCLI and use the following one-liner:\nGet-VIEvent -MaxSamples 500 | select FullFormattedMessage,CreatedTime | Out-GridView This one-liner displays the last 500 events in a gridview. Filter on the keyword “restarted” and all the VMs that are restarted are filtered in the gridview.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2011/05/02/unable-to-commit-snapshot-after-vadp-backup/",
  "title": "Unable to commit snapshot after VADP backup",
  "description": "",
  "date": "May 2, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxi, vadp, vpshere",
  "tags": "esxi-2, vadp, vSphere",
  "content":"hen doing a health check I found the following error during the remove if a snapshot in vCenter:\nUnable to access file since it is locked\nThere is a problem when committing the snapshot after the vStorage APIs for Data Protection (VADP) backup of the VM.\nIn the snapshot manager in vCenter there was no snapshot visible. I needed the be sure that no snapshot is active in the background. This can be very dangerous when snapshots still active and grows. The snapshot can allocate al the free disk space on the datastore and slow down the VM.\nBy enabling remote Tech Support Mode (TSM) on the VMware ESXi server I needed the be sure that no snapshot is active by using the following command:\nfind /vmfs/volumes/ -iname \u0026#34;\\*delta.vmdk\u0026#34; The command displays all the “delta.vmdk” snapshot files on all the VMFS volumes. This command show that the snapshot is still active.\nTo “temporally” solve this problem:\nCreate a manual snapshot of the VM. When the snapshot is created the old “Consolidate Helper-0” is added to the snapshot manager.\nHit the Delete All Button and the two snapshots are committed. When the remove snapshot task is completed (this can take a while depending on the size of the snapshot). Run the find command again and verify if the snapshot is committed.\nI see this problem lately with more customers who using VMware vSphere 4.1 Update 1 with different backup solutions such ad Symantec CommVault and Veeam that use VADP. Let’s create a support incident.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2011/03/30/unable-to-delete-a-vmdk-because-its-locked/",
  "title": "Unable to delete a VMDK because it&amp;rsquo;s locked",
  "description": "",
  "date": "March 30, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware, vSphere",
  "tags": "VMware, vpshere",
  "content":"When trying to delete an “old” VMDK file, I’ve got the following message “device or resource is busy”. I was pretty sure that the VMDK was not connected to any VM(s) anymore. I tried to delete the VMDK by command line and by using the datastore browser. I found the VMware KB article “Virtual machine does not power on because of locked files” This KB article describes how to find the VMware ESX host that holds the lock.\nTo identify the VMware ESX server that holds the lock, used the following command:\nvmkfstools -D /vmfs/volumes/\u0026lt;LUN/\u0026lt;name server.VMDK\u0026gt; This command reports in the vmkernel.log the MAC address of the ESX server that holds the lock. Look in the vmkernel.log by using the following command:\ntail /var/log/vmkernel log The vmkernel.log output:\nMar 29 15:43:07 server vmkernel: 7:03:34:25.713 cpu9:4223)FS3: 142: \u0026lt;START server-flat.vmdk\u0026gt;\nMar 29 15:43:07 server vmkernel: 7:03:34:25.713 cpu9:4223)Lock [type 10c00001 offset 31932416 v 142, hb offset 3272704\nMar 29 15:43:07 server vmkernel: gen 99305, mode 1, owner 4d39b32d-ef567209-7754-0025b3e1a4c8 mtime 3227617]\nThe bold text is the MAC address of the VMware ESX server that holds the lock. Now we need to find the VMware ESX server that matches the MAC address. The following PowerCLI script displays all MAC address of all VMware ESX servers and displays this in a gridview.\nConnect-viserver vCenterserver Get-vmhostnetworkadapter | Select vmhost,mac | Out-GridView With a gridview it is possible to filter easily. Add the last part of the MAC address (including the : ) and the corresponding VMware ESX server is displayed:\nOn the VMware server that holds the lock restart the Management agents by using the following command:\nservice mgmt-VMware restart The lock disappeared and I was able to remove the VMDK file.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2011/03/25/watch-out-installing-sp1-on-your-hyper-v-r2-cluster/",
  "title": "Watch out installing SP1 on your Hyper-V R2 cluster",
  "description": "",
  "date": "March 25, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v",
  "tags": "hyper-v-r2",
  "content":"Yesterday I spoke a customer who has problems after applying Windows 2008 R2 SP1 on his 5 node Hyper-V cluster. When validating the storage on the cluster, the following error “disk with identifier “2ef8c0……” has a persistent reservation” is displayed on multiple cluster disks.\nThe problem can occur in the following scenario:\n**- You configure a failover cluster that has three or more nodes that are running Windows Server 2008 R2 Service Pack 1 (SP1).\nYou have cluster disks that are configured in groups other than the Available Storage group or that are used for Cluster Shared Volumes (CSV). These disks are online when you run the Validate SCSI Device Vital Product Data (VPD) test or the List Potential Cluster Disks storage validation test.** In this scenario, the Validate SCSI Device Vital Product Data (VPD) test fails. Additionally, you receive an error message that resembles the following:\nFailed to get SCSI page 83h VPD descriptors for cluster disk from status 2\nThe List Potential Cluster Disks storage validation test may display a warning message that resembles the following:\nDisk with identifier has a Persistent Reservation on it. The disk might be part of some other cluster. Removing the disk from validation set.\n**A hotfix (KB 2531907) is now available that addresses the Win2008 R2 service pack 1 issue with Validate on a 3+ node cluster. You can find more information and the hotfix to download at the following link:\n**KB2531907 My advice, do not install SP1 on your production Hyper-V cluster(s) till Microsoft has solution for this nasty problem! "},{
  "section": "Blog",
  "slug": "/logbook/site/2011/03/21/hyper-v-and-hibernate/",
  "title": "Hyper-V and hibernate",
  "description": "",
  "date": "March 21, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v",
  "tags": "hyper-v-2",
  "content":"For my MS Hyper-V home server I want to hibernate every day between 12.30 and 07.00 am. When the Hyper-V role is installed, it is not possible to use the hibernate function. The following steps make it possible to automatic hibernate the system and when it wake up, the Hyper-V service and the VM(s) are started.\nSteps:\n1. Download “PowerShell Management Library for Hyper-V” file found here . Unblock the zone information from this zip, extract it and run the install file. Copy the content in the “HyperV_install” folder to\n“%windir%\\System32\\WindowsPowerShell\\v1.0\\Modules\\HyperV” 2. Edit VM properties of all VMs. Set the Automatic stop action “Shut down the guest operating system”\n3. Edit the registy to disable auto start the hvboot service. When installing the hyper-v role the hibernate and sleep functionality is disabled. There is no way to use the hiberate or sleep functionality while the Hyper-v service is running. The Start property of a service can have the following values:\n0=Boot 1=System (default) 2=Auto **3=Demand** 4=Disabled Set the value to 3, so that you can start the service when you want. 0 is not supported for hvboot. Information found here .\nReboot the server so that the hvboot service is not started.\n4. Create 4 schedule tasks to run every day.\nName Time Action 1.Reboot Server 12.30 am shutdown /r t 30 2.Hibernate 12.40 am shutdown /h 3.Wake Up 07.00 am Under conditions select “Wake the computer to run this task” 4.Start HVboot \u0026amp; VMs 07.10 am powershell.exe -command \u0026ldquo;c:\\powershell\\startvm.ps1\u0026rdquo; The startvm.ps1 script contains the following PowerShell syntax:\nimport-module hyperv start-service hvboot start-vm -vm \u0026#34;Windows Home Server 2011\u0026#34; Test if the schedule tasks are running fine by manually execute them and you’re ready to hibernate.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2011/03/18/homebrew-whitelist-hyper-v-home-server-nas/",
  "title": "Homebrew / Whitelist Hyper-V R2 home server NAS",
  "description": "",
  "date": "March 18, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "homelab, hyper-v, server, VMware",
  "tags": "homelab, hyper-v-r2, VMware",
  "content":"For my home lab i was looking for a home server with NAS functionality. My current Iomega IX2 (2x500GB) NAS is replaced by this server. For this server I had the following requirements\nLow power consumption (24x7) Low noise Flexibly and room to expand with extra hard drive(s),hardware RAID and a NIC Home server functionality for sharing photos, music, documents and films NAS functionality with iSCSI and NFS protocol FTP server Hypervisor enabled Backup server Print server Active Directory DNS server Download server Wake-on-LAN functionality to start other virtualization hosts I selected the following components:\nMotherboard Asus E35M1-M Pro. This motherboard contains AMD Zacate E-350 1.60 GHz Dual-Core Processor. It has TDP (Thermal Design Power) of 18W!\nSpecifications:\nDual-core 1.60 GHz processor that has passive cooling. Onboard AMD Radeon graphic card USB 3.0 5 x SATA 6Gb/s EFI BIOS 2 x DIMM, Max 8GB RAM Realtek Gigabit 8111E LAN 1 x PCI Express 2.0, 1 x PCI Express 2.0 x1 slot, 2 x PCI 3.0 slots uATX Form Factor, 9.6 inch x 7.2 inch ( 24.4 cm x 18.3 cm ) This Motherboard has room to expand, it is possible to add extra extra hard drive(s), a RAID controller and an extra NIC. Virtualization is also supported with AMD-V feature in the CPU.\nMemory The motherboard supports two single channel DDR3 1066MHz DIMMS . The maximum memory is 8GB.\nI picked 2 x 4 GB G.Skill Ripjaws (F3-10666CL9D-8GBRL ). More supported memory for this motherboard can be found in the Asus download section\nHard drives In this set-up I used three hard-drives. As boot drive an old Samsung SP0411C 40GB SATA 150 is used. For the data and backup storage I picked 2 Samsung EcoGreen F4EG 2TB hard drives.\nSome specifications:\n2TB unformatted capacity\nSATA 3Gb/s interface Three platter design 32MB cache 5400RPM spin speed Average Seek time - 8.9 ms Great price, large space and low power consumption.\nPower Supply As Power Supply I choose the Seasonic S12II-330W ATX power supply.\nSome specifications:\n80 PLUS Efficiency up to 85% Advanced ultra-low resistance, high temperature capacitors on critical 12V rail Low Noise Good quality, high efficiency (85%) and quiet power supply.\nCase Cooler Master CM 690 II Advanced\nSome specifications:\nTower Motherboard support Micro - ATX / ATX / Mini-ITX 6 x 3,5” bays 4 x 2,5”bays Dimension (W / H / D) 214.5 x 496 x 528.8 mm / 8.4 x 19.5 x 20.8 inch Cable management Great case with a lot of room for expanding.\nSoftware running so far When installing VMware ESXi it gives an error because the NIC and disk controller aren’t supported. The solution is to install a controller and NIC that are supported or add the drivers to the VMware ESXi ISO.\nAn easier way is to use Microsoft Hyper-V R2 because all the drivers are supported.\nThe following software is installed so far:\nWindows 2008 R2 SP1 with the AD, DNS and Hyper-V role installed Windows Home Server 2011 (Vail) RC as Virtual Machine (VM) for sharing photos, documents, music and videos. I use it also to backup my work laptop and other Windows pc’s at home. Starwind iSCSI SAN Services for Network File System for the NFS protocol FileZilla server for FTP Power consumption Here are some power consumption tests I did:\nMotherboard with 8GB RAM, started in the EFI BIOS without the hard drives attached. Power consumption around 31 Watt Motherboard with 8GB RAM with three hard drives attached , Windows 2008 R2 with the MS Hyper-V R2 role and one VM active. Power consumption idle around 35 Watt Motherboard with 8GB RAM with three hard drives attached, Windows 2008 R2 with the MS Hyper-V R2 role and one VM active and 2 CPU cores fully loaded in Windows 2008 R2. Power consumption around 45 Watt Performance Don’t except that this configuration is a performance monster. The performance is not bad for a home server with a lot of flexibility, low noise and power consumption and couple of VMs running.\nScreenshot Hyper-V manager with Microsoft Windows Home Server 2011 running.\nConsiderations The following considerations (will increase the costs) can be made for better performance and/or lower consumption:\nUse an SSD drive as boot hard drive for faster booting and lower power consumption. Change the power supply for an higher efficiency power supply. For example a PicoPSU has an higher efficiency for lower power consumption. Add an RAID card with cache on it for better disk performance. The power consumption will increase. "},{
  "section": "Blog",
  "slug": "/logbook/site/2011/03/04/reset-the-microsoft-outlook-folder-language/",
  "title": "Reset the Microsoft Outlook folder language",
  "description": "",
  "date": "March 4, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "exchange, outlook",
  "tags": "exchange, outlook",
  "content":"During a Microsoft Exchange (Exchange 2007 to Exchange 2007) migration between to organizations, I discovered that some mailboxes had an English folder structure in MS Outlook instead of a Dutch. After the mailbox is exported and imported using the export- and import-mailbox command, the users starts the Microsoft Outlook 2007 (Dutch). Microsoft Outlook 2007 creates the default leading Outlook folder structure in Dutch language such as “Postvak In”and “Agenda”. When the imported PST file contains an English Microsoft Outlook folder structure is also exist in the mailbox, but are not the leading default folders. So the mailbox contains folders as “Inbox” and “Postvak In”. For example the “Inbox” contains all the mail and the “Postvak IN” folder is empty and the default leading folder in Outlook. This can be very confusing and give problems such as syncing the mobile device.\nThere is a Outlook command line switch that resets default folder names (such as Inbox or Sent Items ) to default names in the current Office user interface language. The syntax is:\noutlook.exe /resetfoldernames\nThe Outlook command line switch /resetfoldernames didn’t work in this situation. To solve this problem I did a inventory on all the mailboxes who had an folder named “Inbox” at the Exchange 2007 organization where to migrate from by executing the the following PowerShell script in EMS:\nGet-Mailbox -ResultSize Unlimited | Get-MailboxFolderStatistics | where {$_.name -eq \u0026#34;Inbox\u0026#34;} | Select identity, folderpath | export-csv c:\\temp\\inbox.csv -NoTypeInformation The output with all the mailboxes containing a “inbox” Outlook folder is written to the inbox.csv file.\nThe company Amrein Engineering has an cool utility called Outlook set folder language. With this utility you can rename multiple Mailbox Outlook folder(s) to another language such as: German, French, English, Italian, Spanish, Dutch, Danish, and Swedish.\nFor all the mailboxes I created a custom attribute and added them to the custom address list by filtering on the the custom attribute. In the Outlook set folder language utility I selected the custom address list, selected all the mailboxes, choose as language “Dutch” and hit the Set button.\nWithin a short period all the mailbox folders were reset to the Dutch language at the Exchange organization were to migrate from. Now I could export and import all the mailboxes to the other Exchange Organization knowing that that every mailbox has the right Outlook folders language structure.\nI want to thank everybody who helped me with this nasty problem.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2011/02/18/vmware-microsoft-and-starwind-software-updates/",
  "title": "VMware, Microsoft and Starwind software updates",
  "description": "",
  "date": "February 18, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esx, esxi, microsoft, VMware, vSphere",
  "tags": "microsoft, vpshere",
  "content":"Last weeks a lots of software updates and new releases are published. Here’s an overview of some of them:\nVMware VMware vSphere 4.1 Update 1 A new update for vSphere 4.1 is released. Here are the ESX(i) and vCenter improvements:\nVMware ESX(i) 4.1 Update 1 improvements Enablement of Trusted Execution Technology (TXT) — ESXi 4.1 Update 1 can be configured to boot with Intel Trusted Execution Technology (TXT). This boot option can protect ESXi in some cases where system binaries are corrupted or have been tampered with. TXT is currently available on Intel Xeon processor 5600 series servers. For more information, see KB 1033811. Improvement in scalability — ESXi 4.1 Update 1 supports up to 160 logical processors. Support for additional guest operating systems — ESXi 4.1 Update 1 provides support for RHEL 6, RHEL 5.6, SLES 11 SP1 for VMware, Ubuntu 10.10, and Solaris 10 Update 9 guest operating systems. For a complete list of guest operating systems supported in this release, see the VMware Compatibility Guide. Inclusion of additional drivers — ESXi 4.1 Update 1 includes the 3ware SCSI 2.26.08.036vm40 and Neterion vxge 2.0.28.21239-p3.0.1.2 drivers. For earlier releases, these drivers are only available as separate downloads VMware vCenter Server 4.1 Update 1 improvements_### Additional Guest Operating System Customization Support: vCenter Server now supports customization of the following guest operating systems: Windows 7 SP1 (x32 and x64) Windows Server 2008 R2 SP1 (x32 and x64) RHEL 6.0 (x32 and x64) RHEL5.5 (x32 and x64) Additional vCenter Server Database Support**:** vCenter Server now supports the following databases: Microsoft SQL Server 2008 R2 Microsoft SQL Server 2005 SP3 Oracle 11g Standard/Enterprise Release 2, 11.2.0.1.0 or later, (x32 and x64) IBM DB2 9.7.2 Express C (x32 and x64) IBM DB2 9.7.2 Enterprise (x32 and x64)\nFor more information about using IBM DB2 - 9.7.2 database with vCenter Server 4.1 Update 1. VMware Data Recovery (vDR) There is NO new version of vDR but it is now included in the standard edition of vSphere since vSphere 4.1 Update 1. For people who have who already bought vSphere standard and have a current subscription are able to download the vDR.\nVMware vCloud Director 1.0.1 New features are support for vSphere 4.1 Update 1, complies with Internationalization I18N Level 1 and IP Translation for Organization Networks support.\nvCenter Server Heartbeat 6.3 Update 1 The following enhancements (Note: The features available depend on the version of vCenter Server installed) are available in this release:\nEnhanced passive server management capabilities — A new deployment option allows the passive server to be managed and monitored remotely, this includes receiving file level antivirus updates. This option is only available for: vCenter 4.0 U1 and its updates, 4.1 and its updates Remote SQL Server 2005, 2008 onl Please refer to install documentation for detailed requirements and install procedure specifically around DNS and changes required to Active Directory during installation.\nSecure Client Server Communications — vCenter Server Heartbeat now provides secure client server communications with SSL Encryption using a 2048-bit key. Support for View Composer — This release of VMware vCenter Server Heartbeat now provides support for View Composer v2.5 VMware vCenter Site Recovery Manager 4.1.1 VMware SRM 4.1.1 in a maintenance release. It has bugfixes and supports VMware vSphere 4.1 Update 1. Before installing VMware SRM 4.1.1 you need to update the vCenter server to 4.1 Update 1.\nMicrosoft System Center Virtual Machine Manager 2008 R2 (SCVMM) Microsoft has published a KB with the recommend hotfixes when performing P2V conversions by using SCVMM R2.\nWindows Server 2008 R2 / Windows 7 SP1 On Technet and MSDN SP1 for Windows 2008 R2 and Windows 7 is released. SP1 has a lot of patches and bug fixes. Two new features are memory compression (Hyper-V) and Remote FX (Remote Desktop Services).\nStarwind Starwind iSCSI SAN 5.6 A new version of the Starwind iSCSI SAN 5.6 is released. The Starwind iSCSI SAN software converts a Windows bases server into a fail-safe, highly available iSCSI SAN. This release has the following improvements:\nEvent Log - Improve your storage management and tracking of system state with new event viewer Event notifications - Be aware of every single event by e-mail, records to Windows Event Log, records to text files Experimental version of inline block level Deduplication plugin Management Console multilevel improvements "},{
  "section": "Blog",
  "slug": "/logbook/site/2011/02/11/microsoft-sysprep-goes-wrong-on-microsoft-windows-2008-r2-and-windows-7/",
  "title": "Sysprep goes wrong on Microsoft Windows 2008 R2 and Windows 7",
  "description": "",
  "date": "February 11, 2011",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "sysprep, windows-2008-r2, windows-7",
  "tags": "sysprep, windows2008, windows7",
  "content":"This week I encountered a problem with Sysprepping a Microsoft Windows 2008 R2 VM after cloning. I cloned an existing VM and used a Customization Specification in vSphere vCenter for the Sysprep. When the Sysprepped Microsoft Windows 2008 R2 VM reboots, the following message appears:\nWindows could not finish configuring the system. To attempt to resume configuration, restart the computer.\nEvery time when restarting the VM, the message appears. After some troubleshooting such as disable services and active software before the Sysprep I found Microsoft Knowledgebase article “A Windows 7 or a Windows Server 2008 R2 image deployment process stops when you try to deploy the image on another computer” KB981542 . It stated that the Sysprep problem occurs if the original operating system contains a registry key that is larger than 8 kilobytes (KB). After installing the hotfix I was able the Sysprep the Microsoft Windows 2008 R2 VM. The Sysprep problem occurs on Windows7 and Microsoft Windows 2008 R2.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2010/12/17/post-checks-after-upgrading-to-vmware-vsphere-4-1/",
  "title": "Post checks after upgrading to VMware vSphere 4.1",
  "description": "",
  "date": "December 17, 2010",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "upgrade, vSphere",
  "tags": "upgrade, vpshere",
  "content":"Memory Limits When adding existing VMware ESX servers (for example 3.5) to the VMware vCenter 4.1 server, all the VMs got a memory limit.\nTo reset the memory limits to unlimited for all VMs, use the following PowerCLI script:\nConnect-VIServer \u0026lt;servername\u0026gt; Get-VM | Get-VMResourceConfiguration | Where-Object {$\\_.MemLimitMB -ne ‘-1‘} | Set-VMResourceConfiguration -MemLimitMB $null VMware ESX NICs as fixed Already mentioned earlier in the “Change NIC speed and duplex setting to AUTO in ESX4 using PowerCLI” blogpost. The VMware ESX installation set by default each NIC in the VMware hosts to fixed. To change every NIC from fixed to auto negotiate use the following PowerCLI script\nConnect-VIServer \u0026lt;servername\u0026gt; Get-VMHostNetworkAdapter | Set-VMHostNetworkAdapter –AutoNegotiate Active Directory Web Services warnings in the vCenter server event log The following warning is flooding the vCenter event log:\nActive Directory Web Services encountered an error while reading the settings for the specified Active Directory Lightweight Directory Services instance. Active Directory Web Services will retry this operation periodically. In the mean time, this instance will be ignored.\nInstance name: ADAM_VMwareVCMSDS EventID: 1209\nThe Port SSL value is created as a REG_SZ instead of a REG_DWORD. To solve this warning open the Windows registry editor (regedt32) and browse to:\nHKLM\\System\\CurrentControlSet\\Services\\VMwareVCMSDS\\Parameter Delete the “Port SSL” value Create a new ““Port SSL” value as REG_DWORD and give it the data 636. Restart the ADM instance "},{
  "section": "Blog",
  "slug": "/logbook/site/2010/12/03/test-microsoft-hyper-v-r2-server-on-your-laptop-with-virtual-hard-disk-vhd/",
  "title": "Test Microsoft Hyper-V R2 server on your laptop with Virtual Hard Disk (VHD)",
  "description": "",
  "date": "December 3, 2010",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v, microsoft",
  "tags": "hyper-v-2, microsoft",
  "content":"When you want to test some Microsoft Hyper-V R2 stuff it’s handy to do that on your laptop. I test a lot stuff on my laptop equipped with Microsoft Windows 7, 8GB RAM and VMware Workstation. Installing Microsoft Hyper-V R2 for example in VMware Workstation is possible, but it is not possible to start any Virtual Machines (VMs). Microsoft Hyper-V requires a processor with Intel-VT or AMD-V with the No-Execute (NX) feature. In VMware Workstation the virtual CPU has no VT.\nSo how could I test Microsoft Hyper-V R2 and start VMs on my laptop? The solution is by using Virtual Hard Disks (VHDs).\nMicrosoft Windows 7 and Microsoft Windows 2008 R2 provides native support for Virtual Hard Disks (VHD). With Windows 7 (Enterprise and Ultimate editions) and Windows 2008 R2 (All versions except Windows 2008 R2 Foundation) you can create, configure and boot from VHD.\nHere’s how to create, install and boot the VHD equipped with Microsoft WIndows 2008 R2 (so you could install the Microsoft Hyper-V role) in Microsoft Windows 7.\nStep 1 Create a VHD using Disk Management\nIn Microsoft Windows 7 open Disk Management (diskmgmt.msc) From the Action menu choose ‘Create VHD’ Select the location to store the VHD disk file and choose a VHD size. For the best performance use a fixed size. Initialize the VHD disk and assign a drive letter, a name and format the disk. In this example the VHD has drive letter G. Step 2 Transfer the image to the VHD\nMount the ISO image of Windows 2008 R2 (available for MSDN and TechNet subscribers). The ISO contains multiple images of different versions of Windows 2008 R2 and Windows 7. Here’s a list with the corresponding index number and the WIM images (found in the Install.wim). Now we need to apply he WIM image to the VHD partition by using the ‘Install-WindowsImage.ps1’ PowerShell script. This PowerShell script does the following:\nThe Install-WindowsImage PowerShell script uses the wimgapi.dll in Windows 7 or Windows Server 2008 R2 to apply a Windows image in a .wim file to a specified location. The script can be used to apply a Windows 7 or Windows Server 2008 R2 .wim image to a Virtual Hard Disk (VHD) used for native VHD boot or to boot in a Hyper-V virtual machine.\nDownload the ‘Install-WindowsImage’ PowerShell script here . Open PowerShell and and use the following syntax to apply the image to the VHD.: .\\Install-WindowsImage.ps1 –WIM \u0026lt;CDROMDriveLetter\\sources\\install.wim\u0026gt; -Apply -Index WIMimagenumber –Destination Example:\nInstall-WindowsImage.ps1 -WIM Z:\\\\sources\\\\install.wim -Apply -Index 3 -Destination G: The WIM image is now applying to the VHD. This can take up to 15 minutes. Step 3 Prepare the VHD image for native boot\nOpen the command prompt (RUN as Administrator) Create a new Boot Configuration Data (BCD) entry for native boot using the following syntax: g:\\Windows\\\\System32\\bcdboot g:\\Windows Using the command bcdedit command you can see the new boot entry pointing to the VHD image To change the default boot options use the bcdedit –v command to list the associated GUID numbers. Use the bcdedit / default {GUID} command to set the default boot config. A easier option is to use the MSCONFIG command to set the default boot entry and the timeout. When restarting Microsoft Windows 7, there is an extra option for booting the Windows 2008 R2 server OS and your able to install the Microsoft Hyper-V R2 role.\nMore information can be found in the Microsoft Windows 2008 R2 Getting Started with Virtual Hard Disks document.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2010/10/25/install-vmware-esxi-4-1-from-bootable-usb-stick/",
  "title": "Install VMware ESXi 4.1 from bootable USB stick",
  "description": "",
  "date": "October 25, 2010",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "boot, esxi, usb, vSphere",
  "tags": "boot, esxi-2, esxi-4-1, usb, VMware, vSphere",
  "content":"Not all servers nowadays have a DVD player installed. Sometimes it is handy to boot from USB and installing a single VMware ESXi server. Here’s a example how to make the USB stick bootable and install VMware ESXi 4.1 from it by using Windows.\nPreparation:\nNeed 1GB USB memory stick or more. Download the VMware ESXi 4.1 ISO named VMware-VMvisor-Installer-4.1.0-260247.x86_64.iso (In this example I used the VMware vSphere Hypervisor version). Update: The latest version of VMware ESXi is 4.1 Update 1 (VMware-VMvisor-Installer-4.1.0.update1-348481.x86_64.iso). It solves the “Total number of sectors” bug in VMware ESXi 4.1. It is recommend to use this version so the “mod.tgz” workaround isn’t needed anymore!\nDownload Syslinux, can be found by clicking on the following link . Download the latest Syslinux zip file (when writing this article syslinux-4.02.zip was the latest). Update: Also tested Syslinux version 4.03.\nStick the USB stick on a free USB port on your computer equipped with a Windows OS. For this example I used Windows7 as Operating System. Clear the USB stick and create a partition on it by using the following command’s:\nOpen the command prompt and enter the following commands: Diskpart (make sure you run diskpart as administrator)\rlist disk (list the disk in your system including the USB)select disk USB number\rclean\rcreate partition primary\ractive\rformat fs=fat32 quick\rassign\rexit To make the USB stick bootable:\nExtract the Syslinux ZIP and browse to the the \\syslinux\\win32 folder, execute “syslinux [drive letter USB stick]”, example syslinux f: Mount the ISO and copy all the content of the VMware ESXi 4.1 ISO to the USB stick. For mounting the ISO, I used ‘Deamon Tools Lite’ tool. Rename the isolinux.cfg file to syslinux.cfg Edit the syslinux.cfg and add ks=usb and on the end of the append line \u0026mdash; mod.tgz (beware of the space between \u0026mdash; and the mod.tgz). Update: When using VMware ESXi 4.1 Update 1 the mod.tgz line doesn’t need to append!\ndefault menu.c32\rmenu title VMware VMvisor Boot Menu\rtimeout 80\rlabel ESXi Installer\rmenu label ^ESXi Installer\rkernel mboot.c32\rappend vmkboot.gz ks=usb --- vmkernel.gz --- sys.vgz --- cim.vgz --- ienviron.vgz --- install.vgz --- mod.tgz\rlabel ^Boot from local disk\rmenu label ^Boot from local disk\rlocalboot 0x80 Create a ks.cfg file in the root from the UBS stick. For example: rootpw VMware01\rinstall usb\rautopart --firstdisk --overwritevmfs\rreboot\r#Network install type\rnetwork --bootproto=static --addvmportgroup=false --device=vmnic0 --ip=192.168.1.10 --netmask=255.255.255.0 --gateway=192.168.1.1 --nameserver=192.168.1.1 --hostname=ESXi-01.beerens.local\raccepteula\r%firstboot --unsupported --interpreter=busybox\rvim-cmd hostsvc/datastore/rename datastore1 \u0026#34;$(hostname -s)-local-storage-1\u0026#34; Copy the syslinux-4.02\\com32\\mboot\\mboot.c32 file the USB stick (overwrite the old file on the USB stick)\nCopy the syslinux-4.02\\com32\\menu\\menu.c32 file the USB stick (overwrite the old file on the USB stick)\nThe bootable VMware ESXi 4.1 stick is ready for use. When booting the USB stick the following message is displayed “Total number of sectors not a multiple of sectors per track! Add mtools_skip_check=1 to your .mtoolsrc file to skip this test”.\nUpdate: When using VMware ESXi 4.1 Update 1 this bug is fixed. You’re ready to use the USB stick!\nOn the VMware communities I found the following post . This post states a manual solution by using the following commands:\nPress ALT-F1 Login by using the root account with no password echo “mtools_skip_check=1”\u0026gt;.\\mtoolsrc ALT+F2 and return to the orginal Console window Press ENTER or wait to continue To automate the above solution read the following blogpost “VMware ESX 4.1 install using Western Digital USB Hard Drive” . By using this blogpost I created a mod.tgz file by using the following commands from a full installation of VMware ESXi 4.1:\nLogin the VMware ESXi 4.1 console Make a directory in the root for example mkdir temp cd temp mkdir –p etc/VMware/init/init.d/ cd etc/VMware/init/init.d/ vi 47.mtoolshack echo \u0026#34;mtools\\_skip\\_check=1\u0026#34; \u0026gt;/.mtoolsrc\rreturn ${SUCCESS} Save the fi using the command :wq in VI cd /temp tar czvf mod.tgz etc SCP the file mod.tgz file to the USB stick The mod.tgz can also downloaded, so the above steps can be skiped. On the end of this article is a download link for the mod.tgz.\nThe mod.tgz contains an init script which skips the mtools check. Now you’re ready to boot your server with the USB stick and your able to install VMware ESXi 4.1.\nDownload mod.tgz Update : When using VMware ESXi 4.1 Update 1 there is no need to add the mod.tgz because this bug is fixed.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2010/10/21/install-microsoft-hyper-v-server-r2-from-usb/",
  "title": "Create a bootable USB to install Windows 8 Server or  Hyper-V Server 8",
  "description": "",
  "date": "October 21, 2010",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v, usb, windows-8",
  "tags": "boot, hyper-v-2, hyper-v-r2, usb, windows-8",
  "content":"Not all servers nowadays have DVD player installed. Sometimes it is handy to boot from USB and install for example Windows Server 8. Here’s a example how to make the USB stick bootable for the following OS versions:\nWindows Server 8 Hyper-V Server 8 Server 2008 R2 Hyper-V Server R2 Preparation: Need a 4 GB USB memory stick or more Download the desired ISO and save it Stick the USB stick on a free USB port on your computer equipped with a Windows OS. For this example I used Windows7 as Operating System. Clear the USB stick and create a partition on it by using the following command’s:\nOpen the command prompt ((make sure you run the cmd prompt as administrator)\nCommands:\ndiskpart list disk \u0026#34;list the disk in your system including the USB\u0026#34;\rselect disk \u0026#34;USB number\u0026#34;\rclean\rcreate partition primary\ractive\rformat fs=fat32 quick\rassign\rexit Mount the ISO and copy all the content of the desired ISO to USB stick. For mounting the ISO I used “Deamon Tools Lite”.\nNow the bootable stick is ready for use. Boot your server with the stick and your able to install Windows 8, Windows 8 Server, 2008 R2 or Hyper-V server 8.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2010/10/16/vmword-europe-2010-recap/",
  "title": "VMword Europe 2010 recap",
  "description": "",
  "date": "October 16, 2010",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vmworld",
  "tags": "vmworld",
  "content":"This week I visited Copenhagen for VMworld Europe 2010. With over 6000 attendees, 1300 more than last year in Cannes (France). On Monday there were partners sessions and in the afternoon is was already possible to do labs. VMware opened the labs earlier because of the overwhelming amount of VMware registrations.\nThe labs were hosted by the cloud providers Terremark (Miami) and Verizon (Ashburn). Via the Colt provider in England the access to the both datacenters was possible. In Copenhagen VMware announced that Colt is the first European VMware vCloud datacenter service provider.\nIn total there were 30 labs with 23,5 hours of lab time and 240 seats with PCoIP enabled zero clients with dual monitor. All the 240 seats are able to deliver the every lab. This is great improvements with earlier years of VMworld Europe. I did around 10 labs. The best labs I found the two labs about VMware vCloud Director and vShield lab. The overall performance was good. The total amount of labs completed during VMworld is 5948!\nOn Tuesday VMworld officially begins with the keynote (general session). It was almost the same keynote as in San Francisco. So the ‘new’ announcements were limited! The keynote can be found by clicking the following link .\nThis picture summarizes the keynote: The keynote makes the direction of VMware for the coming years very clear.\nThere were a lot of breakout sessions during the three days. My personally top 5 sessions I attended are:\nSRM Futures: Failback Automation, Workload Mobility and More (Lee Dilworth and Jacob Jensen); Planning and Designing an HA Cluster that Maximizes VM Uptime (Duncan Epping, and Marc Sevigny); PowerCLI is for Administrators (Alan Renouf and Luc Dekens); Tech Preview: Storage DRS (Irfan Ahmad); Performance Best Practices for vSphere (Scott Drummonds and Kaushik Banerjee). The Solution Exchange was filled with 113 exhibitors. I visited several boots during the three days and talked to vendors about their products. In the evenings there were every day one of more parties. My number one was the VMware Benelux party on Thursday in Club Nasa. Great party!\nSummarized I had good conversations, learned a lot and met great people. Looking already forward to VMworld 2011………………………………….\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2010/10/07/guides-on-esxtop-and-vcenter-metrics/",
  "title": "Guides on esxtop and vCenter metrics",
  "description": "",
  "date": "October 7, 2010",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxtop, metrics, vSphere",
  "tags": "esxtop, metrics, vSphere",
  "content":"Here’s are some links to guides on esxtop and vCenter metrics in vSphere 4.x:\nvCenter Performance counters for vSphere 4 "},{
  "section": "Blog",
  "slug": "/logbook/site/2010/09/24/free-ticket-for-vmworld-2010-copenhagen/",
  "title": "Free ticket for VMworld 2010 Copenhagen",
  "description": "",
  "date": "September 24, 2010",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware, vmworld",
  "tags": "VMware, vmworld",
  "content":"The Dutch ICT website Computable _ recently raffled a VMworld 2010 Copenhagen ticket among his followers on Twitter. Last week i was the lucky winner of the free ticket for VMworld Europe 2010. How cool is that!\nYesterday i had a interview about my expectations on VMworld 2010 in Copenhagen. The interview (Dutch) can be found by clicking on this link .\nDuring the VMworld 2010 Copenhagen there will be a daily report on the Computable website with highlights, experiences and discoveries from my side on. This will be a cooperation with the editor Jolein van Rooij from Computable.\nVMUG party\nTraditional there will be a Dutch VMUG party on Monday. This year there will be a central VMUG party. You can not register for this meeting.To ensure that you are familiar with VMware VMUG member register on the Dutch VMUG website. VMUG Netherlands works with an independent database which is not linked to the database VMUG VMware. More information about this VMUG party can be found here.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2010/09/22/vmware-rawc-1-2-and-healthanalyzer-3-0-1-released/",
  "title": "VMware RAWC 1.2 and HealthAnalyzer 3.0.1 released",
  "description": "",
  "date": "September 22, 2010",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "",
  "content":"VMware Desktop RAWC 1.2 provides support for 64-bit Windows 7 on target desktop VMs, so your desktop VMs can now run Windows 7 (32- or 64-bit), or Windows XP with SP2 or SP3. For more information check earlier other post on RAWC.\nVMware Desktop RAWC 1.2 provides support for 64-bit Windows 7 on target desktop VMs, so your desktop VMs can now run Windows 7 (32- or 64-bit), or Windows XP with SP2 or SP3. For more information check earlier other post on RAWC.\nVMware HealthAnalyser 3.0.1 VMware HealthAnalyzer release 3.0.1 is a maintenance release patch that provides bug fixes. It includes all of the patches (hotfixes) released since HealthAnalyzer 3.0 GA. For more information check my earlier post on the VMware HealthAnalyzer.\nBoth tools are now available on the VMware Partner Central website.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2010/09/14/vote-for-the-top-25-virtualization-bloggers-list/",
  "title": "Vote for the top 25 virtualization bloggers list",
  "description": "",
  "date": "September 14, 2010",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware",
  "tags": "VMware",
  "content":"Eric Siebert from vSphere-Land has opened the voting for the top 25 virtualization bloggers list. Voting is very easy by clicking on the link provided. It takes only one minute. Choose your 10 favorites blogs and rank them in order of preference. The voting is from 14 September till 24 September 2010.\nTwo random voters will be picked to win a copy of the book, Maximum vSphere or a copy of the Train Signal vSphere Pro Series Vol. 2 video training course.\nIf you like my blog (it’s called virtual lef on the voting website) and all the other virtualization blogs, please vote for their hard work and dedication!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2010/09/03/vmware-news-vmworld-2010-san-francisco/",
  "title": "VMware news VMworld 2010 (San Francisco)",
  "description": "",
  "date": "September 3, 2010",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware, vSphere",
  "tags": "vmworld, vSphere",
  "content":"This week a lot of “new” announcements made at the VMworld 2010 conference in San Francisco. Here are some highlights:\nVMware View 4.5 VMware 4.5 is released. Here are some improvements in version 4.5:\nSupport for VMware vSphere 4.1 Full Windows 7 support Offline support View client for Mac ThinApp entitlement Storage tiering Role Based delegation ThinApp package assignment, Link video. The profile management (RTO software) solution is not included in this release and the security server does still not support the PCoIP protocol!\nMore information on VMware View 4.5 can be found on the VMware View product page or on the VMware View blog.\nVMware View client for the iPAD VMware is creating a VMware View client for the iPAD with PCoIP support. Here is a interview with Warren Ponder, the product manager for the VMware View iPad client.\nWyse has the PocketCloud application for the iPhone or iPAD. The Wyse Pocketcloud uses the RDP protocol for connecting to VMware View desktops. The PCoIP protocol is not supported yet.\nvSphere Management app for the iPAD VMware is developing a vSphere management application for the iPAD. Click on this link for a demo.\nVMware Converter standalone 4.3 The VMware vCenter Converter Standalone 4.3 includes the following new functionality:\nSupport for VMware vSphere 4.1 as source and destination targets Support for importing powered-off Microsoft Hyper-V R1 and Hyper-V R2 Public API and sample code for submitting and monitoring Converter jobs Support for importing Windows 7 and Windows 2008 R2 sources Ability to throttle the data transfer from source to destination based on network bandwidth or CPU IPv6 support Discontinued Support options**:**\nSupport of the following operating systems is discontinued: Windows 2000\nWindows NT\nSupport for OVF format is discontinued Support for VCB image sources is discontinued Linux installation support is discontinued End of VMware ESX The future releases of VMware will only contains ESXi and not ESX anymore. VMware ESX 4.1 is the last version with the full version of VMware ESX including the COS (Service Console).\nVMware vClould Director (vCD) Pool virtual infrastructure resources in your existing datacenter and deliver them to users as a catalogue-based service with VMware vCloud Director. Coupled with VMware vSphere™, the best platform for cloud infrastructures, VMware vCloud Director enables customers to build secure private clouds, transforming the way IT delivers and manages infrastructure services and the way users access and consume these services\nVMware vShield VMware announced the three new security products:\nVMware vShield Endpoint – Offloaded Anti-virus and Anti-Malware VMware vShield App – Application protection from Network–Based Threats VMware vShield Edge – Security for Edge of the Virtual Datacenter VMware vShield Endpoint is very interesting for VMware View environments. This solution can reduce the IOPS needed for every View desktop.\nI hope there are still new announcements over for the VMword 2010 in Copenhagen.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/blog/2010/08/vms-with-dropped-packets-drprx/",
  "title": "VMs with dropped packets %DRPRX",
  "description": "",
  "date": "August 20, 2010",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "troubleshooting, VMware, vSphere",
  "tags": "troubleshooting, VMware, vSphere",
  "content":"During a health check of a vSphere environment i notices dropped packets on several VMs. In ESXTOP the %DRPRX value showed dropped receive packets on several VMs. In the screenshot an example:\nThe customer uses vSphere 4.0 build 244038. All the VMs that experiencing the dropped packets problem were Windows 2008 with an E1000 NIC.\nE1000 — An emulated version of the Intel 82545EM Gigabit Ethernet NIC. A driver for this NIC is not included with all guest operating systems. Typically Linux versions 2.4.19 and later, Windows XP Professional x64 Edition and later, and Windows Server 2003 (32-bit) and later include the E1000 driver.\nOn of the Windows 2008 VMs had no packets drops. The only difference with the other VMs was that the IPv6 protocol binding on the NIC was disabled. After disabling the IPv6 protocol binding on all the other VMs the packet drops is disappear.\nSome services require the IPv6 binding, so disabling the IPv6 binding was no option for the customer. All the other Windows 2008 machines with the VMXNET3 NIC and IPv6 enabled had no packet drops. After changing all the VMs with Windows 2008 and the E1000 NIC to the VMXNET3 NIC solves the problem.\nThe VMXNET 3 adapter is the next generation of a paravirtualized NIC designed for performance, and is not related to VMXNET or VMXNET 2. It offers all the features available in VMXNET 2, and adds several new features like multiqueue support (also known as Receive Side Scaling in Windows), IPv6 offloads, and MSI/MSI-X interrupt delivery.\nWhenever possible i suggest to use the VMXNET3 driver for Windows 2008 Operating Systems.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2010/08/11/things-to-consider-when-upgrading-to-vsphere-4-1/",
  "title": "Things to consider when upgrading to vSphere 4.1",
  "description": "",
  "date": "August 11, 2010",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "upgrade, VMware",
  "tags": "scripted, vcenter, VMware, vSphere, vSphere-4-1",
  "content":"The new vSphere 4.1 release offers a lot of new cool features and enhancements. Here’s a list What’s New in vSphere 4.1. When upgrading to vSphere 4.1 there are a couple of things to think about before starting:\nMake sure your systems and components are supported, check the Hardware Compatibility Guide . Verify that other products are compatible with vSphere 4.1. For example VMware View 4 is not supported on vSphere 4.1. VMware View composer does not support 64-bit operating systems. vCenter 4.1 server requires a 64-bit OS. 32-bit Operating Systems are not supported anymore for vCenter 4.1 server. vSphere 4.1 and its subsequent update and patch releases are the last releases to include both ESX and ESXi hypervisor architectures. Future major releases of VMware vSphere will include only the VMware ESXi architecture. For this reason, VMware recommends that deployments of vSphere 4.x utilize the ESXi hypervisor architecture. When migrate to ESXi all the script and programs (such as hardware monitoring agents and backup agents), that uses the Service Console needs to replaced. More information can be the following links ESX4.1 is the last ESX what do i do now and in the ESXi41 Migration Guide . vSphere 4.1 support scripted installation for ESXi. You cannot use scripted installation to install ESXi to a USB device! Here are some good links for scripted ESXi 4.1 installations: Kenneth van Ditmarsch, Setting up vSphere ESXi 4.1 scripted installation , Kendrick Coleman, ESX 4.1 Kickstart install . ESXi comes in two editions, the vSphere Hypervisor (free version) with limited features and the enterprise ESXI. The VMware Knowledgebase has best practices for installing and upgrading vSphere 4.1. Installing ESX 4..1 and vCenter 4.1 best practices and Upgrading to ESX 4.1 and vCenter 4.1 best practices . Get yourself familiar with tools as PowerCLI, vCLI and the **VMware Management Assistant (vMA).**These tools helps you to automate, configure and troubleshoot vSphere 4.1 environments. More information can be found on the following link developer "},{
  "section": "Blog",
  "slug": "/logbook/site/2010/07/27/vmware-healthanalyzer-3-0-available/",
  "title": "VMware HealthAnalyzer 3.0 available",
  "description": "",
  "date": "July 27, 2010",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "tools, VMware",
  "tags": "ictivity, tools, VMware",
  "content":"VMware HealthAnalyzer automates the collection of VMware Infrastructure or VMware vSphere™ inventory, configuration and utilization data, analyzes data and recommends grades, and generates a report card that presents observations, findings and data categorized by VMware Health Check best practices. HealthAnalyzer can be used by VMware consultants and VMware Solution Providers to improve efficiency and accelerate the delivery of a services engagement such as the VMware Health Check. Consultants can use HealthAnalyzer as a Health Check workbench to capture and review observations, findings, and data, provide actionable recommendations, and generate a Health Check Report for your customer.\nWhat’s new in VMware HealthAnalyzer version 3.0:\nA new catalog of best practices developed for VMware vSphere Observations tab presents observations (summary of findings),recommendations and a justification for each analyzed best practice area Enhanced best practices navigation pane that provides powerful filtering and grouping capabilities Collection of VMware VirtualCenter/vCenter diagnostics data New Virtual Appliance Web Console Management User Interface Support for running the HealthAnalyzer virtual application on Windows 7 Base Health Check mode enables use of HealthAnalyzer as a presales tool Select observations/BP to include in the Health Check report New Health Check Report A new catalog of best practices developed for VMware vSphere VMware HealthAnalyzer 3.0 is available at the VMware partner central.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2010/03/23/trainsignal-vmware-vsphere-pro-series-vol-1/",
  "title": "TrainSignal VMware vSphere Pro Series Vol .1",
  "description": "",
  "date": "March 23, 2010",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "training, vSphere",
  "tags": "training, VMware, vSphere",
  "content":"VMware View \u0026amp; ThinApp Presented by David Davis covers the following topics:\nView Overview and introduction Installing VMware View 4 Deploying Virtual Desktops with View Automated Virtual Desktop Deployment with View Pools Adding a Terminal Services Pool in View Understanding View Composer Linked Clones Introduction to ThinApp 4 Installing ThinApp Virtualizing Applications with ThinApp Managing VMware vSphere with PowerCLI presented by Hal Rottenberg covers the following topics:\nIntroduction to PowerCLI, PowerShell Basic PowerCLI Concepts PowerCLI in the Real World PowerCLI Cmdlet Deep dives Cisco Nexus 1000V - VMware vSphere Third-Party Virtual Distributed Switch presented by Rick Scherer covers the following topics:\nGetting Started with Nexus 1000V Integrating the Cisco Nexus 1000V with vCenter server High Availability Options for the Cisco Nexus 1000V Configuring Port Profiles on the Cisco Nexus 1000V The VMware vSphere Pro Series Vol .1 video package contains:\n20 Videos (10 hrs: 39mins: 50secs) will be provided in High-Quality AVI and WMV format. In other words, you get perfect quality and replication of your instructors’ screens. An easy-to-use table of contents allows you to navigate to key areas you wish to focus on Instant Access to all 20 Videos (10 hrs: 39mins: 50secs) in Train Signal’s My Online Training section. These high resolution videos allow you to access any and all of this award winning training in just moments. No need to wait for the DVDs to arrive to get started learning. You can be watching video in just moments and it’s all included for free. 20 iPod video files to watch Train Signal on the go! A popular request amongst our students who wish to study while they commute (i.e. train, plane, bus). These 320x240 M4V files are compressed versions of the original course, and play on any iPod that supports video. Also great for reviewing and refreshing your mind \u0026ldquo;on the job.\u0026rdquo; 20 MP3 audio files to listen to Train Signal anytime, anywhere. Some of our students have requested this option. Now, you can listen in the car or while working out. Our MP3 files can be burnt to a CD or copied to a portable device Instructor Notes - These PDF documents, which can be printed out, contain the slides used by the instructors throughout the videos. These documents allow the user a quick easy reference to the instructors’ notes on the slides, and provides a place to make additional notes. The content presented by the VMware vExperts in the video’s is very good. If you want to know more about VMware View and ThinApp, PowerCLI or the Cisco Nexus 1000V this is a must see video package! For more information about this training video and watch a demo go to the TrainSignal website.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2010/03/22/change-nic-speed-and-duplex-setting-to-auto-in-esx4-using-powercli/",
  "title": "Change NIC speed and duplex setting to AUTO in ESX4 using PowerCLI",
  "description": "",
  "date": "March 22, 2010",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "",
  "content":"When you install VMware ESX 4 by using the default installation method from for example the DVD, the NIC speed and duplex setting are set to fixed for each NIC. This means that the network switch port must be set to fixed too. In VMware ESX 3 the default NIC mode was Auto Negotiate In the vCenter clients this looks like:\nYou can easily change the NIC speed and duplex settings to auto Negotiate for all NICs in the ESX host by using PowerCLI. This can be done by using the following one-liner: Get-VMHostNetworkAdapter | Set-VMHostNetworkAdapter –AutoNegotiate Be sure when you execute this command in production environment, that the VMware ESX hosts is in maintenance mode!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2010/03/11/ways-to-patch-your-vmware-esxi-hosts/",
  "title": "Ways to patch your VMware ESX(i) hosts",
  "description": "",
  "date": "March 11, 2010",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esxupdate, patch, update, vum",
  "tags": "patch",
  "content":"There are different ways to patch your VMware ESX(i) 4 hosts. The most common utilities are VMware Update Manager (VUM), vSphere Host Update Utility and the esxupdate command line utility (run from the Service Console) to patch your VMware environment. Here’s explained the differences between them.\nVUM can be used to automated patch your complete environment without user intervention. ESX(i) host are automatically placed in maintenance mode and VM’s are migrated to other VMware ESX(i) host using VMotion and DRS techniques, the host is patched, rebooted and exiting maintenance mode. VUM is used on enterprise environments.\nvSphere Host Update Utility can be used to patch only VMware ESXi (not ESX) hosts. Normally this utility is used in small ESXi environments without VUM, VMotion and DRS.\n\u0026nbsp;\n\u0026nbsp;\nVUM utilityvSphere Host Update Utility\rESXupdate command, this command line utility (in the service console) can be used to patch your standalone VMware ESX host, for example the vSphere Essentials edition. This small business version comes with for example VMware ESX, vCenter and VMware Update Manager. But when your vCenter server is installed virtually as VM you are not able to transfer the VM to another host because there is no VMotion in the license. All the VMs must be shutdown including the vCenter VM to put the host in maintenance mode. So you can’t use VMware Update Manager. Now you need the esxupdate command. Here are the steps for using the ESXupdate command:\nThe first thing is to download the patch bundles. A bundle contains a metadata zip which defines the bulletins available for installation. This is a great improvement to earlier versions of VMware ESX. It’s possible to select all patch bundles and download them at once. The patch bundles can be found here . Upload the patch bundles on the VMware ESX VMFS or NFS partition (other options such as HTTP repository are also possible). This can be done by using the datastore browser in the vCenter client. Shutdown all VMs on the VMware ESX host to patch using the .vSphere client or the VMware-cmd command. Put the host in maintenance mode using the vSphere client or the following command: vimsh -n -e /hostsvc/maintenance\\_mode\\_enter Check the integrity of the patch bundle with the esxupdate –check –bundle command. Do this for all patch bundles. Install the patch using the esxupdate update –bundle command. Install all patch bundles beginning with the oldest patch bundle. Exit maintenance mode by using the vSphere client of the following command: vimsh -n -e /hostsvc/maintenance\\_mode\\_exit Reboot the hosts vSphere client of the following command: shutdown –r now Here’s a sample script:\nvimsh -n -e /hostsvc/maintenance\\_mode\\_enter\resxupdate check --bundle ESX400-200906001.zip\resxupdate update --bundle ESX400-200906001.zip\resxupdate check --bundle ESX400-200907001.zip\resxupdate update --bundle ESX400-200907001.zip\resxupdate check --bundle ESX400-200909001.zip\resxupdate update --bundle ESX400-200909001.zip\resxupdate check --bundle ESX-4.0.0-update01a.zip\resxupdate update --bundle ESX-4.0.0-update01a.zip\resxupdate check --bundle ESX400-200912001.zip\resxupdate update --bundle ESX400-200912001.zip\resxupdate check --bundle ESX400-201002001.zip\resxupdate update --bundle ESX400-201002001.zip\rvimsh -n -e /hostsvc/maintenance\\_mode\\_exit\rshutdown -r now "},{
  "section": "Blog",
  "slug": "/logbook/site/2010/02/19/vmware-view-manager-4-0-1-released/",
  "title": "VMware View Manager 4.0.1 released",
  "description": "",
  "date": "February 19, 2010",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware-view",
  "tags": "VMware-view",
  "content":"VMware View Manager 4.0.1 is released. This release includes the following new features:\nLocalization of VMware View The View Client and online help for View Client are now available in Japanese, French, German, and simplified Chinese. The View Manager Administration Guide, View Manager Release Notes, Getting Started with VMware View document, View Upgrade Guide, and View Architecture Planning Guide are also available in these languages.\nVirtualCenter 2.5 Update 6 and ESX 3.5 Update 5 Support View Manager 4.0.1 includes support for VirtualCenter 2.5 Update 6 and ESX 3.5 Update 5.\nEnhancements to the PCoIP Display Protocol PCoIP now supports the following features:\nVirtual Printing, which allows end users to use local or network printers from a View desktop without requiring that additional print drivers be installed in the View desktop. Single sign-on support for third party providers such as Sentillion and Imprivata. View Client supports international keyboards when using PCoIP. Important: VMware View 4.0.1 requires VMware vSphere 4 Update 1. VMware View 4.0.1 supports the versions of vSphere and VMware Infrastructure listed in the System Requirements section of the VMware View Manager Administration Guide and VirtualCenter 2.5 Update 6 and ESX 3.5 Update 5.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2010/02/10/vmware-esx-post-installation-configuration-via-powercli/",
  "title": "VMware ESX Post installation configuration via PowerCLI",
  "description": "",
  "date": "February 10, 2010",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "powercli, PowerShell",
  "tags": "configuration, post-config, powercli, PowerShell",
  "content":"I made a simple example script using the VMware PowerCLI that can be used to do the post installation configuration of a VMware ESX 4 server. This script does the following things:\nConnect to VMware ESX server Set the SC memory to 800MB Creates vSwitch2 and add vmnic2 and vmnic3 Add several PortGroups and VLANs to vSwitch2 Remove default PortGroup VM Network Creates a VMkernel VMotion port with IP address, subnetmask and VLAN Add vmnic0 and vmnic1 to vSwitch0, set for the VMotion port vmnic1 active and vmnic0 standby and for the Service Console port vmnic0 active and vmnic1 standby Configure NTP servers and open the firewall Sets advanced settings Disk.UseDeviceReset to 0 and Disk.UseLUNReset to 1 Sets he Qlogic HBA queue depth and the Disk.SchedNumReqOutstandig to 64 Enable VMhost Startup and stop Here’s the PowerCLI script:\n# Title: VMware ESX4 Post config # # Filename: esx4postconfig.sp1 # # Created by: Ivo Beerens # # Date: February 2010 # # Version: 1.0 # # Website: www.ivobeerens.nl # # E-mail: ivo\\[AT\\]ivobeerens.nl # # Variables # # vCenter name and port # $vcserver \\= \u0026#34;vc01\u0026#34; $portvc \\= \u0026#34;443\u0026#34; #Service Console memory # $SCMemory \\= 800 # default PortGroup # $DefaultPG \\= Get-VirtualPortgroup -Name \u0026#39;VM Network\u0026#39; # VMotion IP, subnetmask and VLAN $VMotionIP \\= “172.16.1.50“ $VMotionSubnet = “255.255.0.0“ $VMotionVLan =\u0026#34;3\u0026#34; \\# HBA Queue depth # $HBAqueudepth = 64 \\# vSwitch names # $Switch1 =\u0026#34;vSwitch0\u0026#34; $Switch2 =\u0026#34;vSwitch2\u0026#34; Connect-VIServer $vcserver -User root -Password idontknow -port $portvc # Set SC memory to 800MB # Get-VMHost | Get-View | %{(Get-View -Id $\\_.ConfigManager.MemoryManager).ReconfigureServiceConsoleReservation($SCMemory\\*1mb)} # Create vSwitch1 and add vmnic2 and vmnic3 # New-VirtualSwitch -Name $Switch2 -Nic vmnic2,vmnic3 # Add PortGroups and VLANs to the vSwitch2 # get-vmhost | Get-VirtualSwitch -Name $Switch2 | New-VirtualPortGroup -Name\u0026#34;VLAN999 Management\u0026#34; -VLANID 999 get-vmhost | Get-VirtualSwitch -Name $Switch2 | New-VirtualPortGroup -Name\u0026#34;VLAN100 Servers\u0026#34; -VLANID 100 get-vmhost | Get-VirtualSwitch -Name $Switch2 | New-VirtualPortGroup -Name\u0026#34;VLAN99 Clients Ser-D\u0026#34; -VLANID 99 get-vmhost | Get-VirtualSwitch -Name $Switch2 | New-VirtualPortGroup -Name\u0026#34;VLAN98 Clients Ser-B\u0026#34; -VLANID 98 get-vmhost | Get-VirtualSwitch -Name $Switch2 | New-VirtualPortGroup -Name\u0026#34;VLAN33 Secure LAN\u0026#34; -VLANID 33 get-vmhost | Get-VirtualSwitch -Name $Switch2 | New-VirtualPortGroup -Name\u0026#34;VLAN32 DMZ3\u0026#34; -VLANID 32 get-vmhost | Get-VirtualSwitch -Name $Switch2 | New-VirtualPortGroup -Name\u0026#34;VLAN31 DMZ1\u0026#34; -VLANID 31 get-vmhost | Get-VirtualSwitch -Name $Switch2 | New-VirtualPortGroup -Name\u0026#34;VLAN30 DMZ0\u0026#34; -VLANID 30 get-vmhost | Get-VirtualSwitch -Name $Switch2 | New-VirtualPortGroup -Name\u0026#34;VLAN7 VOiP\u0026#34; -VLANID 7 get-vmhost | Get-VirtualSwitch -Name $Switch2 | New-VirtualPortGroup -Name\u0026#34;VLAN1 Default\u0026#34;\\# Remove default Port Group after default installation # Remove-VirtualPortGroup -VirtualPortGroup $DefaultPG -Confirm:$false # Creates a VMkernel port VMotion on vSwitch0 # New-VMHostNetworkAdapter -PortGroup “VMotion“ -VirtualSwitch $Switch1 -IP $VMotionIP -SubnetMask $VMotionSubnet -VMotionEnabled:$true # Set VLAN of the VMotion VMkernel # $VMotionPG = Get-VirtualPortgroup -Name \u0026#39;VMotion\u0026#39; Set-VirtualPortGroup -VirtualPortGroup $VMotionPG -VlanId $VMotionVLan # Add vmnic0 and vmnic1 to vSwitch0 # $vs = get-virtualswitch -name $Switch0 Set-VirtualSwitch -VirtualSwitch $vs -Nic vmnic0,vmnic1 # Set VMotion vmnic1 active vmnic0 standby # get-virtualportgroup -name VMotion | Get-NicTeamingPolicy | Set-NicTeamingPolicy -MakeNicActive vmnic1 get-virtualportgroup -name VMotion | Get-NicTeamingPolicy | Set-NicTeamingPolicy -MakeNicStandby vmnic0 # Set Service Console vmnic0 active, vmnic1 standby # get-virtualportgroup -name \u0026#39;Service Console\u0026#39; | Get-NicTeamingPolicy | Set-NicTeamingPolicy -MakeNicActive vmnic0 get-virtualportgroup -name \u0026#39;Service Console\u0026#39; | Get-NicTeamingPolicy | Set-NicTeamingPolicy -MakeNicStandby vmnic1 # Configures NTP, add NTP servers, starts NTP and open the firewall port # Add-VmHostNtpServer -NtpServer \u0026#34;0.VMware.pool.ntp.org\u0026#34;Add-VmHostNtpServer -NtpServer \u0026#34;1.VMware.pool.ntp.org\u0026#34;Add-VmHostNtpServer -NtpServer \u0026#34;2.VMware.pool.ntp.org\u0026#34;Get-vmhostfirewallexception \u0026#34;NTP Client\u0026#34; | Set-VMHostFirewallException -enabled:$true # Advanced settings instellen # Set-VMHostAdvancedConfiguration -Name\u0026#34;Disk.UseDeviceReset\u0026#34; -Value 0 Set-VMHostAdvancedConfiguration -Name\u0026#34;Disk.UseLunReset\u0026#34; -Value 1 # Set the queuedepth for the Qlogic HBA and SchedNumReqOutstanding setting # Get-VMhostModule \u0026#34;qla2xxx\u0026#34; | Set-VMHostModule -Options\u0026#34;ql2xmaxqdepth\\=$HBAqueudepth\u0026#34; Set-VMHostAdvancedConfiguration -Name\u0026#34;Disk.SchedNumReqOutstanding\u0026#34; -Value $HBAqueudepth # Enable VMHostStartup # $VMstart = Get-VMHostStartPolicy Set-VMHostStartPolicy -VMHostStartPolicy $VMstart -Enabled:$true -StartDelay 60 -StopDelay 60 -StopAction GuestShutDown # Disconnect # disconnect-viserver -confirm:$false It’s easy to adjust the settings for your need. This shows the strength to use the PowerCLI for doing automation in VMware. If you have suggestions please let me know.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2010/01/19/best-practices-for-hp-eva-vsphere-4-and-round-robin-multi-pathing/",
  "title": "Best practices for HP EVA, vSphere 4 and Round Robin multi-pathing",
  "description": "",
  "date": "January 19, 2010",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "best-practices, hp-eva, multi-pathing, round-robin, vSphere",
  "tags": "hp-eva, multi-pathing, round-robin",
  "content":"To get your HP EVA storage system and VMware ESX hosts storage balances you get a better performance. Here are some Best practices.\nThe VMware vSphere and the HP EVA 4x00, 6x00 and 8x00 series are ALUA compliant. ALUA compliant means in simple words that it is not needed to manually identify preferred I/O paths between VMware ESX hosts and the storage controllers.\nWhen you create a new Vdisk on the HP EVA the LUN is set default set to No Preference. The No Preference policy means the following:\nController ownership is non-deterministic. The unit ownership is alternated between controllers during initial presentation or when controllers are restarted On controller failover (owning controller fails), the units are owned by the surviving controller On controller failback (previous owning controller returns), the units remain on the surviving controller. No failback occurs unless explicitly triggered. To get a good distribution between the controllers the following Vdisk policies can be used:\nPath A-Failover/failback\n– At presentation, the units are brought online to controller A – On controller failover, the units are owned by the surviving controller (B) – On controller failback, the units are brought online on controller A implicitly.\nPath B-Failover/failback\n– At presentation, the units are brought online to controller B – On controller failover, the units are owned by surviving controller (A) – On controller failback, the units are brought online on controller B implicitly.\nOn the HP EVA half of the Vdisks are set on path A-Failover/failback and the other half of the Vdisks are set to B-Failover/failback, so that they alternate between controller A and B. This can be done from the HP EVA command view. Now the vDisk are distributed between the two controllers we can go to the vSphere configuration. On every vSphere host perform an rescan or reboot.\nIn VMware vSphere the Most Recently Used (MRU) and Round Robin (RR) multi-pathing policies are ALUA compliant. Round Robin load balancing is now officially supported. These multi-path policies have the following characteristics:\nMRU: – Will give preference to an optimal path to the LUN – When all optimal paths are unavailable, it will use a non-optimal path – When an optimal path becomes available, it will failover to the optimal – Although each ESX server may use a different port through the optimal controller to the LUN, only a single controller port is used for LUN access per ESX server\nRound Robin: – Will queue I/O to LUNs on all ports of the owning controllers in a round robin fashion providing instant bandwidth improvement – Will continue queuing I/O in a round robin fashion to optimal controller ports until none are available and will failover to the non-optimal paths – Once an optimal path returns it will failback to it – Can be configured to round robin I/O to all controller ports for a LUN by ignoring optimal path preference. (May be suitable for a write intensive environment due to increased controller port bandwidth)\nThe fixed multi-path policy is not ALUA compliant and therefore not recommend to use. In vSphere 4 there is new multi-pathing framework. There are three core components:\nNative Multi-pathing Plugin (NMP), handles the multi-pathing configuration, communicates with the SATP and PSP to indentify path failure conditions. Storage Array Type Plugin (SATP), handles specific operations such as device discovery, error codes and failover. Path Selection Plugin (PSP), handles the best available path, there are three policies fixed, MRU and Round Robin. PSP are set per LUN, meaning that it is possible to have some LUNs use MRU and other use Round Robin policy. Best practice from HP is to change to PSP from MRU to Round Robin we use the following command in the Service Console:\nesxcli nmp satp setdefaultpsp --satp VMW\\_SATP\\_ALUA --psp VMW\\_PSP\\_RR Another Best practice is to set the IOPS (Default the IOPS value is 1000) with a value of 1 (controls how many IOs are sent down a given path before vSphere starts to use the next path) for every LUN by using the following command:\nfor i in \\`ls /vmfs/devices/disks/ | grep naa.600\\` ; do esxcli nmp roundrobin setconfig --type \u0026#34;iops\u0026#34; --iops\\=1 --device $i ;done But there is a bug when rebooting the VMware ESX server, the IOPS value reverted to a random value. More information can be found on the Virtual Geek blog from Chad Sakac. To check the IOPS values on all LUNs use the following command:\nfor i in \\`ls /vmfs/devices/disks/ | grep naa.600\\` ;\rdo esxcli nmp roundrobin getconfig --device $i ;done To solve this IOPS bug, edit the /etc/rc.local file on every VMware ESX host and and add the IOPS=1 command. The rc.local file execute after all init scripts are executed.\nAfter adding the IOPS=1 command restart the VMware ESX host and check the IOPS values when its back online.\nNow you can check if the the Round Robin policy is active and the LUNs are spread over the two controllers.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2009/12/28/vmware-desktop-reference-architecture-workload-simulator-rawc/",
  "title": "VMware Desktop Reference Architecture Workload Simulator (RAWC)",
  "description": "",
  "date": "December 28, 2009",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vdi, virtualization, VMware, VMware-view",
  "tags": "desktop, vdi, view, view-4, VMware",
  "content":"VMware released last week the desktop Reference Architecture Workload Simulator (RAWC).\nWhen validating VMware View designs it is important to simulate real world usage as closely as possible. The Desktop Reference Architecture Workload SImulator (RAWC) can be used to simulate a user workload in a typical Microsoft Windows® desktop environment.\nDesktop RAWC runs on a Windows XP guest operating system and is executed on each desktop virtual machine (VM) on one or more ESX™ hosts. Each target desktop VM is equipped to run a RAWC workload that simulates typical user behavior, running an application set commonly used across a broad array of desktop environments.\nThe workload has a set of randomly executed functions that perform operations on a variety of applications. Each test is configured using the Desktop RAWC UI\nThe UI enables you to save and retrieve test parameters, create log folders, and define unique workloads based on Active Directory groups. You can use the UI to increase the load or adjust the user behavior, such as the number of words per minute that are typed and the delay between applications being launched.\nThe workload configuration typically used includes Microsoft Word, Excel, PowerPoint, Outlook, Internet Explorer, Windows Media Player, Java, Adobe Acrobat, McAfee Virus Scan, and 7-Zip. During the execution of the workload, multiple applications are opened at the same time and windows are minimized and maximized as the workload progresses, randomly switching between each application. Individual application operations that are randomly performed can include:\nMicrosoft Word – Open, minimize, maximize, close, insert text, save modifications Microsoft Word (Random) – Open, minimize, maximize, close, write random words/numbers, save modifications Microsoft Excel – Open, minimize, maximize, close, write random numbers, insert/delete columns/rows, copy/paste formulas, save modifications Microsoft PowerPoint – Open, minimize, maximize, close, conduct a slide show presentation Microsoft Outlook – Open, minimize, maximize, close, create/send emails Internet Explorer – Open, minimize, maximize, close, browse page Windows Media Player – Open, close, view a video Java – Compile a java project comprised of several hundred files using the JDK to create a software engineering type of workload Adobe Acrobat Reader – Open, minimize, maximize, close, browse pages in PDF document McAfee Anti-virus – Real time scanning 7-Zip – Open, close, compress a large file The RAWC kit is available for download from the VMware partner central website.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2009/11/23/new-book-vsphere-4-0-quick-start-guide-released/",
  "title": "New Book &amp;ndash; vSphere 4.0 Quick Start Guide released",
  "description": "",
  "date": "November 23, 2009",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "book, VMware, vSphere",
  "tags": "best-practices, book, vSphere",
  "content":"The vSphere Quick Start guide is released and available from Amazon. This guide is written by 6 virtualization guru’s named:\nDuncan Epping Alan Renouf Dave Mishchenko Bernie Baker Thomas Bryant Stewart Radnidge The book summary from Amazon:\nvSphere 4.0 Quick Start Guide continues from an idea started several years ago by a few engineers. The idea was simple, provide an easy to use reference guide for all level administrators, consultants and architects. Recently VMware introduced many new features in vSphere 4.0 and with this handy pocket guide you will learn about each of these new features. With each chapter, the pages in this essential guide will answer common questions while giving you unprecedented insight into: Expert tips \u0026amp; tricks Pitfalls to avoid RemoteCLI \u0026amp; PowerCLI (PowerShell) scripts Configuration how to’s Virtualization best practices.\nPaperback: 256 pages\nPublisher: BookSurge Publishing (November 20, 2009)\nLanguage: English\nISBN-10: 1439263450\nISBN-13: 978-143926345\nIf you want to know what’s the best way to design and deploy a VMware ESX environment (VMware ESX, vCenter, P2V, networking, storage and automation using PowerCLI) this is a must read!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2009/11/21/vmware-view-4-released/",
  "title": "VMware View 4 released",
  "description": "",
  "date": "November 21, 2009",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vdi, VMware, VMware-view",
  "tags": "desktop, pcoip, vdi, view-4, VMware",
  "content":"The long awaited VMware View with the PCoIP protocol has landed and is available for download.\nVMware View 4.0 includes the following new features:\nVMware View with PCoIP – PCoIP provides an optimized desktop experience for the delivery of the entire desktop environment including applications, images, audio, and video content for a wide range of users on the LAN or across the WAN. PCoIP can compensate for an increase in latency or a reduction in bandwidth, to ensure that end users can remain productive regardless of network conditions. PCoIP includes VMware View Display with support for up to four monitors and the ability to deliver the optimal resolution and pivot orientation to each monitor independently. VMware vSphere Support – VMware vSphere 4 support enables improved virtual machine scalability, performance, and management, with continued support for VMware Infrastructure 3.x. Enhanced single sign-on – The Log in as current user feature is integrated with Active Directory and smart cards to help simplify the process of logging in to a VMware View desktop. Restricted entitlements – Administrators can control user access to virtual desktops based on the View Connection Server being used for authentication. Smart card policies – Administrators can set group policies to force desktop disconnection and require reconnection when users remove smart cards. Domain filtering – You can use vdmadmin.exe to control the accessibility of domains and traverse trust relationships more quickly. You can cleanly delete View desktops using scripts. You can log in to View desktops using user principal names (UPN). You can explicitly configure IP addresses to override those supplied by the View Agent when accessing a desktop. Mixed Active Directory and Kerberos authentication is supported. "},{
  "section": "Blog",
  "slug": "/logbook/site/2009/11/20/huge-amount-of-vmware-updates/",
  "title": "Huge amount of VMware updates",
  "description": "",
  "date": "November 20, 2009",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware, VMware-view, vSphere, windows-2008-r2, windows-7",
  "tags": "data-recovery-1-1, powercli-4-update-1, vcenter-4-update-1, VMware, VMware-esx-4-update-1, VMware-vcenter-heartbeat-5-5-update-2",
  "content":"Today when i woke up there where a lot of VMware updates available (to much to handle for one day 🙂 ). I did an upgrade of my lab environment, it went smooth with any issues. VMware did a great job with the new improvements! Here’s a list of improvements with some screenshots:\nVMware ESX 4 Update 1 improvements: VMware View 4.0 support – This release adds support for VMware View 4.0, a solution built specifically for delivering desktops as a managed service from the protocol to the platform.\nWindows 7 and Windows 2008 R2 support – This release adds support for 32-bit and 64-bit versions of Windows 7 as well as 64-bit Windows 2008 R2 as guest OS platforms. In addition, the vSphere Client is now supported and can be installed on a Windows 7 platform. For a complete list of supported guest operating systems with this release, see the VMware Compatibility Guide .\nEnhanced Clustering Support for Microsoft Windows – Microsoft Cluster Server (MSCS) for Windows 2000 and 2003 and Windows Server 2008 Failover Clustering is now supported on a VMware High Availability (HA) and Dynamic Resource Scheduler (DRS) cluster in a limited configuration. HA and DRS functionality can be effectively disabled for individual MSCS virtual machines as opposed to disabling HA and DRS on the entire ESX/ESXi host**.** Refer to the Setup for Failover Clustering and Microsoft Cluster Service guide for additional configuration guidelines.\nEnhanced VMware Paravirtualized SCSI Support – Support for boot disk devices attached to a Paravirtualized SCSI ( PVSCSI) adapter has been added for Windows 2003 and 2008 guest operating systems. Floppy disk images are also available containing the driver for use during the Windows installation by selecting F6 to install additional drivers during setup. Floppy images can be found in the /vmimages/floppies/ folder.\nImproved vNetwork Distributed Switch Performance – Several performance and usability issues have been resolved resulting in the following:\nImproved performance when making configuration changes to a vNetwork Distributed Switch (vDS) instance when the ESX/ESXi host is under a heavy load Improved performance when adding or removing an ESX/ESXi host to or from a vDS instance Increase in vCPU per Core Limit – The limit on vCPUs per core has been increased from 20 to 25. This change raises the supported limit only. It does not include any additional performance optimizations. Raising the limit allows users more flexibility to configure systems based on specific workloads and to get the most advantage from increasingly faster processors. The achievable number of vCPUs per core depends on the workload and specifics of the hardware. For more information see the Performance Best Practices for VMware vSphere 4.0 guide.\nEnablement of Intel Xeon Processor 3400 Series – Support for the Xeon processor 3400 series has been added. For a complete list of supported third party hardware and devices, see the VMware Compatibility Guide .\nThe new VMware ESX 4 update 1 build is 208167\nVMware vCenter Server 4.0 Update 1 improvements: IBM DB2 Database Support for vCenter Server — This release adds support for IBM DB2 9.5 as the backend database platform for VMware vCenter Server 4.0. The following editions of IBM DB2 are supported:\nIBM DB2 Enterprise 9.5\nIBM DB2 Workgroup 9.5\nIBM DB2 Express 9.5\nIBM DB2 Express-C 9.5\nVMware View 4.0 support — This release adds support for VMware View 4.0, a solution built specifically for delivering desktops as a managed service from the protocol to the platform.\nWindows 7 and Windows 2008 R2 support — This release adds support for 32-bit and 64-bit versions of Windows 7 as well as 64-bit Windows 2008 R2 as guest operating system platforms. In addition, the vSphere Client is now supported and can be installed on a Windows 7 platform.\nPre-Upgrade Checker Tool — A standalone pre-upgrade checker tool is now available as part of the vCenter Server installation media that proactively checks ESX hosts for any potential issues that you might encounter while upgrading vCenter agents on these hosts as part of the vCenter Server upgrade process. You can run this tool independently prior to upgrading an existing vCenter Server instance. The tool can help identify any configuration, networking, disk space or other ESX host-related issues that could prevent ESX hosts from being managed by vCenter Server after a successful vCenter Server upgrade.\nHA Cluster Configuration Maximum — HA clusters can now support 160 virtual machines per host in HA Cluster of 8 hosts or less. The maximum number of virtual machines per host in cluster sizes of 9 hosts and above is still 40, allowing a maximum of 1280 Virtual Machines per HA cluster. The new vCenter version and build is 4.0.0 build 208111\nWhen choosing for Operating System for the vCenter server keep the following in your mind: Future releases of VMware vCenter Server might not support installation on 32-bit Windows operating systems. VMware recommends installing vCenter Server on a 64-bit Windows operating system. If you have VirtualCenter 2.x installed, see the vSphere Upgrade Guide for instructions on installing vCenter Server on a 64-bit operating system and preserving your VirtualCenter database.\nVMware Data Recovery (vDR) version 1.1 improvements: File Level Restore Functionality is Officially Supported\nFile Level Restore (FLR) provides a way to access individual files within restore points for Windows virtual machines. In previous versions of Data Recovery, FLR was provided as an experimental feature. File Level Restore feature is now officially supported.\nIntegrity Check Stability and Performance Improved\nThe integrity check process is faster and more stable. Note that integrity checks are computationally intensive processes and can take significant periods of time. The exact amount of time integrity checks take varies based on of the size of the deduplication store. Even with these enhancements, integrity checks that take several hours are not unexpected.\nIntegrity Checks Provides Improved Progress Information\nWhen an integrity check is running, a progress indicator is displayed. This progress indicator has been improved, although it does not provide the optimal level of detail.\nEnhanced CIFS Shares Support\nFile Level Restore (FLR) is a graphical client that can restore individual files. Here are some screenshots of FLR:\nvSphere PowerCLI 4.0 Update 1 improvements: Managing the failover and load-balancing policies of VirtualSwitch and VirtualPortGroup objects with Get-NicTeamingPolicy and Set-NicTeamingPolicy.\nCopying files in and out of guest operating systems with Copy-VMGuestFile.\nRestarting virtual machines with Restart-VM.\nManaging the power state of hosts using Start-VMHost, Restart-VMHost, Suspend-VMHost, and Stop-VMHost.\nManaging guest networks with Get-VMGuestNetworkInterface, Set-VMGuestNetworkInterface, Get-VMGuestRoute, New-VMGuestRoute, Remove-VMGuestRoute, and Set-VMGuestRoute.\nRetrieving and removing USB devices with Get-UsbDevice and Remove-UsbDevice.\nManaging NIC customization settings with Get-OSCustomizationNicMapping, New-OSCustomizationNicMapping, and Set-OSCustomizationNicMapping.\nHandling virtual machine questions with Get-VMQuestion and Set-VMQuestion.\nWorking with host storages and iSCSI HBA devices with Get-VMHostHba, Set-VMHostHba, Get-iScsiHbaTarget, New-iScsiHbaTarget, Remove-iScsiHbaTarget, Set-iScsiHbaTarget, and Set-VMHostStorage.\nMoving templates with Move-Template and Move-Inventory.\nManaging the access control system with Get-VIPrivilege, Get-VIRole, New-VIRole, Remove-VIRole, Set-VIRole, Get-VIPermission, New-VIPermission, Remove-VIPermission, and Set-VIPermission.\nManaging DRS recommendations with Get-DrsRecommendation and Apply-DrsRecommendation.\nUpgrading hosts with Install-VMHostPatch.\nManaging virtual appliances with Get-VApp, Export-VApp, Import-VApp, New-VApp, Remove-VApp, Set-VApp, Start-VApp, and Stop-VApp.\nManaging PCI and SCSI passthrough devices with Add-PassthroughDevice, Get-PassthroughDevice, and Remove-PassthroughDevice.\nRunning BAT (Windows) and BASH (Linux) scripts with Invoke-VMScript.\nGranting and revoking shell access with New-VMHostAccount and Set-VMHostAccount.\nUploading firmware packages with Set-VMHostFirmware.\nCreating virtual machines with thin provisioned disks with New-VM.\nCloning powered-on virtual machines with New-VM.\nResizing virtual disks and guest partitions with Set-HardDisk.\nExtending, cloning, inflating, and reallocating virtual hard disks with Copy-HardDisk, New-HardDisk, and Set-HardDisk.\nManaging the host time zones with Get-VMHostAvailableTimeZone and Set-VMHost.\nWorking with default Datastore Provider and Inventory Provider drives.\nWorking with files and directories in datastores by using the Datastore Provider.\nVMware vCenter Server Heartbeat 5.5 Update 2 improvements: The features available depend on the version of vCenter Server installed.\nSupport for Windows Server 2008 SP1 and SP2 (x86/x64) — VMware vCenter Server Heartbeat now supports running on Windows Server 2008 SP1 and SP2 (including x86 and x64 versions) operating systems. Support for Windows Server 2003 Enterprise SP2 (x64) — VMware vCenter Server Heartbeat now supports running on the Windows Server 2003 Enterprise SP2 (x64) operating system. Protection of VMware vCenter Management Web Services — This release of VMware vCenter Server Heartbeat adds the vCenter Management Web Server to its list of protected vCenter Server components. Introduction of the WinZip Self-Extracting executable file for Setup — Installation and setup of VMware vCenter Server Heartbeat is initiated through the use of a WinZip Self-Extracting executable file. 60-day evaluation mode — This release of VMware vCenter Server Heartbeat provides a built-in 60-day evaluation mode that is triggered from the date of installation. Either prior to or upon expiration of the 60-day evaluation period, administrators will need to provide a valid license key to continue to leverage VMware vCenter Server Heartbeat functionality. Tomcat Monitoring Rule — A new rule has been added for vCenter 4.0 Tomcat Web Server availability. Note: The term vSphere Client is applicable to both vSphere Client and VI Client except where VI Client is specifically stated.\nThe next new version will probably the View 4 release on Monday.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2009/11/13/vmware-view-4-useful-information/",
  "title": "VMware VIEW 4 useful information",
  "description": "",
  "date": "November 13, 2009",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware-view",
  "tags": "pcoip, view-4, VMware-view, VMware-view-4, windows-7",
  "content":"After attending the VMware View 4 Talkshoe podcast the following information about the announced VMware View 4 was discussed:\nVM’s per core: VM’s per core, In VMware View 3 the number was 6-9 VM’s per core, now in View 4 with for example the Intel Nehalem processors you can get to 12-16 VM’s per core. This number heavily depends for example on the application load inside the VM’s.\nThe PCoIP protocol does NOT support: Security Server; Smart Cards integration; Thinprint support. Generally: The PCoIP protocol is not different in scalability than RDP; For the RDP protocol version 6 is used in VMware VIEW; Offline desktop support is still experimental; There’s no RTO Software Virtual Profiles in this release of VMware VIEW 4; Windows 7 is still experimental, official support will be around the begin of 2010; The Connection server must be installed on Windows 2003, support for Windows 2008 will be around the begin of 2010; Advise for virus scanning software is use VMware aware virus scanners (VMsafe), for example Trend Micro and McAfee have beta’s that use the VMsafe technology. | "},{
  "section": "Blog",
  "slug": "/logbook/site/2009/11/09/vmware-view-4-announced/",
  "title": "VMware View 4 announced",
  "description": "",
  "date": "November 9, 2009",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware, VMware-view",
  "tags": "view-4, VMware-view",
  "content":"Today VMware has View 4 announced. VMware View 4 is supported on VMware vSphere and has a new protocol named PCoIP (View 3 uses RDP).\nHere’s a list of new and/or improved features:\nFEATURE\u0026nbsp;\u0026nbsp;\u0026nbsp;NEW/IMPROVED\u0026nbsp;\u0026nbsp;\u0026nbsp;DESCRIPTION\u0026nbsp;\u0026nbsp;\u0026nbsp;Quad monitor support\u0026nbsp;\u0026nbsp;\u0026nbsp;New\n\u0026nbsp;\u0026nbsp;\u0026nbsp;Support 32-bit color with 1920 x 1200 display resolution and up to 4 monitors simultaneously.Benefit: True multiple displays allow you to \"see more and do more\" from a full desktop. This provides the ability to reproduce true color images with support for up to 4.2 billion distinct colors per pixel.\u0026nbsp;\u0026nbsp;\u0026nbsp;True multi-monitor support on L-shape configuration\u0026nbsp;\u0026nbsp;\u0026nbsp;New\n\u0026nbsp;\u0026nbsp;\u0026nbsp;Support 1 landscape display and 1 portrait display (with pivot monitors), variable resolution support, and auto fit to client.Benefit: Each monitor can be of a different size and be set to a different resolution. Auto Display Scaling/Dynamic Resizing helps desktop publishing, financial application, and high-end graphic design needs.\u0026nbsp;\u0026nbsp;\u0026nbsp;Guest desktop support Windows Vista and XP OS\u0026nbsp;\u0026nbsp;\u0026nbsp;New\n\u0026nbsp;\u0026nbsp;\u0026nbsp;Support for connecting to virtual desktops from Windows XP and Vista. The VMware View 4 PCoIP is a software-to-software implementation. However, it also supports hardware PCoIP hosts such as the Samsung SyncMaster 930ND 19\" monitor and Teradici Tera Portal.http://www.teradici.com/pcoip/pcoip-products/oem-solutions.php\u0026nbsp;Benefit: Provides scalable support to both software and hardware on the local hosts.\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;Network characteristics and security\u0026nbsp;\u0026nbsp;\u0026nbsp;New\n\u0026nbsp;\u0026nbsp;\u0026nbsp;SSL protection on TCP for session management and AES 128-bit key encryption on UDP for media transfer between host and client system.Benefit: Provides comparable security and encryption found in other protocols.\u0026nbsp;\u0026nbsp;\u0026nbsp;Protocol intelligence\u0026nbsp;\u0026nbsp;\u0026nbsp;New\n\u0026nbsp;\u0026nbsp;\u0026nbsp;PCoIP protocol provides the intelligence to handle prioritization and quality of services (QOS) for video/mouse/keyboard/sound, etc.Benefit: This greatly helps the user experience by managing bandwidth and content variables.\u0026nbsp;\u0026nbsp;\u0026nbsp;WAN performance and optimization\u0026nbsp;\u0026nbsp;\u0026nbsp;New\n\u0026nbsp;\u0026nbsp;\u0026nbsp;Operate with up to 250ms of round-trip latency with tolerance on packet loss up to 5%.\u0026nbsp;\u0026nbsp;\u0026nbsp;VPN tunneling\u0026nbsp;\u0026nbsp;\u0026nbsp;New\n\u0026nbsp;\u0026nbsp;\u0026nbsp;Support Cisco VPN soft client.\u0026nbsp;\u0026nbsp;\u0026nbsp;RDP virtual channel compatibility for USB redirection\u0026nbsp;\u0026nbsp;\u0026nbsp;New\n\u0026nbsp;\u0026nbsp;\u0026nbsp;Support the comparable list of USB peripherals including biometrics, card readers, webcams, mass storage, flash devices, scanners, etc. The authorization can be done on a per-user/per-group basis to only accept specific devices.\u0026nbsp;\u0026nbsp;\u0026nbsp;Flash control support for PCoIP\u0026nbsp;\u0026nbsp;\u0026nbsp;New\n\u0026nbsp;\u0026nbsp;\u0026nbsp;PCoIP uses breakthrough graphics compression that is custom built for delivering a user desktop over IP networks. It works in such a way as to support all graphics (full-frame rate 3D for design engineering, video gaming, etc.), and media (HD video, Microsoft video formats, YouTube, Microsoft Silverlight, Google, QuickTime, or Adobe Flash).Benefit: By compressing the display image at the host PC/Server, you avoid application interoperability issues that have plagued thin clients for years and can quickly adapt to physical networks.\u0026nbsp;\u0026nbsp;\u0026nbsp;Audio redirection\u0026nbsp;\u0026nbsp;\u0026nbsp;New\n\u0026nbsp;\u0026nbsp;\u0026nbsp;New to PCoIP protocol. Redirect audio with dynamic audio quality adjustment on the WAN.\u0026nbsp;\u0026nbsp;\u0026nbsp;ClearType font\u0026nbsp;\u0026nbsp;\u0026nbsp;New\n\u0026nbsp;\u0026nbsp;\u0026nbsp;Subpixel rendering technology which may help to improve the apperance of text on some computer displays. Newly added to PCoIP protocol\u0026nbsp;\u0026nbsp;\u0026nbsp;\rFull clone pool with thin disk/thin provisioning\u0026nbsp;\u0026nbsp;\u0026nbsp;New\n\u0026nbsp;\u0026nbsp;\u0026nbsp;VMware View 4 provides seamless native support for thin provisioning with the vSphere server.Benefit: Helps reduce storage usage and allows more guest desktops per core while still providing high performance.\u0026nbsp;\u0026nbsp;\u0026nbsp;Mixed cluster support for backward – forward compatibility\u0026nbsp;\u0026nbsp;\u0026nbsp;New\n\u0026nbsp;\u0026nbsp;\u0026nbsp;This new option in View Administrator allows different versions of clusters to be managed via the same UI.\u0026nbsp;\u0026nbsp;\u0026nbsp;VWware VMsafe API for better anti-virus optimization and execution\u0026nbsp;\u0026nbsp;\u0026nbsp;New\n\u0026nbsp;\u0026nbsp;\u0026nbsp;VMware vSphere supports VMware VMsafe™ API Security virtual machine deployment, sold separately by security vendors, is consistent with desktop deployment. Protects the virtual machine by inspecting virtual components (CPU, Memory, Network and Storage).\u0026nbsp;\u0026nbsp;\u0026nbsp;\rTriple single sign — on (3SSO) for sessions/connections keep-alive\u0026nbsp;\u0026nbsp;\u0026nbsp;Improved\n\u0026nbsp;\u0026nbsp;\u0026nbsp;This setting enables \"log in as current user\" using Active Directory credentials or smart cards over Remote Desktop Protocol.Benefit: Helps eliminate redundant authentication steps or double PIN entry when using smart cards.\u0026nbsp;\u0026nbsp;\u0026nbsp;Tag-based pool access\u0026nbsp;\u0026nbsp;\u0026nbsp;New\n\u0026nbsp;\u0026nbsp;\u0026nbsp;Administrators can now assign \"tags\" to connect server and desktop pools. Tag matching rules can be applied to restrict or grant users access to certain desktops.\u0026nbsp;\u0026nbsp;\u0026nbsp;Smart card removal policy\u0026nbsp;\u0026nbsp;\u0026nbsp;Improved\n\u0026nbsp;\u0026nbsp;\u0026nbsp;This policy setting forces desktops to disconnect when users remove their smart card.\u0026nbsp;\u0026nbsp;\u0026nbsp;Delete script\u0026nbsp;\u0026nbsp;\u0026nbsp;Improved\n\u0026nbsp;\u0026nbsp;\u0026nbsp;This scripting capability cleanly deletes VMware View desktops and allows extensibility using visual basic scripting.\u0026nbsp;\u0026nbsp;\u0026nbsp;\rVMware View is available in two editions:\nOffline desktop and Windows 7 support is experimental. This means it is not ready for production environments! There is a HCL for Thin clients that supports View, click here for the HCL . VMware View will be released and available for download on 19 November 2009.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2009/11/06/dutch-vmware-user-group-vmug-2009-event/",
  "title": "Dutch VMware User Group (VMUG) 2009 event",
  "description": "",
  "date": "November 6, 2009",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "event, virtualization, VMware",
  "tags": "",
  "content":"On 11 December 2009 the 5th Dutch VMUG event will be held. It is a technical one day event about virtualization. Last year there were more than 600 visitors. Here’s a list in my opinion of must see presentations:\nManaging VMware vSphere 4 m.b.v. de Virtualization EcoShell by Eric Sloof - VMUG / ntpro.nl Project Virtual Reality Check by Ruben Spruijt - VMUG / PQR Disitributed Virtual Switch Drill Down by Viktor van den Berg – XTG Ontdek de mogelijkheden van vCenter Lab Manager by _Joep Piscaer - VMUG / virtuallifestyle.nl Performance Troubleshooting Howto by _Bouke Groenescheij - VMUG / Jume.nl Wat komt er kijken bij het Design van een Virtual Infrastructure? by Gabrie van Zanten - VMUG / gabesvirtualworld.com PowerCLI en de SDK: automatiseer je vSphere omgeving by _Luc Dekens - VMUG / lucd.info The VMUG event is a great opportunity to expand your knowledge on virtualization. See you on 11 December at the Dutch VMUG event in Nieuwegein! To register for the event you must have or create a forum account. For more information visit the VMUG website.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2009/10/16/boot-from-usb-in-vmware-workstation/",
  "title": "Boot from USB in VMware Workstation",
  "description": "",
  "date": "October 16, 2009",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware, VMware-workstation",
  "tags": "",
  "content":"I ‘am testing an unattended installation of VMware ESXi from an USB drive. After every change, I needed to test if the unattended still worked. I tried to use VMware workstation to test the unattended installation. VMware Workstation doesn’t support boot from USB. There is an unofficial solution to fix this problem by using the PLOP boot manager (Download link ). The PLOP Boot Manager is a small program to boot different operating systems. You can boot the operating systems from harddisk, floppy, CD/DVD or from USB.\nSteps to boot from USB:\nDownload the BLOP boot manager Add a USB controller to the VM and select Automatically connect new USB devices. Attach the PLOP boot manager image as floppy- or CD image Boot the VM in PLOP Insert the USB stick and select USB Sometimes the USB device is not detected at once, reboot the VM once more and it should work.\nWith PLOP it is possible to use USB boot VMware Workstation.\nCredits goes to Uli Hankeln from http://sanbarrow.com , thanks for pointing me to this boot manager.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2009/10/15/passed-the-vcp4-exam/",
  "title": "Passed the VCP4 exam",
  "description": "",
  "date": "October 15, 2009",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vcp",
  "tags": "",
  "content":"Yesterday i did the VCP4 exam and passed with a score of 475. The exam has 85 questions and for a non English speaker you get 90 minutes to complete the exam. The passing score is 300 out of 500. The exam has 90 multiple choice/selects questions. The exam is harder than the VCP3 exam, but with proper preparation and experience it’s not that hard.\nTo prepare the exam i used the list in my previous blog “Resources to prepare for VMware Certified Professional (VCP4) on vSphere 4 ” and I attended the “What’s new” partner training.\nNow i can call myself VCP2, VCP3 and VCP4 certified. The next step is the “VMware Certified Design Expert (VCDX)” certification. The VCDX is only on VI3 on the moment. I will wait till the VCDX includes vSphere support. Maybe the Master VCP is released in the meantime. We will see.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2009/08/25/resources-to-prepare-for-vmware-certified-professional-on-vsphere-4/",
  "title": "Resources to prepare for VMware Certified Professional (VCP4) on vSphere 4",
  "description": "",
  "date": "August 25, 2009",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vcp, vSphere",
  "tags": "vcp, vSphere",
  "content":"There are four possible paths to achieve VCP4 certifiaction:\nIf you are NEW to VMware Attend the VMware vSphere: Install, Configure, Manage course OR attend the VMware vSphere 4: Fast Track (available in Q4) Take and pass the VCP4 exam If you are currently a VCP3 Take and pass the VCP4 exam. This option will only be available until December 31, 2009. The What\u0026rsquo;s New class is strongly recommended. Beginning in 2010, VCP3s must attend the VMware vSphere 4: What’s New class in order to upgrade. If you are currently a VCP2 Take and pass the VCP on VMware Infrastructure 3 exam Take and pass the VCP4 Exam. This option will only be available until December 31, 2009. Beginning in 2010, VCP3s must attend the VMware vSphere: What’s New class in order to upgrade. Beginning in 2010, VCP2s who have not upgraded will be required to attend the VMware vSphere: Install, Configure, Manage or VMware vSphere: Fast Track course If you are not a VCP3, but have attended one of the prerequisite classes (VI3: Install \u0026amp; Configure; VI3: Deploy Secure \u0026amp; Analyze; or VI3: Fast Track). Take and pass the VCP3 exam OR attend the VMware vSphere4: What’s New course. Take and pass the VCP4 Exam Now the VCP 4 exam is available, you can study for it. Here’s a collection of links to resources to prepare for VMware Certified Professional on vSphere 4:\nVMware Certified Professional on vSphere 4 Blueprint VMware vSphere 4.0 Documentation VMware vSphere Online Library vSphere Configuration Maximums VMware port numbers drawing Simon Long vSphere 4 study notes Practice Exams:\nSimon Long vSphere 4 Practice Exams Books\nMastering VMware vSphere 4 (Scott Lowe ) Trainers blogs\nVMware Training and Certification Exam\nExisting VCPs and/or candidates who have attended the vSphere: Install, Configure and Manage or vSphere: Fast Track course will have an opportunity to receive a special exam voucher that allows for a FREE re-take of the exam if they fail their first attempt! This program is only available until December 31, 2009, and you must register to take advantage of the 2nd Shot Program. If you meet the requirements and would like a 2nd Shot voucher, vist this site . You can register for the exam @ Pearsonvue.com If want to submit links, please let me know.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2009/03/12/microsoft-techdays-belgium/",
  "title": "Microsoft TechDays Belgium",
  "description": "",
  "date": "March 12, 2009",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v, windows-2008-r2, windows-7",
  "tags": "",
  "content":"The last three days i attended Microsoft TechDays in Antwerpen (Belgium). The first day (pre-conference) was dedicated to Windows 2008 R2. The other 2 days I attended sessions such as Windows 7, Powershell V2, SYSVOL replication and Remote Desktop Services (former Terminal Services). Here is an short overview:\nWindows 2008 R2 will be released in 64-bit version only. - All new Windows server product can be managed through PowerShell PowerShell 2 is default installed on Windows 2008 R2 and Windows 7. In PowerShell 2 you can remote manage your computers.\nActive Directory Recycle Bin, when you deleted an AD object, it is possible to easily restore this object through PowerShell. Default this feature is disabled! More information can be found here Windows 2008 Core contains .NET and PowerShell 2.0 support\nIn Windows 2008 the SYSVOL replication goes through DFS-R, in earlier versions FRS is used. One great benefit is that DFS-R is faster because it only replicates the changed bits, FRS copies the whole file that is changed. If your DC is upgraded to Windows 2008 you can migrate from FRS to DFS-R. More information can be found here .\n- Cluster Shared Volumes (CSV), this is a feature for Failover clustering. It allows multiple VMs to be running on a single LUN (volume). CSV uses the NTFS file system. With CSV it is possible to do Live Migration (Hyper-V) of VMs without downtime. Live Migration is the VMotion feature from Microsoft.\nBranchCache, caches WAN bandwidth for HTTP and SMB traffic at the branche office network. This improves the response times and reduces WAN traffic. With the distributed cache option the cache is placed on other computers on the branche network. With the Hosted cache option the cache is placed on a Windows 2008 R2 server on the branche office. BranchCache can only be used in Windows 7 and Windows 2008 R2.\nMore information can be found here. Direct Access, get instant access to your corporate network without establish a VPN connection. Direct Access uses IPSEC and IPv6. DirectAccess can only be used in Windows 7 and Windows 2008 R2. More information can be found Here.\nTerminal Services is renamed in Remote Desktop Services (RDS). It will be used for SBC and VDI.\nThe Remote Deskop Virtualization (RD Virtualization) is a special role that integrates with Hyper-V and used for Virtual Desktop Infrastructure (VDI) desktops.\nThe connection broker is called Remote Desktop Connection Broker (RD Connection Broker).\nWindows Vista and Windows 7 can be used as desktop for VDI.\nThe RDP protocol is improved with rich multimedia, 3D rendering, real multi-monitor support (no span) and two way audio redirection, VOIP applications such as Skype can be used.\nMore information can be found here.\nWindows 7\nHomegroup, an easy way to share your Pictures, Videos, Documents, Music and printers\nMost software that worked on Vista will work on Windows7, except software with low level drivers such as Anti-virus and firewall software.\nNew look for WordPad, Calculator and Paint\nBoot from VHD, this allows to set up multiple boot VHD.\nThere is a now a slider for User Account Control (UAC), with the slider you can set the level from Never notify to Always notifty . This is also possible with Windows 2008 R2. Bitlocker-to-go, encrypt data on USB thumb drives. With Bitlocker it is possible to encrypt your root system drive, first available in Vista. From Vista Sp1 is was also possible to encrypt other drives than the root drive. This is also possible with Windows 2008 R2.\nInternet Explorer 8 (IE8), contains InPrivate Browsing helps prevent Internet Explorer from storing data about your browsing session. This includes cookies, temporary Internet files, history, and other data. Toolbars and extensions are disabled by default. This is also possible with Windows 2008 R2.\nAppLocker, prevent unauthorized software from running.\nThis is also possible with Windows 2008 R2.\nProblem Step Recorder, tool to troubleshoot a problem, it records the steps and exports this to a MHT file. The MHT file contains screenshots off every step. This is also possible with Windows 2008 R2.\nMicrosoft Deployment Toolkit (MDT) version 2010 will support Microsoft 2008 R2 and Windows 7. MDT is process and toolset to automate desktop and server deployment. MDT 2010 is now available in public beta. The Deployment Image Servicing and Management (DISM) tool replaces the pkgmgr, PEImg, and IntlConfg tools that are being retired in Windows 7. DISM provides a single centralized tool for performing all of the functions of these three tools in a more efficient and standardized way, eliminating the source of many of the frustrations experienced by current users of these tools.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2009/02/22/vmworld-europe-2009/",
  "title": "VMworld Europe 2009",
  "description": "",
  "date": "February 22, 2009",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "",
  "content":"I to VMworld Europe with two colleagues from our company Ictivity, we fly on tomorrow (Monday) from Rotterdam (The Netherlands) at 10.50.\nI have made a personal list with the session (and meetings/parties) who got my interest. There are lot interesting hands-on labs but the are not on the session list .\nI try to blog from VMworld, if i have some spare time :-)\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2009/02/03/powershell-windows-eventlog-script/",
  "title": "PowerShell Windows Eventlog script",
  "description": "",
  "date": "February 3, 2009",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "",
  "tags": "eventlog, PowerShell, windows",
  "content":"Here a new PowerShell report-event script.\nfigure 1. Output reports-event script\nYou can specify multiple servers in a text file, select how many hours from the current time to look in the eventlog and e-mail the HTML file after generation. The following syntax can be used:\nget-content c:\\\\script\\\\servers.txt | c:\\\\scripts\\\\report-event.ps1 – report c:\\\\script\\\\eventlog.html –hours 48 –smtp mail.beerenss.nl –sendto [eventlogs@beerens.nl](mailto:ivo@ivobeerens.nl) –from [eventlog@beerens.nl](mailto:eventlog@ivobeerens.nl) Explanation:\nget-content c:\\script\\servers.txt, text file containing the server names\n– report c:\\script\\eventlog.html, name of the HTML file\n| c:\\scripts\\report-event.ps1, call the actually script\n–hours 48, hours to report from the curren time\n–smtp mail.beerens.nl. SMTP server to sent the HTML rapport –sendto ivo@beerens.nl , To address\n–from eventlog@beerens.nl . from address\nSchedule this script to run frequently to watch your eventlogs!\nDownload the script here. "},{
  "section": "Blog",
  "slug": "/logbook/site/2009/01/23/missing-datastore-lun-enableresignature/",
  "title": "Missing datastore (LUN), EnableResignature",
  "description": "",
  "date": "January 23, 2009",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "virtualcenter, VMware",
  "tags": "",
  "content":"After investing the log files on the VMware ESX host i found the following message:\nJan 22 12:39:34 boz101 vmkernel: 152:21:01:58.702 cpu4:1040)ALERT: LVM: 4476: vml.020003000060a980004335434b464a4b77554e59744c554e202020:1 may be snapshot: disabling access. See resignaturing section in SAN config guide.\nIt seems that the VMFS volume has been detected with a different LUN ID. The LUN ID is stored in the LVM header of the volume. When the LUN ID changes you need to enable resignature option to see the datastore again.\nIn the evening we powered all VMs on that LUN down. On the host that was missing the datastore, I enabled the resignaturing option by:\nGo to the configuration tab of the VMware ESX host and select Advanced settings\nClick on LVM, and changed the EnableResignature 0 (off) in 1 (on).\nDid a rescan on the VMware ESX host and the LUN appeared as “SNAP-17EABCCC-VMware-LUN-03”. Tried the change the “SNAP-17EABCCC-VMware-LUN-03” LUN back to the old name “VMware-LUN-03”, the following message appeared:\nThe name “VMware-LUN-03” already exists.\nThe solution was to switch the view to DATASTORES in vCenter and unregister all VMs on the “SNAP-17EABCCC-VMware-LUN-03” LUN. After all VMs were unregistered, i was able to rename it back to the old “VMware-LUN-03” name. Then i register all the VMs on the “VMware-LUN-03” LUN and start them.\nI checked the datastores on the other VMware ESX hosts, they were fine. As last step i changed the EnableResignature option back to 0 (off) on the VMware ESX host.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2009/01/06/new-version-of-the-PowerShell-healthcheck-script-released/",
  "title": "New version of the PowerShell Healthcheck script released",
  "description": "",
  "date": "January 6, 2009",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "PowerShell, VMware",
  "tags": "PowerCLI, VMware",
  "content":" VMware vCenter version Cluster information (Updated) VMware statistics (New) List the active Snapshots CDROMs connected to VMs Floppy drives connected to VMs Datastores Information such as free space RDM information (New) VM information such as VMware tools version, processor and memory limits VMs and there datastore (New) VMware timesync enabled Percentage disk space used inside the VM (New) – VC error logs last 5 days (New) It is possible to schedule this script and output the content to HTML and e-mail it.\nIf you have suggestions , let me know!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2009/01/06/VMware-esx-servers-unable-to-manage-via-vic-ssh-or-ilo-session/",
  "title": "VMware ESX servers unable to manage via VIC, SSH or iLO session",
  "description": "",
  "date": "January 6, 2009",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "bug, VMware",
  "tags": "",
  "content":"Today i had a nasty problem with a VMware environment. Some VMware ESX servers were disconnected from vCenter. Tried to connect the VMware ESX hosts using the VIC, but that was not possible. I was unable to login via SSH connection, connect with HP iLO to the HP Blade enclosure and did a remote connection to the console. There where HA errors on the screen. I tried to log in the console, after typing the password and hit the enter button the login prompt re-appears every time i try. The VMware ESX servers were not manageable anymore, DAMM.\nThe VMs on the disconnected VMware ESX servers were still running and had RDP enabled. The only solution so far was to log in via RDP and shutdown the VMs. I did this for one VMware ESX server. After shutting down all VMs, i did a cold reboot of the VMware ESX server. After several minutes the VMware ESX server reappears in vCenter. I went to the log files and found the following error:\nfork: Resource temporarily unavailable\nAfter searching the VMware Knowledge base i found the following article:\nDefunct cimservera processes seen on VMware ESX 3.5 running hardware management agents It looks like we have the same symptoms:\nUnable to login through SSH to VMware ESX host Unable to login on local Service console HA errors. I did “ps-ef” on the console of other VMware ESX servers that were still working and returned a couple of thousands cimservera defunct processes. Holy shit.\nAfter restarting the pegasus service on the host the cimservera defunct processes are away. Now there are 134 processes active.\nIt seems that one ISCSI target was offline and that all the VMware ESX servers tried to connect to the ISCSI target every 60 seconds, the failed login attemps results in thousands of cimservera defunct processes. This is a bug and VMware will release a patch for this nasty problem. Watch your patches.\nI did a temporarily fix by schedule restarting the pegasus service every day on every VMware ESX server using the plink utility.\nWatch your processes frequently on your VMware ESX hosts!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2008/12/20/new-VMware-powerpack-for-powergui/",
  "title": "New VMware Powerpack for PowerGUI",
  "description": "",
  "date": "December 20, 2008",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "PowerShell, VMware",
  "tags": "Automation",
  "content":"On the PowerGUI website is a new version off VMware PowerPack released.\nA PowerPack extends the PowerGUI with a set of folders, nodes, links and actions that allow you to manage VMware Infrastructure. With the PowerPack no PowerShell knowledge is needed.\nThe new version(December 19, 2008 (2.0.0) has the following new enhancements and supported features:\nreorganized the PowerPack structure to facilitate easier management of multiple hosts and to allow users to retrieve objects from one or more of the hosts they are managing whether they are already connected or not added support for browsing the VMware Inventory hierarchy (includes Hosts and Clusters, Virtual Machines and Templates, Networks and Datastores), including being able to browse directly into the file system on the datastores added many new links and actions exposed many more VMware Infrastructure objects through topological views and through integration in the hierarchy improved the performance of many nodes, links and actions added single sign-on support (note that connecting to multiple hosts using the same username but different passwords is currently not supported, but we are working on that and will provide support for this soon) tested management against Virtual Center 2.0, ESX 3.0x and 3.5, ESXi 3.5 and Virtual Server 2.0 (note: management of Virtual Center 2.0 requires version 1.0 of the VMware VI Toolkit) and more! Supported features:\n• Management of multiple VMware Virtual Center, ESX, ESXi and VMware Server hosts when using the VMware VI Toolkit 1.0 release\n• Management of multiple VMware Virtual Center, ESX and ESXi hosts when using the VMware VI Toolkit 1.5 release\n• Single sign-on to multiple hosts using the same credentials\n• Ability to browse through inventory hierarchies on Virtual Center\n• Ability to view topological data for any managed server\n• Management of datacenters, clusters, resource pools, hosts, folders, virtual machines, templates, snapshots, networks, datastores, files, tasks and log files\nSome screenshots:\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2008/12/12/new-VMware-esx-whitebox/",
  "title": "New VMware ESX whitebox",
  "description": "",
  "date": "December 12, 2008",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware, homelab",
  "tags": "VMware, whitebox, homelab",
  "content":"A couple of weeks ago my desktop PC died, so my girlfriend could not read there e-mail. I decide to turn my OLD VMware ESX test server into a Microsoft Vista workstation and buy a new whitebox. After searching the internet and comparing components, I found the following configuration:\nCoolerMaster Centurion 590 mini tower CoolerMaster Real Power 520W modular Power supply Asus P5BP-E/4L (with 4 onboard NICS) Intel Core 2 Quad 6600 Processor Boxed Kingston 8GB 800MHz DDR2 memory Samsung Spinpoint F1 1TB I had already a LSI Megaraid SATA-4 RAID controller. The whitebox is very quiet. It\u0026rsquo;s installed with VMware ESX 3i. It performs very good with a couple of VMs. I will benchmark it soon.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2008/12/12/healthcheck-PowerShell-script-on-number-six/",
  "title": "Healthcheck PowerShell script on number six!",
  "description": "",
  "date": "December 12, 2008",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware, PowerShell, vi-toolkit",
  "tags": "VMware, Automation, VI Toolkit",
  "content":"The Healthcheck PowerShell script I wrote for the VMware PowerShell scripting contest is on 6th position on the \u0026ldquo;Top 10 PowerShell scripts that VMware administrators should use\u0026rdquo; from Eric Siebert. Eric is the administrator of the site VMware-land.com that has the largest VMware link collection on the web.\nI attended today the Dutch VMUG event and visited the presentation from Eric Sloof \u0026ldquo;Managing VI3 with PowerShell \u0026rdquo;. I saw in his presentation that I was on the 6th place. Cool. I think Eric\u0026rsquo;s presentation was was the best session of the day.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2008/12/11/check-your-hardware-compatibility-online/",
  "title": "Check your Hardware Compatibility online",
  "description": "",
  "date": "December 11, 2008",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hcl, VMware",
  "tags": "VMware",
  "content":"VMware has a online version of the Hardware Compatibility guides available which replaces the PDF guides. Very handy. Check your Compatibility online now at the following location .\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2008/12/09/VMware-esx-uptime-570-days/",
  "title": "VMware ESX uptime 570 days",
  "description": "",
  "date": "December 9, 2008",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware",
  "tags": "VMware",
  "content":"Today I did a Healthcheck of a VMware ESX environment. The environment was still VMware ESX 3.0.0 build 42531. In ESXTOP the uptime was 570 days! WOW the last time I saw systems with such a long uptime was in the Netware days. Make sure to install the required security patches frequently!\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2008/12/05/site-recovery-manager-srm-update-1-released/",
  "title": "Site Recovery Manager (SRM) Update 1 released",
  "description": "",
  "date": "December 5, 2008",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "SRM, VMware",
  "tags": "VMware, SRM",
  "content":"SRM 1.0 Update 1 has the following new features:\nNew Permission Required to Run a Recovery Plan\nSRM now distinguishes between permission to test a recovery plan and permission to run a recovery plan. After an SRM server is updated to this release, existing users of that server who had permission to run a recovery plan no longer have that permission. You must grant Run permission to these users after the update is complete. Until you do, no user can run a recovery plan. (Permission to test a recovery plan is unaffected by the update.) Full Support for RDM devices\nSRM now provides full support for virtual machines that use raw disk mapping (RDM) devices. This enables support of several new configurations, including Microsoft Cluster Server. (Virtual machine templates cannot use RDM devices.) Batch IP Property Customization\nThis release of SRM includes a tool that allows you to specify IP properties (network settings) for any or all of the virtual machines in a recovery plan by editing a comma-separated-value (csv) file that the tool generates. Limits Checking and Enforcement\nA single SRM server can support up to 500 protected virtual machines and 150 protection groups. This release of SRM prevents you from exceeding those limits when you create a new protection group. If a configuration created in an earlier release of SRM exceeds these limits, SRM displays a warning, but allows the configuration to operate. Improved Support for Virtual Machines that Span Multiple Datastores.\nThis release provides improved support for virtual machines whose disks reside on multiple datastores. Single Action to Reconfigure Protection for Multiple Virtual Machines\nThis release introduces a Configure All button that applies existing inventory mappings to all virtual machines that have a status of Not Configured. Simplified Log Collection\nThis release introduces new utilities that retrieve log and configuration files from the server and collect them in a compressed (zipped) folder on your desktop. Improved Acceptance of Non-ASCII Characters\nnon-ASCII characters are now allowed in many fields during installation and operation. SRM 1.0 Update 1 has great improvements such as:\nRDM support including Microsoft Cluster services Support VM\u0026rsquo;s that span multiple datastores Support for ESX 3.5 Update 3 (You must have the latest patches!) Support for VC 2.5 Update 3 Before you begin with SRM check the compatibility matrix . "},{
  "section": "Blog",
  "slug": "/logbook/site/2008/12/03/VMware-patch-alert/",
  "title": "VMware patch alert",
  "description": "",
  "date": "December 3, 2008",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware, VMware-35-update-3",
  "tags": "VMware, VMware-35-update-3",
  "content":"VMware released the following six new pathes:\nPatch nameDescriptionTypeESX350-200811401-SG"},{
  "section": "Blog",
  "slug": "/logbook/site/2008/12/02/VMware-view-released/",
  "title": "VMware View released",
  "description": "",
  "date": "December 2, 2008",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VDI, VMware View",
  "tags": "VMware View",
  "content":"VMware has VMware View released. The solution consist of:\nVMware Virtual Desktop Infrastructure (VMware Infrastructure 3 + VMware View Manager 3) Storage Optimization with VMware View Composer Application Virtualization with VMware ThinApp Client Virtualization with Offline Desktop – Experimental Use VMware infrastructure 3:\nVMware View 3 is built on VMware Infrastructure 3 and as a result, IT organizations can extend the benefits of industry-leading virtualization to the desktop. Integrating desktop infrastructure with VMware Infrastructure 3 provides unified management and a host of features that improve performance, reliability and business continuity, including:\nAbility to group servers, which host virtual desktops, together for redundancy and eliminate single point of failure. Consolidated Backup centralizes backup for desktop virtual machines. Automated failover and recovery to keep desktops running nonstop. Dynamic load balancing for desktop computing resources View Manger:\nView Manager 3, a key component of VMware View, is an enterprise class desktop management solution, which streamlines the management, provisioning and deployment of virtual desktops. Users securely and easily access virtual desktops hosted on VMware Infrastructure 3, Terminal Servers, Blade PCs or even remote physical PCs through View Manager. Virtual desktop upgrading and patching are done centrally from a single console so you can efficiently manage hundreds or even thousands of desktops—saving time and resources.\nVMware View Composer:\nA new component of the VMware View solution, View Composer uses VMware Linked Clone technology to rapidly create desktop images that share virtual disks with a master image to conserve disk space and streamline management. User data and settings are separated from the desktop image, so they can be administered independently. All desktops that are linked to a master image can be patched or updated simply by updating the master image, without affecting users’ settings, data or applications. This reduces storage needs and costs by up to 70% while simplifying desktop management.\nVMware ThinApp:\nVMware ThinApp application virtualization software decouples applications from operating systems and packages them into an isolated and encapsulated file. This allows you to run multiple versions of applications on a single desktop without conflict, or the same version of an application on multiple operating systems without modification. Reduce storage needs for virtual desktops and simplify application management by streaming applications packaged with ThinApp from a centralized server or a shared network drive.\nOffline Desktop – Experimental Use:\nOffline Desktop for experimental use allows complete virtual desktops to be moved between the datacenter and physical desktop devices with security policies intact. Changes to the virtual desktop are intelligently synchronized between datacenter and physical desktop device. Offline Desktop allows an end user to access their virtual desktop while not connected to the network or simply take advantage of a physical desktop devices local resources to run their virtual desktop for an enhanced end user experience\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2008/11/29/move-the-virtualcenter-sql-database-or-migrate-the-virtualcenter-sql-database-to-different-server/",
  "title": "Move the VirtualCenter SQL database or migrate the VirtualCenter SQL database to different server.",
  "description": "",
  "date": "November 29, 2008",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "vCenter, VMware",
  "tags": "vCenter, VMware",
  "content":"VMware released two new handy KB articles about how to move or migrating the SQL VirtualCenter database to different server.\nTo move the database\nWhen relocating your SQL database:\nTo move SQL Server databases to a new location by using Detach and Attach functions in SQL Server, see Microsoft KB article http://support.microsoft.com/kb/224071/en-us If you are using the Copy Database Wizard in SQL Server 2000. Update the Datasource (DSN) in the OBDC Administrator to reflect any changes made. If either the database login or password changed during the relocation, VirtualCenter must be updated to with the new credentials. For more information, see the Modifying the username and password VirtualCenter uses to connect to the database server section of Troubleshooting the database data source used by VirtualCenter Server (1003928) . Read the KB article here. Migrate the database to a new server:\nShutdown the VirtualCenter Server service. For more information, see Stopping, starting, or restarting the VirtualCenter Server service (1003895) . Take a backup of the SQL database. If the SQL database is also being moved, create a second instance of your database and use the vendor\u0026rsquo;s tools to migrate the data.Note: For SQL Server, use Microsoft\u0026rsquo;s Copy Database Wizard. Create the appropriate System DSN connections on the new VirtualCenter Server host. Begin the installation of the VirtualCenter software on the new server. If you are installing VirtualCenter in a virtual machine, guidelines for deploying VirtualCenter in a virtual machine, including sizing, installation and functionality. When prompted, select Use existing database, and provide the correct credentials to that database. When prompted, select to not re-initialize the data, as this erases all your inventory data. Reboot the virtual machine when the installation is finished. When you first start the VirtualCenter Client, it may ask for licenses. Configure the licenses as you had previously in your environment. For more information about licensing for ESX Server 3 hosts, see the Installation Guide. For more information about licensing for ESX Server 3i hosts, see the Setup Guide. You are now able to see the same settings and configuration details.Note: If the IP address of the new VirtualCenter Server has changed your ESX Servers must be made aware of that change, otherwise the ESX Servers continue to send their heartbeats to the original IP address of VirtualCenter and appear as Not Responding.To correct this situation: Log in as root with an SSH client to each ESX host. Use a text editor to change the IP address inside the xxx.xxx.xxx.xxx\u0026lt;/serverIptags the following file:/etc/opt/VMware/vpxa/vpxa.cfg (VirtualCenter 2.5.x) /etc/VMware/vpxa.cfg (VirtualCenter 2.0.x). Save your changes and exit. Restart the management agents. For more information, see Restarting the Management agents on an ESX Server (1003490) . Repeat for all ESX hosts connected to the VirtualCenter Server. Read the KB article here. "},{
  "section": "Blog",
  "slug": "/logbook/site/2008/11/28/offline-virtual-machine-servicing-tool-20-released/",
  "title": "Offline Virtual Machine Servicing tool 2.0 released",
  "description": "",
  "date": "November 28, 2008",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "hyper-v",
  "tags": "",
  "content":"The Offline Virtual Machine Servicing Tool 2.0 helps organizations maintain virtual machines that are stored offline in a Microsoft® System Center Virtual Machine Manager library. While stored, virtual machines do not receive operating system updates. The tool provides a way to keep offline virtual machines up-to-date so that bringing a virtual machine online does not introduce vulnerabilities into the organization’s IT infrastructure.\nThe Offline Virtual Machine Servicing Tool combines the Windows Workflow programming model with the Windows PowerShell™ interface to bring groups of virtual machines online just long enough for them to receive updates from either System Center Configuration Manager 2007 or Windows Server Update Services. As soon as the virtual machines are up-to-date, the tool returns them to the offline state in the Virtual Machine Manager library.\nThis Solution Accelerator includes the following components:\nBrief Overview. Available online only on Microsoft TechNet . Summary for business and technical managers that briefly explains how this Solution Accelerator can fit into an organization’s IT infrastructure management strategy. OfflineVMServicing_x64 and OfflineVMServicing_x86. Setup files for the tool, for 64 bit and 32 bit versions on Microsoft® System Center Virtual Machine Manager (VMM) 2007 or 2008. Offline Virtual Machine Servicing Tool Getting Started Guide. Provides information about how the tool works, explains prerequisites for the tool, and describes how to install and configure the tool. Offline_VM_Servicing_Tool_2.0_Release_Notes.rtf. Notes provide information about this release, describe known issues in the tool, and include feedback instructions. Offline_Virtual_Machine_Servicing_Tool_Help. Help file for the tool. Provides instructions for using the tool. "},{
  "section": "Blog",
  "slug": "/logbook/site/2008/11/19/VMware-esx-35-update-3-vms-spontaneously-reboot/",
  "title": "VMware ESX 3.5 Update 3 VM&#39;s spontaneously reboot.",
  "description": "",
  "date": "November 19, 2008",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "update, VMware, VMware-35-update-3",
  "tags": "patches, VMware-35-update-3",
  "content":"A week ago i upgraded a customers environment to VMware ESX 3.5 Update 3 and VC 2.5 Update 3. After the upgrade some Virtual Machines (VM) spontaneously rebooted. After investing the problem we saw that after a VMotion action the spontaneously reboot occurred.\nWe disabled in HA the option \u0026ldquo;Virtual Machine Monitoring\u0026rdquo; and set DRS to manual. The problem with Virtual Machine monitoring is:\nThe Virtual Machine heartbeats are being dropped which is triggered by vMotion and the VM gets reset by the HA feature as it thinks it has gone offline. Since the feature is now off it should be safe to turn on DRS again.\nThere are more people who have this problem, read the following post on the VMware forum, 3.5U3 - any guinea pigs yet? .\nI made a support request @ VMware. The told me today that 20 November patch 10 for VMware 3.5 Update 3 will be released. Patch 10 fixes SOME random reboot problems in Update 3. I hope the patch will resolve this nasty issue.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2008/11/07/VMware-esxesxi-update-3-released/",
  "title": "VMware ESX/ESXi Update 3 released",
  "description": "",
  "date": "November 7, 2008",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "update, VMware, VMware-35",
  "tags": "",
  "content":"VMware has released Update 3 for ESX/ESXi.\nThis new release of ESX/ESXi 3.5 comes with the following enhancements:\nIncrease number of vCPUs per Core Limit (from 8 to 20) New supported servers, NICs and storage IO controllers New supported Guest Operating Systems \u0026hellip; and many more improvements and bug fixes. Please refer to the product release notes for the details on improvements and bug fixes.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2008/11/04/vi-toolkit-extensions/",
  "title": "VI Toolkit Extensions",
  "description": "",
  "date": "November 4, 2008",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "PowerShell, vi-toolkit, VMware",
  "tags": "power, vi-toolkit, VMware",
  "content":"Today I tested the VI Toolkit extensions. The VI Toolkit extensions are cmdlets that makes your life easier. Here are some functions of what the cmdlets can do:\nThe VI toolkit extensions require PowerShell V2 CTP 2 and the VI Toolkit.\nExample:\nlist all VMs by name and list the size of the snapshots\nOpen VI-toolkit Connect-VIserver VCservername To add the extension, use the following command: Add-Module \u0026#34;D:\\\\Scripts\\\\viToolkitExtensions.psm1\u0026#34; Get-VM | Get-TkeSnapshotExtended | select Name, VM, SizeMB Output:\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2008/09/25/the-VMware-virtualcenter-server-service-terminated-unexpectedly/",
  "title": "The VMware VirtualCenter Server service terminated unexpectedly",
  "description": "",
  "date": "September 25, 2008",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "esx, virtualcenter, VMware",
  "tags": "error, virtualcenter, VMware",
  "content":"After rebooting the VMware VirtualCenter (VC) server, i was unable to logon using the VI-client in VC. In the Windows event log the following Error is listed:\nEvent Type: Error Event Source: Service Control Manager Event Category: None Event ID: 7031 Date: 25-9-2008 Time: 13:39:58 User: N/A Computer: VC1 Description: The VMware VirtualCenter Server service terminated unexpectedly. It has done this 1 time(s). The following corrective action will be taken in 300000 milliseconds: Restart the service.\nFor more information, see Help and Support Center at http://go.microsoft.com/fwlink/events.asp .\nIt seems that the VC server service is started before the SQL 2005 service is started. The solution is the delay the VirtualCenter service from starting till the Microsoft SQL 2005 service is started. Microsoft has a KB article \u0026ldquo;How to delay loading of specific services\u0026rdquo;. I did the following:\nOpen the regedit.exe and browse to the HKLM\\SYSTEM\\CurrentControlSet\\Services\\MSSQLSERVER (for MS SQL 2005 standard). So you know the name of the service.\nBrowse to HKLM\\SYSTEM\\CurrentControlSet\\Services\\vpxd and open the DependOnService property\nAdd the name MSSQLSERVER to this multi-string. Ensure that the last line is empty.\nClose the Registry Editor and restart the VirtualCenter server and test if it VMware VirtualCenter service starts.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2008/09/09/choosing-between-sql-2005-express-or-sql-standardenterprise-for-the-vc-database/",
  "title": "Choosing between SQL 2005 Express or SQL standard/Enterprise for the VC database",
  "description": "",
  "date": "September 9, 2008",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "virtualcenter, VMware-35",
  "tags": "sql, vc, virtualcenter",
  "content":"VMware VirtualCenter uses standard the Micrososft SQL Express 2005 database. The statement of VMware is:\nMicrosoft SQL Server 2005 Express is intended to be used for small deployments of up to 5 hosts and 50 virtual machines\nMicrosoft SQL 2005 Expresss supports 1 CPU, 1 GB of RAM and a maximum database size of 4 GB.\nThanks ablej for pointing.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2008/09/09/winners-vi-toolkit-scripting-contest/",
  "title": "Winners VI toolkit scripting contest",
  "description": "",
  "date": "September 9, 2008",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMare",
  "tags": "PowerShell, VI-Toolkit",
  "content":"The winners of the VI Toolkit scripting contest are announced:\nThe first prize goes to LucD Dekens for his Guest Provisioning System script. The Second prize goes to tzamora for his VMware Infrastructure Power Documenter script. The Third prize goes to Dan Baskette with his PowerVDI script. The VMware Healthcheck script that I created has not won. Congrats to all the contest winners! You can read the rest @ the VMware PowerShell Blog "},{
  "section": "Blog",
  "slug": "/logbook/site/2008/09/05/vi-toolkit-update-1-released/",
  "title": "VI Toolkit Update 1 released",
  "description": "",
  "date": "September 5, 2008",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware",
  "tags": "VMware, PowerShell, Automation",
  "content":"VMware has released VI Toolkit Update 1. There where performance problems with the get-VM command.\nSome users had reported slowness when using the Get-VM cmdlet . The reason turned out to be an odd quirk in querying some types of network adapters, so many people weren\u0026rsquo;t affected at all. On the other hand, if you were affected, it was pretty annoying. To address this we\u0026rsquo;ve released Update 1 of our toolkit . If you\u0026rsquo;ve had trouble with Get-VM, download it things will go a lot smoother. One user reported that his queries went from more than 5 minutes to just over 10 seconds \u0026ndash; a world of difference!\nThis is the only change we made to the toolkit, so don\u0026rsquo;t expect lots of new functionality when you download, you\u0026rsquo;ll have to wait a bit longer for that. If you haven\u0026rsquo;t had any trouble with 1.0 it\u0026rsquo;s perfectly fine to keep using it until the next release.\nAlso, many of you are probably eagerly anticipating the results of our scripting contest. I want to thank everyone for participating and point out that the entries are now open to the public. Check it out, there\u0026rsquo;s a lot of really great stuff in there.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2008/08/28/VMware-PowerShell-healthcheck-script/",
  "title": "VMware PowerShell Healthcheck script",
  "description": "",
  "date": "August 28, 2008",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware",
  "tags": "VMware, PowerShell, Automation",
  "content":"Healthcheck is a PowerShell script that reports information like snapshots, VMware tools version, datastore space, CDROM and/or floppy drives connected etc. to HTML and e-mail the output to a person or distribution list.\nReason for creating this script:\nAs VMware Consultant I see a lot of common problems in VMware environments like:\nSnapshots are enabled and forgot Datastores are almost full (for example if snapshots are enabled) VMware tools versions are different CDROM and floppy drives are still mounted to the VM Virtual Machines have CPU and Memory limits or reservations (VMs are swapping) In the VM, the VMware Tools timesync option is not enabled In the Virtual Infrastructure Client (VIC) it is difficult to see this sort of information. By creating a PowerShell script, I can do a quick inventory. In a lot of VMware environments I created a scheduled tasks, so the script runs once a week and sent to HTML rapport to the administrator.\nWhat does the script:\nI wrote a PowerShell script with HELP from the VMTN community that makes a HTML file and sent the output by e-mail to a person or distribution list. The Healthcheck script does the following checks:\nVMware ESX hardware VMware ESX versions VMware VirtualCenter versions Active snapshots CDROM and Floppy drive(s) mounted to the VM Datastore information like capacity, free space and the percentage free space VirtualMachine (VM) information like VMware tools version, CPU, Memory reservations and limits etc. On what VMs VMware Tools timesync is not enabled Requirements:\nThe following software must be installed:\nMicrosoft PowerShell 5.1 VMware Infrastucture (VI) toolkit for Windows 1.0 http://www.VMware.com/download/sdk/ Set the ExecutionPolicy in Windows PowerShell to RemoteSigned by using the following command: set-ExecutionPolicy RemoteSigned Installation:\nUnzip the Healthcheck.zip script to a directory on the VC server for example. When the ZIP if unpacked there are two files: Healthcheck.ps1, this is the PowerShell script Style.CSS, controls the HTML layout Configuration:\nEdit the PowerShell.ps1 file, edit the following variables: $vcserver=\u0026#34;localhost\u0026#34; Enter the VC server, if you execute the script on the VC server you can use the localhost name $filelocation=\u0026#34;D:\\\\temp\\\\Healthcheck.htm\u0026#34; Specify the location where to store the HTML output $enablemail=\u0026#34;yes\u0026#34; Enable (yes) or disable (no) to sent the script by e-mail $smtpServer = \u0026#34;mail.ivobeerens.nl\u0026#34; Specify the SMTP server in your network $mailfrom = \u0026#34;VMware Healtcheck \u0026lt;[PowerShell@ivobeerens.nl](mailto:PowerShell@ivobeerens.nl)\\\u0026gt;\u0026#34; Specify the from field $mailto = [ivo@ivobeerens.nl](mailto:ivo@ivobeerens.nl) Specify the address where the e-mail to sent to Usage:\nManually run the Healthcheck.ps1 script\u0026quot;:\nOpen PowerShell\nBrowse to the directory where the Healthcheck.ps1 script resides\nenter the command:\n./Healthcheck.ps1 To create a schedule task in for example Windows 2003 use the following syntax in the run property: PowerShell -command \u0026ldquo;\u0026amp; \u0026lsquo;path\\Healthcheck.ps1\u0026rsquo; edit the path\nPowerShell -command \u0026#34;\u0026amp; \u0026#39;path\\Healthcheck.ps1\u0026#39; edit the path .\nFuture:\nList Orphaned VMDK\u0026rsquo;s Add performance information like VM usage Check timesync on the VMware hosts Happy testing :-)\nDownload Link: Healthcheck script\nThe script is posted on the VMware PowerShell contest forum, link Some screenshots of the HTML output:\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2008/08/19/VMware-healthanalyzer-error-dataset-for-the-report-card-is-not-valid/",
  "title": "VMware HealthAnalyzer error &#34;Dataset for the report card is not valid&#34;.",
  "description": "",
  "date": "August 19, 2008",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "tools, VMware",
  "tags": "tools, VMware",
  "content":"VMware has released version 1.0 of VMware HealthAnalyzer. VMware HealthAnalyzer is an virtual appliance that collects and analyses the VMware configuration and analyses categorized by VMware Health check best practices. This tool can be uses by VMware consultants and VMware Authorized Consultant (VAC) partners.\nThe data can be exported to HTML and Microsoft Excel. Some screenshots from VMware HealthAnalyzer:\nThe VMware HealthAnalyzer Appliance started\nReport created\nESX hardware exported to Microsoft Excel.\nComplete report exported to HTML.\nI had problems using the VMware HealthAnalyzer on VMware VC 2.5 Update 2. When i try to Create a new Report Card i\u0026rsquo;ve got the following message:\nDataset for the report card is not valid. Dataset id=12 ; Datset File Name=/usr/share/ironman/capture/captureFiles/c20080817230624\nVMware has confirmed there is a known issue, VMware HealthAnalyzer is not able to parse the version of the SDK correctly and released a fix. The are coming soon with a new version.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2008/08/12/enhanced-vmotion-compatibility-evc/",
  "title": "Enhanced VMotion Compatibility EVC",
  "description": "",
  "date": "August 12, 2008",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware ESX",
  "tags": "VMware ESX",
  "content":"In VMware ESX 3.5 Update 2 Enhanced VMotion Compatibility (EVC) is introduced.. EVC makes it possible to VMotion between different CPU generations.\nProcessors included in the new enhanced VMotion compatibility for AMD are:\nFirst-Generation AMD Opteron ™ Rev. E AMD Second-Generation AMD Opteron Third-Generation AMD Opteron as well as future AMD Opteron™ processors. Intel Processors that are VMotion compatiblity:\nQuad-Core Intel® Xeon® processor 7300\nQuad core Intel Xeon processor 5100/5200/5300/5400 series, based on the Intel® Core™ microarchitecture\nFuture Xeon processors based on Enhanced Intel® Core™ Microarchitecture.\nVMotion between Intel and AMD processors is still NOT possible. Maybe in VMware ESX 4.\nMore information can be found in the \u0026ldquo;VMware VMotion and CPU Compatibility\u0026quot;guide.\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2008/08/12/esx-35-update-2-and-esxi-35-update-2-issue-with-product-license-to-expire/",
  "title": "ESX 3.5 Update 2 and ESXi 3.5 Update 2 issue with product license to expire",
  "description": "",
  "date": "August 12, 2008",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware ESX",
  "tags": "VMware ESX",
  "content":"You got the following error when powering on a VM:\nUnable to Power On virtual machine with “A General System error occurred: Internal error”\nAn issue has been uncovered with ESX 3.5 Update 2 and ESXi 3.5 Update 2 that causes the product license to expire on August 12. VMware is alerting customers and partners of this issue. VMware regrets the inconvenience caused to customers. Updated product bits with correct licensing will be made available for download as soon as possible.\nThe work-around: turn off NTP (if you\u0026rsquo;re using it), and then manually set the date of all ESX 3.5u2 hosts back to 10th of August. This can be done either through the VI Client (Host -\u0026gt; Configuration -\u0026gt; Time Configuration) or by typing date -s \u0026ldquo;08/10/2008\u0026rdquo; at the Service Console command line on the ESX hosts.\nThis seems to affect initial VM power-on (including from suspended state) and VMotion. On the VMTN forum there is a thread post about this problem, check it here Update:\nVMware has created a KB article: Unable to Power On virtual machine with “A General System error occurred: Internal error”\n"},{
  "section": "Blog",
  "slug": "/logbook/site/2008/08/08/extend-vmdk-disk-and-the-windows-disk/",
  "title": "How-to extend the VMDK and the Windows disk",
  "description": "",
  "date": "August 8, 2008",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware VM Troubleshooting",
  "tags": "VMware, VM, Troubleshooting",
  "content":"I see a lot of environments where the Virtual Machine (VM) disk space must be extended.\nPrior ESX 3.5 the way to extend a VDMK was to use the vmkfstools command with the -X parameter from the VMware ESX server console. With the coming of ESX 3.5 it is possible to extend the VMDK file when the VM was shutdown. Now with VMware ESX 3.5 Update 2 it is possible to online (hot) extend the VMDK file.\nIn the Virtual Infrastructure Client (VIC) go to the VM and edit the settings, click on the disk there is a property New Size (figure 1).\nFigure 1. The VM disk extend function\nThe first step is to see if there is enough free space on the LUN (datastore). You can check the disk space (realtime) by using the command vdf -h on the ESX server console or in a SSH session. Keep in mind to have a average of 10% free on the LUN for snapshots and swap files etc.\nIf the disk space on the LUN is okay you can extend the disk. In this example we extend the 16GB disk to 20GB.\nFigure 2. The VM disk extend function\nWhen the VMDK is extended the disk space must be added to the Windows volume. In the Windows Disk manager when using VMware ESX 3.5 Update 2, use the \u0026ldquo;Rescan Disks\u0026rdquo; function to discover the new added space when you use the hot extend function. The new added space is seen as Unallocated\nFigure 3. Windows disk manager\nTo extend the volume by using diskpart use the following commands:\nStart - run - type diskpart type list volume type select volume 1 type extend When trying to extend the C partition with diskpart you got the following message \u0026ldquo;The volume you have selected may not be extended\u0026rdquo; Figure 4. Diskpart tool\nIt is not possible to extend the system- and bootvolume by using the diskpart built-in command (for MS Vista, Windows 7 and Windows 2008 and higher you can extend the volume by using diskpart). For MS Windows XP and MS Windows 2003 there are other options you can use:\nAdd the system- and bootdisk volume to the other Virtuele Machine (VM) as disk. Start the other VM and use the diskpart command to extend this disk or use an 3e party partition tool.\nUse the command line tool from Dell called Extpart . Usage: expart [drive] [sizetoextend]\nUse the Gparted tool. You can download the ISO file from here . When the download completes upload the ISO file to your storage and attach and connect the ISO the to the VM.\nFigure 5. Connect the ISO file to the VM\nStart the VM, the ISO gets started\nFigure 6. Start the Gparted tool\nPress Enter Figure 7. Keymap choice\nPress OK Figure 8. Keyboard layout\nSelect your keyboard layout Figure 10. X-windows graphical warning\nPress Enter Figure 11. GParted Parition tool\nThe partition layout is displayed. Select the disk the extend and press Resize/Move Figure 12. Partition resize window\nEnter the new size or drag the bar the the right and press the Resize/ Move button Figure 13. Partition resize\nClick the Apply button Figure 14. Partition resize warning\nPress Apply Figure 15. Partition resize process\nIf the extending process completes and is successfully, reboot the system and disconnect the ISO from the VM and restart the VM. Figure 16. Windows Disk Manager\nAfter the reboot, open the Windows disk manager and you see the new space is added to the volume. "},{
  "section": "Blog",
  "slug": "/logbook/site/2008/08/07/enable-ssh-for-VMware-esx-3i/",
  "title": "Enable SSH for VMware ESX 3i",
  "description": "",
  "date": "August 7, 2008",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "VMware ESX",
  "tags": "VMware ESX",
  "content":"There is a hack to enable SSH for VMware ESX 3i. Here is the procedure to enable SSH\n– Boot ESXi and wait till the till\u0026quot;loaded\n– Press ALT-F1, you see the console screen\n– Type unsupported and press ENTER\n– Enter the root password\n– Enter the following command vi /etc/inetd.conf\n– Search for the #SSH row\n– Remove the # from the SSH row\n– Save the config by entering :wq!\n– Type ps | grep inetd on the console\n– Send a hangup signal by using the following command: kill -s HUP \u0026lt;PID\u0026gt;\nOpen now your favorite SSH client (for example Putty) and SSH to the VMware ESXi server.\n"}]
