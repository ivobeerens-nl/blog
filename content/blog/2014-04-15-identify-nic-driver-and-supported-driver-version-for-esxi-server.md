---
author: Ivo Beerens
categories:
- vSphere
date: "2014-04-15T16:56:26Z"
guid: http://www.ivobeerens.nl/?p=2758
id: 2758
ssb_fbshare_counts:
- "1"
ssb_old_counts:
- a:7:{s:10:"googleplus";i:0;s:7:"twitter";i:0;s:9:"pinterest";i:0;s:7:"fbshare";i:1;s:8:"linkedin";i:0;s:6:"reddit";i:0;s:6:"tumblr";i:0;}
ssb_total_counts:
- "1"
tags:
- esxi
- VMware
title: Identify the NIC driver and supported driver version for an ESXi server
url: /2014/04/15/identify-nic-driver-and-supported-driver-version-for-esxi-server/
yarpp_meta:
- a:1:{s:27:"yarpp_display_for_this_post";i:1;}
---

Lately, I troubleshooted some NIC driver problems in VMware ESXi. During the troubleshooting, I needed to Identify the NIC driver, the software version used, and the latest driver version supported by VMware. Here are the steps outlined.

#### Identify the NIC driver and software version:

- Make an SSH connection to the ESXi host
- Identify all the NICs by using the following command: *<span style="font-family: 'Courier New';">esxcli network nic list</span>*

[![image](http://localhost/wp-content/uploads/2014/04/image1_thumb.png "image")](http://localhost/wp-content/uploads/2014/04/image11.png)

- In this example you can see that Intel (igb) and Broadcom (tg3) NICs are used.
- To identify the driver version of the Broadcom NIC (vmnic0) use the following command: *esxcli network nic get -n “vmnic0”*

> driver: **tg3** version: **3.135b.v50.1** firmware-version: **FFV7.6.14 bc 5720-v1.31** bus-info: 0000:01:00.0

#### Identify the latest NIC driver supported by VMware:

- We need to find the hardware IDs of the NIC by using the following command: *<span style="font-family: 'Courier New';">vmkchdev -L | grep “vmnic”</span>*

[![image](http://localhost/wp-content/uploads/2014/04/image3_thumb.png "image")](http://localhost/wp-content/uploads/2014/04/image31.png)

The hardware ID contains the following parts:

> VID = Vendor Id (Red part)  
> DID = Device Id (Yellow part)  
> SVID = Sub-Vendor Id (Green part)  
> SSID = Sub-Device Id (Blue part)

- Open the VMware Compatibility Guide (HCL) webpage and choose IO Devices, [Link](http://www.vmware.com/resources/compatibility/search.php?deviceCategory=io)

[![image](http://localhost/wp-content/uploads/2014/04/image10_thumb.png "image")](http://localhost/wp-content/uploads/2014/04/image10.png)

- On the right you see the “Additional Criteria” column. Enter the VID, DID, SVID, and SSID generated by the “vmkchdev” command

[![image](http://localhost/wp-content/uploads/2014/04/image14_thumb.png "image")](http://localhost/wp-content/uploads/2014/04/image14.png)

- Click the “Update and View Results” button
- The NIC is displayed, click on the Model

[![image](http://localhost/wp-content/uploads/2014/04/image17_thumb.png "image")](http://localhost/wp-content/uploads/2014/04/image17.png)

- Expand the version of ESXi (release) used. Click on the the Download link (if exist).

[![image](http://localhost/wp-content/uploads/2014/04/image21_thumb.png "image")](http://localhost/wp-content/uploads/2014/04/image21.png)

- Download the driver and use VMware Update Manager (VUM) or use “<span style="font-family: 'Courier New';">esxcli software vib update</span>” command to install the driver

[![image](http://localhost/wp-content/uploads/2014/04/image26_thumb.png "image")](http://localhost/wp-content/uploads/2014/04/image26.png)
